{"version":3,"file":"Dashboard-C-R4U150.js","sources":["../../node_modules/lucide-react/dist/esm/icons/activity.js","../../node_modules/lucide-react/dist/esm/icons/arrow-right.js","../../node_modules/lucide-react/dist/esm/icons/circle-dashed.js","../../node_modules/lucide-react/dist/esm/icons/circle-dollar-sign.js","../../node_modules/lucide-react/dist/esm/icons/cloud.js","../../node_modules/lucide-react/dist/esm/icons/droplets.js","../../node_modules/lucide-react/dist/esm/icons/flame.js","../../node_modules/lucide-react/dist/esm/icons/globe.js","../../node_modules/lucide-react/dist/esm/icons/heart.js","../../node_modules/lucide-react/dist/esm/icons/lightbulb.js","../../node_modules/lucide-react/dist/esm/icons/moon.js","../../node_modules/lucide-react/dist/esm/icons/mountain.js","../../node_modules/lucide-react/dist/esm/icons/newspaper.js","../../node_modules/lucide-react/dist/esm/icons/skull.js","../../node_modules/lucide-react/dist/esm/icons/sparkle.js","../../node_modules/lucide-react/dist/esm/icons/sparkles.js","../../node_modules/lucide-react/dist/esm/icons/sun.js","../../node_modules/lucide-react/dist/esm/icons/wind.js","../../node_modules/zod/dist/esm/v3/helpers/util.js","../../node_modules/zod/dist/esm/v3/ZodError.js","../../node_modules/zod/dist/esm/v3/locales/en.js","../../node_modules/zod/dist/esm/v3/errors.js","../../node_modules/zod/dist/esm/v3/helpers/parseUtil.js","../../node_modules/zod/dist/esm/v3/helpers/errorUtil.js","../../node_modules/zod/dist/esm/v3/types.js","../../src/utils/aspectInterpretations.ts","../../src/hooks/useAstroData.ts","../../src/utils/sportsPredictions.ts","../../src/components/dashboard/TopPlayersCarousel.tsx","../../src/integrations/supabase/client.ts","../../src/hooks/useTopPlayers.ts","../../src/utils/planetColors.ts","../../src/components/CosmicWaveProgress.tsx","../../src/utils/astroUtils.tsx","../../src/utils/astroIcons.tsx","../../src/components/dashboard/KeyPlanetaryInfluences.tsx","../../src/components/dashboard/SolarInfluenceInsights.tsx","../../src/components/dashboard/ElementalBalance.tsx","../../src/pages/Dashboard.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Activity = createLucideIcon(\"Activity\", [\n  [\n    \"path\",\n    {\n      d: \"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2\",\n      key: \"169zse\"\n    }\n  ]\n]);\n\nexport { Activity as default };\n//# sourceMappingURL=activity.js.map\n","/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ArrowRight = createLucideIcon(\"ArrowRight\", [\n  [\"path\", { d: \"M5 12h14\", key: \"1ays0h\" }],\n  [\"path\", { d: \"m12 5 7 7-7 7\", key: \"xquz4c\" }]\n]);\n\nexport { ArrowRight as default };\n//# sourceMappingURL=arrow-right.js.map\n","/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst CircleDashed = createLucideIcon(\"CircleDashed\", [\n  [\"path\", { d: \"M10.1 2.182a10 10 0 0 1 3.8 0\", key: \"5ilxe3\" }],\n  [\"path\", { d: \"M13.9 21.818a10 10 0 0 1-3.8 0\", key: \"11zvb9\" }],\n  [\"path\", { d: \"M17.609 3.721a10 10 0 0 1 2.69 2.7\", key: \"1iw5b2\" }],\n  [\"path\", { d: \"M2.182 13.9a10 10 0 0 1 0-3.8\", key: \"c0bmvh\" }],\n  [\"path\", { d: \"M20.279 17.609a10 10 0 0 1-2.7 2.69\", key: \"1ruxm7\" }],\n  [\"path\", { d: \"M21.818 10.1a10 10 0 0 1 0 3.8\", key: \"qkgqxc\" }],\n  [\"path\", { d: \"M3.721 6.391a10 10 0 0 1 2.7-2.69\", key: \"1mcia2\" }],\n  [\"path\", { d: \"M6.391 20.279a10 10 0 0 1-2.69-2.7\", key: \"1fvljs\" }]\n]);\n\nexport { CircleDashed as default };\n//# sourceMappingURL=circle-dashed.js.map\n","/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst CircleDollarSign = createLucideIcon(\"CircleDollarSign\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"path\", { d: \"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8\", key: \"1h4pet\" }],\n  [\"path\", { d: \"M12 18V6\", key: \"zqpxq5\" }]\n]);\n\nexport { CircleDollarSign as default };\n//# sourceMappingURL=circle-dollar-sign.js.map\n","/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Cloud = createLucideIcon(\"Cloud\", [\n  [\"path\", { d: \"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z\", key: \"p7xjir\" }]\n]);\n\nexport { Cloud as default };\n//# sourceMappingURL=cloud.js.map\n","/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Droplets = createLucideIcon(\"Droplets\", [\n  [\n    \"path\",\n    {\n      d: \"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z\",\n      key: \"1ptgy4\"\n    }\n  ],\n  [\n    \"path\",\n    {\n      d: \"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97\",\n      key: \"1sl1rz\"\n    }\n  ]\n]);\n\nexport { Droplets as default };\n//# sourceMappingURL=droplets.js.map\n","/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Flame = createLucideIcon(\"Flame\", [\n  [\n    \"path\",\n    {\n      d: \"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z\",\n      key: \"96xj49\"\n    }\n  ]\n]);\n\nexport { Flame as default };\n//# sourceMappingURL=flame.js.map\n","/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Globe = createLucideIcon(\"Globe\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"path\", { d: \"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20\", key: \"13o1zl\" }],\n  [\"path\", { d: \"M2 12h20\", key: \"9i4pu4\" }]\n]);\n\nexport { Globe as default };\n//# sourceMappingURL=globe.js.map\n","/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Heart = createLucideIcon(\"Heart\", [\n  [\n    \"path\",\n    {\n      d: \"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z\",\n      key: \"c3ymky\"\n    }\n  ]\n]);\n\nexport { Heart as default };\n//# sourceMappingURL=heart.js.map\n","/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Lightbulb = createLucideIcon(\"Lightbulb\", [\n  [\n    \"path\",\n    {\n      d: \"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5\",\n      key: \"1gvzjb\"\n    }\n  ],\n  [\"path\", { d: \"M9 18h6\", key: \"x1upvd\" }],\n  [\"path\", { d: \"M10 22h4\", key: \"ceow96\" }]\n]);\n\nexport { Lightbulb as default };\n//# sourceMappingURL=lightbulb.js.map\n","/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Moon = createLucideIcon(\"Moon\", [\n  [\"path\", { d: \"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z\", key: \"a7tn18\" }]\n]);\n\nexport { Moon as default };\n//# sourceMappingURL=moon.js.map\n","/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Mountain = createLucideIcon(\"Mountain\", [\n  [\"path\", { d: \"m8 3 4 8 5-5 5 15H2L8 3z\", key: \"otkl63\" }]\n]);\n\nexport { Mountain as default };\n//# sourceMappingURL=mountain.js.map\n","/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Newspaper = createLucideIcon(\"Newspaper\", [\n  [\n    \"path\",\n    {\n      d: \"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2\",\n      key: \"7pis2x\"\n    }\n  ],\n  [\"path\", { d: \"M18 14h-8\", key: \"sponae\" }],\n  [\"path\", { d: \"M15 18h-5\", key: \"95g1m2\" }],\n  [\"path\", { d: \"M10 6h8v4h-8V6Z\", key: \"smlsk5\" }]\n]);\n\nexport { Newspaper as default };\n//# sourceMappingURL=newspaper.js.map\n","/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Skull = createLucideIcon(\"Skull\", [\n  [\"path\", { d: \"m12.5 17-.5-1-.5 1h1z\", key: \"3me087\" }],\n  [\n    \"path\",\n    {\n      d: \"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z\",\n      key: \"1o5pge\"\n    }\n  ],\n  [\"circle\", { cx: \"15\", cy: \"12\", r: \"1\", key: \"1tmaij\" }],\n  [\"circle\", { cx: \"9\", cy: \"12\", r: \"1\", key: \"1vctgf\" }]\n]);\n\nexport { Skull as default };\n//# sourceMappingURL=skull.js.map\n","/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Sparkle = createLucideIcon(\"Sparkle\", [\n  [\n    \"path\",\n    {\n      d: \"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z\",\n      key: \"4pj2yx\"\n    }\n  ]\n]);\n\nexport { Sparkle as default };\n//# sourceMappingURL=sparkle.js.map\n","/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Sparkles = createLucideIcon(\"Sparkles\", [\n  [\n    \"path\",\n    {\n      d: \"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z\",\n      key: \"4pj2yx\"\n    }\n  ],\n  [\"path\", { d: \"M20 3v4\", key: \"1olli1\" }],\n  [\"path\", { d: \"M22 5h-4\", key: \"1gvqau\" }],\n  [\"path\", { d: \"M4 17v2\", key: \"vumght\" }],\n  [\"path\", { d: \"M5 18H3\", key: \"zchphs\" }]\n]);\n\nexport { Sparkles as default };\n//# sourceMappingURL=sparkles.js.map\n","/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Sun = createLucideIcon(\"Sun\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"4\", key: \"4exip2\" }],\n  [\"path\", { d: \"M12 2v2\", key: \"tus03m\" }],\n  [\"path\", { d: \"M12 20v2\", key: \"1lh1kg\" }],\n  [\"path\", { d: \"m4.93 4.93 1.41 1.41\", key: \"149t6j\" }],\n  [\"path\", { d: \"m17.66 17.66 1.41 1.41\", key: \"ptbguv\" }],\n  [\"path\", { d: \"M2 12h2\", key: \"1t8f8n\" }],\n  [\"path\", { d: \"M20 12h2\", key: \"1q8mjw\" }],\n  [\"path\", { d: \"m6.34 17.66-1.41 1.41\", key: \"1m8zz5\" }],\n  [\"path\", { d: \"m19.07 4.93-1.41 1.41\", key: \"1shlcs\" }]\n]);\n\nexport { Sun as default };\n//# sourceMappingURL=sun.js.map\n","/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Wind = createLucideIcon(\"Wind\", [\n  [\"path\", { d: \"M12.8 19.6A2 2 0 1 0 14 16H2\", key: \"148xed\" }],\n  [\"path\", { d: \"M17.5 8a2.5 2.5 0 1 1 2 4H2\", key: \"1u4tom\" }],\n  [\"path\", { d: \"M9.8 4.4A2 2 0 1 1 11 8H2\", key: \"75valh\" }]\n]);\n\nexport { Wind as default };\n//# sourceMappingURL=wind.js.map\n","export var util;\n(function (util) {\n    util.assertEqual = (_) => { };\n    function assertIs(_arg) { }\n    util.assertIs = assertIs;\n    function assertNever(_x) {\n        throw new Error();\n    }\n    util.assertNever = assertNever;\n    util.arrayToEnum = (items) => {\n        const obj = {};\n        for (const item of items) {\n            obj[item] = item;\n        }\n        return obj;\n    };\n    util.getValidEnumValues = (obj) => {\n        const validKeys = util.objectKeys(obj).filter((k) => typeof obj[obj[k]] !== \"number\");\n        const filtered = {};\n        for (const k of validKeys) {\n            filtered[k] = obj[k];\n        }\n        return util.objectValues(filtered);\n    };\n    util.objectValues = (obj) => {\n        return util.objectKeys(obj).map(function (e) {\n            return obj[e];\n        });\n    };\n    util.objectKeys = typeof Object.keys === \"function\" // eslint-disable-line ban/ban\n        ? (obj) => Object.keys(obj) // eslint-disable-line ban/ban\n        : (object) => {\n            const keys = [];\n            for (const key in object) {\n                if (Object.prototype.hasOwnProperty.call(object, key)) {\n                    keys.push(key);\n                }\n            }\n            return keys;\n        };\n    util.find = (arr, checker) => {\n        for (const item of arr) {\n            if (checker(item))\n                return item;\n        }\n        return undefined;\n    };\n    util.isInteger = typeof Number.isInteger === \"function\"\n        ? (val) => Number.isInteger(val) // eslint-disable-line ban/ban\n        : (val) => typeof val === \"number\" && Number.isFinite(val) && Math.floor(val) === val;\n    function joinValues(array, separator = \" | \") {\n        return array.map((val) => (typeof val === \"string\" ? `'${val}'` : val)).join(separator);\n    }\n    util.joinValues = joinValues;\n    util.jsonStringifyReplacer = (_, value) => {\n        if (typeof value === \"bigint\") {\n            return value.toString();\n        }\n        return value;\n    };\n})(util || (util = {}));\nexport var objectUtil;\n(function (objectUtil) {\n    objectUtil.mergeShapes = (first, second) => {\n        return {\n            ...first,\n            ...second, // second overwrites first\n        };\n    };\n})(objectUtil || (objectUtil = {}));\nexport const ZodParsedType = util.arrayToEnum([\n    \"string\",\n    \"nan\",\n    \"number\",\n    \"integer\",\n    \"float\",\n    \"boolean\",\n    \"date\",\n    \"bigint\",\n    \"symbol\",\n    \"function\",\n    \"undefined\",\n    \"null\",\n    \"array\",\n    \"object\",\n    \"unknown\",\n    \"promise\",\n    \"void\",\n    \"never\",\n    \"map\",\n    \"set\",\n]);\nexport const getParsedType = (data) => {\n    const t = typeof data;\n    switch (t) {\n        case \"undefined\":\n            return ZodParsedType.undefined;\n        case \"string\":\n            return ZodParsedType.string;\n        case \"number\":\n            return Number.isNaN(data) ? ZodParsedType.nan : ZodParsedType.number;\n        case \"boolean\":\n            return ZodParsedType.boolean;\n        case \"function\":\n            return ZodParsedType.function;\n        case \"bigint\":\n            return ZodParsedType.bigint;\n        case \"symbol\":\n            return ZodParsedType.symbol;\n        case \"object\":\n            if (Array.isArray(data)) {\n                return ZodParsedType.array;\n            }\n            if (data === null) {\n                return ZodParsedType.null;\n            }\n            if (data.then && typeof data.then === \"function\" && data.catch && typeof data.catch === \"function\") {\n                return ZodParsedType.promise;\n            }\n            if (typeof Map !== \"undefined\" && data instanceof Map) {\n                return ZodParsedType.map;\n            }\n            if (typeof Set !== \"undefined\" && data instanceof Set) {\n                return ZodParsedType.set;\n            }\n            if (typeof Date !== \"undefined\" && data instanceof Date) {\n                return ZodParsedType.date;\n            }\n            return ZodParsedType.object;\n        default:\n            return ZodParsedType.unknown;\n    }\n};\n","import { util } from \"./helpers/util.js\";\nexport const ZodIssueCode = util.arrayToEnum([\n    \"invalid_type\",\n    \"invalid_literal\",\n    \"custom\",\n    \"invalid_union\",\n    \"invalid_union_discriminator\",\n    \"invalid_enum_value\",\n    \"unrecognized_keys\",\n    \"invalid_arguments\",\n    \"invalid_return_type\",\n    \"invalid_date\",\n    \"invalid_string\",\n    \"too_small\",\n    \"too_big\",\n    \"invalid_intersection_types\",\n    \"not_multiple_of\",\n    \"not_finite\",\n]);\nexport const quotelessJson = (obj) => {\n    const json = JSON.stringify(obj, null, 2);\n    return json.replace(/\"([^\"]+)\":/g, \"$1:\");\n};\nexport class ZodError extends Error {\n    get errors() {\n        return this.issues;\n    }\n    constructor(issues) {\n        super();\n        this.issues = [];\n        this.addIssue = (sub) => {\n            this.issues = [...this.issues, sub];\n        };\n        this.addIssues = (subs = []) => {\n            this.issues = [...this.issues, ...subs];\n        };\n        const actualProto = new.target.prototype;\n        if (Object.setPrototypeOf) {\n            // eslint-disable-next-line ban/ban\n            Object.setPrototypeOf(this, actualProto);\n        }\n        else {\n            this.__proto__ = actualProto;\n        }\n        this.name = \"ZodError\";\n        this.issues = issues;\n    }\n    format(_mapper) {\n        const mapper = _mapper ||\n            function (issue) {\n                return issue.message;\n            };\n        const fieldErrors = { _errors: [] };\n        const processError = (error) => {\n            for (const issue of error.issues) {\n                if (issue.code === \"invalid_union\") {\n                    issue.unionErrors.map(processError);\n                }\n                else if (issue.code === \"invalid_return_type\") {\n                    processError(issue.returnTypeError);\n                }\n                else if (issue.code === \"invalid_arguments\") {\n                    processError(issue.argumentsError);\n                }\n                else if (issue.path.length === 0) {\n                    fieldErrors._errors.push(mapper(issue));\n                }\n                else {\n                    let curr = fieldErrors;\n                    let i = 0;\n                    while (i < issue.path.length) {\n                        const el = issue.path[i];\n                        const terminal = i === issue.path.length - 1;\n                        if (!terminal) {\n                            curr[el] = curr[el] || { _errors: [] };\n                            // if (typeof el === \"string\") {\n                            //   curr[el] = curr[el] || { _errors: [] };\n                            // } else if (typeof el === \"number\") {\n                            //   const errorArray: any = [];\n                            //   errorArray._errors = [];\n                            //   curr[el] = curr[el] || errorArray;\n                            // }\n                        }\n                        else {\n                            curr[el] = curr[el] || { _errors: [] };\n                            curr[el]._errors.push(mapper(issue));\n                        }\n                        curr = curr[el];\n                        i++;\n                    }\n                }\n            }\n        };\n        processError(this);\n        return fieldErrors;\n    }\n    static assert(value) {\n        if (!(value instanceof ZodError)) {\n            throw new Error(`Not a ZodError: ${value}`);\n        }\n    }\n    toString() {\n        return this.message;\n    }\n    get message() {\n        return JSON.stringify(this.issues, util.jsonStringifyReplacer, 2);\n    }\n    get isEmpty() {\n        return this.issues.length === 0;\n    }\n    flatten(mapper = (issue) => issue.message) {\n        const fieldErrors = {};\n        const formErrors = [];\n        for (const sub of this.issues) {\n            if (sub.path.length > 0) {\n                fieldErrors[sub.path[0]] = fieldErrors[sub.path[0]] || [];\n                fieldErrors[sub.path[0]].push(mapper(sub));\n            }\n            else {\n                formErrors.push(mapper(sub));\n            }\n        }\n        return { formErrors, fieldErrors };\n    }\n    get formErrors() {\n        return this.flatten();\n    }\n}\nZodError.create = (issues) => {\n    const error = new ZodError(issues);\n    return error;\n};\n","import { ZodIssueCode } from \"../ZodError.js\";\nimport { util, ZodParsedType } from \"../helpers/util.js\";\nconst errorMap = (issue, _ctx) => {\n    let message;\n    switch (issue.code) {\n        case ZodIssueCode.invalid_type:\n            if (issue.received === ZodParsedType.undefined) {\n                message = \"Required\";\n            }\n            else {\n                message = `Expected ${issue.expected}, received ${issue.received}`;\n            }\n            break;\n        case ZodIssueCode.invalid_literal:\n            message = `Invalid literal value, expected ${JSON.stringify(issue.expected, util.jsonStringifyReplacer)}`;\n            break;\n        case ZodIssueCode.unrecognized_keys:\n            message = `Unrecognized key(s) in object: ${util.joinValues(issue.keys, \", \")}`;\n            break;\n        case ZodIssueCode.invalid_union:\n            message = `Invalid input`;\n            break;\n        case ZodIssueCode.invalid_union_discriminator:\n            message = `Invalid discriminator value. Expected ${util.joinValues(issue.options)}`;\n            break;\n        case ZodIssueCode.invalid_enum_value:\n            message = `Invalid enum value. Expected ${util.joinValues(issue.options)}, received '${issue.received}'`;\n            break;\n        case ZodIssueCode.invalid_arguments:\n            message = `Invalid function arguments`;\n            break;\n        case ZodIssueCode.invalid_return_type:\n            message = `Invalid function return type`;\n            break;\n        case ZodIssueCode.invalid_date:\n            message = `Invalid date`;\n            break;\n        case ZodIssueCode.invalid_string:\n            if (typeof issue.validation === \"object\") {\n                if (\"includes\" in issue.validation) {\n                    message = `Invalid input: must include \"${issue.validation.includes}\"`;\n                    if (typeof issue.validation.position === \"number\") {\n                        message = `${message} at one or more positions greater than or equal to ${issue.validation.position}`;\n                    }\n                }\n                else if (\"startsWith\" in issue.validation) {\n                    message = `Invalid input: must start with \"${issue.validation.startsWith}\"`;\n                }\n                else if (\"endsWith\" in issue.validation) {\n                    message = `Invalid input: must end with \"${issue.validation.endsWith}\"`;\n                }\n                else {\n                    util.assertNever(issue.validation);\n                }\n            }\n            else if (issue.validation !== \"regex\") {\n                message = `Invalid ${issue.validation}`;\n            }\n            else {\n                message = \"Invalid\";\n            }\n            break;\n        case ZodIssueCode.too_small:\n            if (issue.type === \"array\")\n                message = `Array must contain ${issue.exact ? \"exactly\" : issue.inclusive ? `at least` : `more than`} ${issue.minimum} element(s)`;\n            else if (issue.type === \"string\")\n                message = `String must contain ${issue.exact ? \"exactly\" : issue.inclusive ? `at least` : `over`} ${issue.minimum} character(s)`;\n            else if (issue.type === \"number\")\n                message = `Number must be ${issue.exact ? `exactly equal to ` : issue.inclusive ? `greater than or equal to ` : `greater than `}${issue.minimum}`;\n            else if (issue.type === \"date\")\n                message = `Date must be ${issue.exact ? `exactly equal to ` : issue.inclusive ? `greater than or equal to ` : `greater than `}${new Date(Number(issue.minimum))}`;\n            else\n                message = \"Invalid input\";\n            break;\n        case ZodIssueCode.too_big:\n            if (issue.type === \"array\")\n                message = `Array must contain ${issue.exact ? `exactly` : issue.inclusive ? `at most` : `less than`} ${issue.maximum} element(s)`;\n            else if (issue.type === \"string\")\n                message = `String must contain ${issue.exact ? `exactly` : issue.inclusive ? `at most` : `under`} ${issue.maximum} character(s)`;\n            else if (issue.type === \"number\")\n                message = `Number must be ${issue.exact ? `exactly` : issue.inclusive ? `less than or equal to` : `less than`} ${issue.maximum}`;\n            else if (issue.type === \"bigint\")\n                message = `BigInt must be ${issue.exact ? `exactly` : issue.inclusive ? `less than or equal to` : `less than`} ${issue.maximum}`;\n            else if (issue.type === \"date\")\n                message = `Date must be ${issue.exact ? `exactly` : issue.inclusive ? `smaller than or equal to` : `smaller than`} ${new Date(Number(issue.maximum))}`;\n            else\n                message = \"Invalid input\";\n            break;\n        case ZodIssueCode.custom:\n            message = `Invalid input`;\n            break;\n        case ZodIssueCode.invalid_intersection_types:\n            message = `Intersection results could not be merged`;\n            break;\n        case ZodIssueCode.not_multiple_of:\n            message = `Number must be a multiple of ${issue.multipleOf}`;\n            break;\n        case ZodIssueCode.not_finite:\n            message = \"Number must be finite\";\n            break;\n        default:\n            message = _ctx.defaultError;\n            util.assertNever(issue);\n    }\n    return { message };\n};\nexport default errorMap;\n","import defaultErrorMap from \"./locales/en.js\";\nlet overrideErrorMap = defaultErrorMap;\nexport { defaultErrorMap };\nexport function setErrorMap(map) {\n    overrideErrorMap = map;\n}\nexport function getErrorMap() {\n    return overrideErrorMap;\n}\n","import { getErrorMap } from \"../errors.js\";\nimport defaultErrorMap from \"../locales/en.js\";\nexport const makeIssue = (params) => {\n    const { data, path, errorMaps, issueData } = params;\n    const fullPath = [...path, ...(issueData.path || [])];\n    const fullIssue = {\n        ...issueData,\n        path: fullPath,\n    };\n    if (issueData.message !== undefined) {\n        return {\n            ...issueData,\n            path: fullPath,\n            message: issueData.message,\n        };\n    }\n    let errorMessage = \"\";\n    const maps = errorMaps\n        .filter((m) => !!m)\n        .slice()\n        .reverse();\n    for (const map of maps) {\n        errorMessage = map(fullIssue, { data, defaultError: errorMessage }).message;\n    }\n    return {\n        ...issueData,\n        path: fullPath,\n        message: errorMessage,\n    };\n};\nexport const EMPTY_PATH = [];\nexport function addIssueToContext(ctx, issueData) {\n    const overrideMap = getErrorMap();\n    const issue = makeIssue({\n        issueData: issueData,\n        data: ctx.data,\n        path: ctx.path,\n        errorMaps: [\n            ctx.common.contextualErrorMap, // contextual error map is first priority\n            ctx.schemaErrorMap, // then schema-bound map if available\n            overrideMap, // then global override map\n            overrideMap === defaultErrorMap ? undefined : defaultErrorMap, // then global default map\n        ].filter((x) => !!x),\n    });\n    ctx.common.issues.push(issue);\n}\nexport class ParseStatus {\n    constructor() {\n        this.value = \"valid\";\n    }\n    dirty() {\n        if (this.value === \"valid\")\n            this.value = \"dirty\";\n    }\n    abort() {\n        if (this.value !== \"aborted\")\n            this.value = \"aborted\";\n    }\n    static mergeArray(status, results) {\n        const arrayValue = [];\n        for (const s of results) {\n            if (s.status === \"aborted\")\n                return INVALID;\n            if (s.status === \"dirty\")\n                status.dirty();\n            arrayValue.push(s.value);\n        }\n        return { status: status.value, value: arrayValue };\n    }\n    static async mergeObjectAsync(status, pairs) {\n        const syncPairs = [];\n        for (const pair of pairs) {\n            const key = await pair.key;\n            const value = await pair.value;\n            syncPairs.push({\n                key,\n                value,\n            });\n        }\n        return ParseStatus.mergeObjectSync(status, syncPairs);\n    }\n    static mergeObjectSync(status, pairs) {\n        const finalObject = {};\n        for (const pair of pairs) {\n            const { key, value } = pair;\n            if (key.status === \"aborted\")\n                return INVALID;\n            if (value.status === \"aborted\")\n                return INVALID;\n            if (key.status === \"dirty\")\n                status.dirty();\n            if (value.status === \"dirty\")\n                status.dirty();\n            if (key.value !== \"__proto__\" && (typeof value.value !== \"undefined\" || pair.alwaysSet)) {\n                finalObject[key.value] = value.value;\n            }\n        }\n        return { status: status.value, value: finalObject };\n    }\n}\nexport const INVALID = Object.freeze({\n    status: \"aborted\",\n});\nexport const DIRTY = (value) => ({ status: \"dirty\", value });\nexport const OK = (value) => ({ status: \"valid\", value });\nexport const isAborted = (x) => x.status === \"aborted\";\nexport const isDirty = (x) => x.status === \"dirty\";\nexport const isValid = (x) => x.status === \"valid\";\nexport const isAsync = (x) => typeof Promise !== \"undefined\" && x instanceof Promise;\n","export var errorUtil;\n(function (errorUtil) {\n    errorUtil.errToObj = (message) => typeof message === \"string\" ? { message } : message || {};\n    // biome-ignore lint:\n    errorUtil.toString = (message) => typeof message === \"string\" ? message : message?.message;\n})(errorUtil || (errorUtil = {}));\n","import { ZodError, ZodIssueCode, } from \"./ZodError.js\";\nimport { defaultErrorMap, getErrorMap } from \"./errors.js\";\nimport { errorUtil } from \"./helpers/errorUtil.js\";\nimport { DIRTY, INVALID, OK, ParseStatus, addIssueToContext, isAborted, isAsync, isDirty, isValid, makeIssue, } from \"./helpers/parseUtil.js\";\nimport { util, ZodParsedType, getParsedType } from \"./helpers/util.js\";\nclass ParseInputLazyPath {\n    constructor(parent, value, path, key) {\n        this._cachedPath = [];\n        this.parent = parent;\n        this.data = value;\n        this._path = path;\n        this._key = key;\n    }\n    get path() {\n        if (!this._cachedPath.length) {\n            if (Array.isArray(this._key)) {\n                this._cachedPath.push(...this._path, ...this._key);\n            }\n            else {\n                this._cachedPath.push(...this._path, this._key);\n            }\n        }\n        return this._cachedPath;\n    }\n}\nconst handleResult = (ctx, result) => {\n    if (isValid(result)) {\n        return { success: true, data: result.value };\n    }\n    else {\n        if (!ctx.common.issues.length) {\n            throw new Error(\"Validation failed but no issues detected.\");\n        }\n        return {\n            success: false,\n            get error() {\n                if (this._error)\n                    return this._error;\n                const error = new ZodError(ctx.common.issues);\n                this._error = error;\n                return this._error;\n            },\n        };\n    }\n};\nfunction processCreateParams(params) {\n    if (!params)\n        return {};\n    const { errorMap, invalid_type_error, required_error, description } = params;\n    if (errorMap && (invalid_type_error || required_error)) {\n        throw new Error(`Can't use \"invalid_type_error\" or \"required_error\" in conjunction with custom error map.`);\n    }\n    if (errorMap)\n        return { errorMap: errorMap, description };\n    const customMap = (iss, ctx) => {\n        const { message } = params;\n        if (iss.code === \"invalid_enum_value\") {\n            return { message: message ?? ctx.defaultError };\n        }\n        if (typeof ctx.data === \"undefined\") {\n            return { message: message ?? required_error ?? ctx.defaultError };\n        }\n        if (iss.code !== \"invalid_type\")\n            return { message: ctx.defaultError };\n        return { message: message ?? invalid_type_error ?? ctx.defaultError };\n    };\n    return { errorMap: customMap, description };\n}\nexport class ZodType {\n    get description() {\n        return this._def.description;\n    }\n    _getType(input) {\n        return getParsedType(input.data);\n    }\n    _getOrReturnCtx(input, ctx) {\n        return (ctx || {\n            common: input.parent.common,\n            data: input.data,\n            parsedType: getParsedType(input.data),\n            schemaErrorMap: this._def.errorMap,\n            path: input.path,\n            parent: input.parent,\n        });\n    }\n    _processInputParams(input) {\n        return {\n            status: new ParseStatus(),\n            ctx: {\n                common: input.parent.common,\n                data: input.data,\n                parsedType: getParsedType(input.data),\n                schemaErrorMap: this._def.errorMap,\n                path: input.path,\n                parent: input.parent,\n            },\n        };\n    }\n    _parseSync(input) {\n        const result = this._parse(input);\n        if (isAsync(result)) {\n            throw new Error(\"Synchronous parse encountered promise.\");\n        }\n        return result;\n    }\n    _parseAsync(input) {\n        const result = this._parse(input);\n        return Promise.resolve(result);\n    }\n    parse(data, params) {\n        const result = this.safeParse(data, params);\n        if (result.success)\n            return result.data;\n        throw result.error;\n    }\n    safeParse(data, params) {\n        const ctx = {\n            common: {\n                issues: [],\n                async: params?.async ?? false,\n                contextualErrorMap: params?.errorMap,\n            },\n            path: params?.path || [],\n            schemaErrorMap: this._def.errorMap,\n            parent: null,\n            data,\n            parsedType: getParsedType(data),\n        };\n        const result = this._parseSync({ data, path: ctx.path, parent: ctx });\n        return handleResult(ctx, result);\n    }\n    \"~validate\"(data) {\n        const ctx = {\n            common: {\n                issues: [],\n                async: !!this[\"~standard\"].async,\n            },\n            path: [],\n            schemaErrorMap: this._def.errorMap,\n            parent: null,\n            data,\n            parsedType: getParsedType(data),\n        };\n        if (!this[\"~standard\"].async) {\n            try {\n                const result = this._parseSync({ data, path: [], parent: ctx });\n                return isValid(result)\n                    ? {\n                        value: result.value,\n                    }\n                    : {\n                        issues: ctx.common.issues,\n                    };\n            }\n            catch (err) {\n                if (err?.message?.toLowerCase()?.includes(\"encountered\")) {\n                    this[\"~standard\"].async = true;\n                }\n                ctx.common = {\n                    issues: [],\n                    async: true,\n                };\n            }\n        }\n        return this._parseAsync({ data, path: [], parent: ctx }).then((result) => isValid(result)\n            ? {\n                value: result.value,\n            }\n            : {\n                issues: ctx.common.issues,\n            });\n    }\n    async parseAsync(data, params) {\n        const result = await this.safeParseAsync(data, params);\n        if (result.success)\n            return result.data;\n        throw result.error;\n    }\n    async safeParseAsync(data, params) {\n        const ctx = {\n            common: {\n                issues: [],\n                contextualErrorMap: params?.errorMap,\n                async: true,\n            },\n            path: params?.path || [],\n            schemaErrorMap: this._def.errorMap,\n            parent: null,\n            data,\n            parsedType: getParsedType(data),\n        };\n        const maybeAsyncResult = this._parse({ data, path: ctx.path, parent: ctx });\n        const result = await (isAsync(maybeAsyncResult) ? maybeAsyncResult : Promise.resolve(maybeAsyncResult));\n        return handleResult(ctx, result);\n    }\n    refine(check, message) {\n        const getIssueProperties = (val) => {\n            if (typeof message === \"string\" || typeof message === \"undefined\") {\n                return { message };\n            }\n            else if (typeof message === \"function\") {\n                return message(val);\n            }\n            else {\n                return message;\n            }\n        };\n        return this._refinement((val, ctx) => {\n            const result = check(val);\n            const setError = () => ctx.addIssue({\n                code: ZodIssueCode.custom,\n                ...getIssueProperties(val),\n            });\n            if (typeof Promise !== \"undefined\" && result instanceof Promise) {\n                return result.then((data) => {\n                    if (!data) {\n                        setError();\n                        return false;\n                    }\n                    else {\n                        return true;\n                    }\n                });\n            }\n            if (!result) {\n                setError();\n                return false;\n            }\n            else {\n                return true;\n            }\n        });\n    }\n    refinement(check, refinementData) {\n        return this._refinement((val, ctx) => {\n            if (!check(val)) {\n                ctx.addIssue(typeof refinementData === \"function\" ? refinementData(val, ctx) : refinementData);\n                return false;\n            }\n            else {\n                return true;\n            }\n        });\n    }\n    _refinement(refinement) {\n        return new ZodEffects({\n            schema: this,\n            typeName: ZodFirstPartyTypeKind.ZodEffects,\n            effect: { type: \"refinement\", refinement },\n        });\n    }\n    superRefine(refinement) {\n        return this._refinement(refinement);\n    }\n    constructor(def) {\n        /** Alias of safeParseAsync */\n        this.spa = this.safeParseAsync;\n        this._def = def;\n        this.parse = this.parse.bind(this);\n        this.safeParse = this.safeParse.bind(this);\n        this.parseAsync = this.parseAsync.bind(this);\n        this.safeParseAsync = this.safeParseAsync.bind(this);\n        this.spa = this.spa.bind(this);\n        this.refine = this.refine.bind(this);\n        this.refinement = this.refinement.bind(this);\n        this.superRefine = this.superRefine.bind(this);\n        this.optional = this.optional.bind(this);\n        this.nullable = this.nullable.bind(this);\n        this.nullish = this.nullish.bind(this);\n        this.array = this.array.bind(this);\n        this.promise = this.promise.bind(this);\n        this.or = this.or.bind(this);\n        this.and = this.and.bind(this);\n        this.transform = this.transform.bind(this);\n        this.brand = this.brand.bind(this);\n        this.default = this.default.bind(this);\n        this.catch = this.catch.bind(this);\n        this.describe = this.describe.bind(this);\n        this.pipe = this.pipe.bind(this);\n        this.readonly = this.readonly.bind(this);\n        this.isNullable = this.isNullable.bind(this);\n        this.isOptional = this.isOptional.bind(this);\n        this[\"~standard\"] = {\n            version: 1,\n            vendor: \"zod\",\n            validate: (data) => this[\"~validate\"](data),\n        };\n    }\n    optional() {\n        return ZodOptional.create(this, this._def);\n    }\n    nullable() {\n        return ZodNullable.create(this, this._def);\n    }\n    nullish() {\n        return this.nullable().optional();\n    }\n    array() {\n        return ZodArray.create(this);\n    }\n    promise() {\n        return ZodPromise.create(this, this._def);\n    }\n    or(option) {\n        return ZodUnion.create([this, option], this._def);\n    }\n    and(incoming) {\n        return ZodIntersection.create(this, incoming, this._def);\n    }\n    transform(transform) {\n        return new ZodEffects({\n            ...processCreateParams(this._def),\n            schema: this,\n            typeName: ZodFirstPartyTypeKind.ZodEffects,\n            effect: { type: \"transform\", transform },\n        });\n    }\n    default(def) {\n        const defaultValueFunc = typeof def === \"function\" ? def : () => def;\n        return new ZodDefault({\n            ...processCreateParams(this._def),\n            innerType: this,\n            defaultValue: defaultValueFunc,\n            typeName: ZodFirstPartyTypeKind.ZodDefault,\n        });\n    }\n    brand() {\n        return new ZodBranded({\n            typeName: ZodFirstPartyTypeKind.ZodBranded,\n            type: this,\n            ...processCreateParams(this._def),\n        });\n    }\n    catch(def) {\n        const catchValueFunc = typeof def === \"function\" ? def : () => def;\n        return new ZodCatch({\n            ...processCreateParams(this._def),\n            innerType: this,\n            catchValue: catchValueFunc,\n            typeName: ZodFirstPartyTypeKind.ZodCatch,\n        });\n    }\n    describe(description) {\n        const This = this.constructor;\n        return new This({\n            ...this._def,\n            description,\n        });\n    }\n    pipe(target) {\n        return ZodPipeline.create(this, target);\n    }\n    readonly() {\n        return ZodReadonly.create(this);\n    }\n    isOptional() {\n        return this.safeParse(undefined).success;\n    }\n    isNullable() {\n        return this.safeParse(null).success;\n    }\n}\nconst cuidRegex = /^c[^\\s-]{8,}$/i;\nconst cuid2Regex = /^[0-9a-z]+$/;\nconst ulidRegex = /^[0-9A-HJKMNP-TV-Z]{26}$/i;\n// const uuidRegex =\n//   /^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i;\nconst uuidRegex = /^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/i;\nconst nanoidRegex = /^[a-z0-9_-]{21}$/i;\nconst jwtRegex = /^[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]*$/;\nconst durationRegex = /^[-+]?P(?!$)(?:(?:[-+]?\\d+Y)|(?:[-+]?\\d+[.,]\\d+Y$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:(?:[-+]?\\d+W)|(?:[-+]?\\d+[.,]\\d+W$))?(?:(?:[-+]?\\d+D)|(?:[-+]?\\d+[.,]\\d+D$))?(?:T(?=[\\d+-])(?:(?:[-+]?\\d+H)|(?:[-+]?\\d+[.,]\\d+H$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:[-+]?\\d+(?:[.,]\\d+)?S)?)??$/;\n// from https://stackoverflow.com/a/46181/1550155\n// old version: too slow, didn't support unicode\n// const emailRegex = /^((([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\x22)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\x22)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))$/i;\n//old email regex\n// const emailRegex = /^(([^<>()[\\].,;:\\s@\"]+(\\.[^<>()[\\].,;:\\s@\"]+)*)|(\".+\"))@((?!-)([^<>()[\\].,;:\\s@\"]+\\.)+[^<>()[\\].,;:\\s@\"]{1,})[^-<>()[\\].,;:\\s@\"]$/i;\n// eslint-disable-next-line\n// const emailRegex =\n//   /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\])|(\\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\\.[A-Za-z]{2,})+))$/;\n// const emailRegex =\n//   /^[a-zA-Z0-9\\.\\!\\#\\$\\%\\&\\'\\*\\+\\/\\=\\?\\^\\_\\`\\{\\|\\}\\~\\-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\n// const emailRegex =\n//   /^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])$/i;\nconst emailRegex = /^(?!\\.)(?!.*\\.\\.)([A-Z0-9_'+\\-\\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\\-]*\\.)+[A-Z]{2,}$/i;\n// const emailRegex =\n//   /^[a-z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-z0-9-]+(?:\\.[a-z0-9\\-]+)*$/i;\n// from https://thekevinscott.com/emojis-in-javascript/#writing-a-regular-expression\nconst _emojiRegex = `^(\\\\p{Extended_Pictographic}|\\\\p{Emoji_Component})+$`;\nlet emojiRegex;\n// faster, simpler, safer\nconst ipv4Regex = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/;\nconst ipv4CidrRegex = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\/(3[0-2]|[12]?[0-9])$/;\n// const ipv6Regex =\n// /^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/;\nconst ipv6Regex = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/;\nconst ipv6CidrRegex = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/;\n// https://stackoverflow.com/questions/7860392/determine-if-string-is-in-base64-using-javascript\nconst base64Regex = /^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/;\n// https://base64.guru/standards/base64url\nconst base64urlRegex = /^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/;\n// simple\n// const dateRegexSource = `\\\\d{4}-\\\\d{2}-\\\\d{2}`;\n// no leap year validation\n// const dateRegexSource = `\\\\d{4}-((0[13578]|10|12)-31|(0[13-9]|1[0-2])-30|(0[1-9]|1[0-2])-(0[1-9]|1\\\\d|2\\\\d))`;\n// with leap year validation\nconst dateRegexSource = `((\\\\d\\\\d[2468][048]|\\\\d\\\\d[13579][26]|\\\\d\\\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\\\d|30)|(02)-(0[1-9]|1\\\\d|2[0-8])))`;\nconst dateRegex = new RegExp(`^${dateRegexSource}$`);\nfunction timeRegexSource(args) {\n    let secondsRegexSource = `[0-5]\\\\d`;\n    if (args.precision) {\n        secondsRegexSource = `${secondsRegexSource}\\\\.\\\\d{${args.precision}}`;\n    }\n    else if (args.precision == null) {\n        secondsRegexSource = `${secondsRegexSource}(\\\\.\\\\d+)?`;\n    }\n    const secondsQuantifier = args.precision ? \"+\" : \"?\"; // require seconds if precision is nonzero\n    return `([01]\\\\d|2[0-3]):[0-5]\\\\d(:${secondsRegexSource})${secondsQuantifier}`;\n}\nfunction timeRegex(args) {\n    return new RegExp(`^${timeRegexSource(args)}$`);\n}\n// Adapted from https://stackoverflow.com/a/3143231\nexport function datetimeRegex(args) {\n    let regex = `${dateRegexSource}T${timeRegexSource(args)}`;\n    const opts = [];\n    opts.push(args.local ? `Z?` : `Z`);\n    if (args.offset)\n        opts.push(`([+-]\\\\d{2}:?\\\\d{2})`);\n    regex = `${regex}(${opts.join(\"|\")})`;\n    return new RegExp(`^${regex}$`);\n}\nfunction isValidIP(ip, version) {\n    if ((version === \"v4\" || !version) && ipv4Regex.test(ip)) {\n        return true;\n    }\n    if ((version === \"v6\" || !version) && ipv6Regex.test(ip)) {\n        return true;\n    }\n    return false;\n}\nfunction isValidJWT(jwt, alg) {\n    if (!jwtRegex.test(jwt))\n        return false;\n    try {\n        const [header] = jwt.split(\".\");\n        // Convert base64url to base64\n        const base64 = header\n            .replace(/-/g, \"+\")\n            .replace(/_/g, \"/\")\n            .padEnd(header.length + ((4 - (header.length % 4)) % 4), \"=\");\n        const decoded = JSON.parse(atob(base64));\n        if (typeof decoded !== \"object\" || decoded === null)\n            return false;\n        if (\"typ\" in decoded && decoded?.typ !== \"JWT\")\n            return false;\n        if (!decoded.alg)\n            return false;\n        if (alg && decoded.alg !== alg)\n            return false;\n        return true;\n    }\n    catch {\n        return false;\n    }\n}\nfunction isValidCidr(ip, version) {\n    if ((version === \"v4\" || !version) && ipv4CidrRegex.test(ip)) {\n        return true;\n    }\n    if ((version === \"v6\" || !version) && ipv6CidrRegex.test(ip)) {\n        return true;\n    }\n    return false;\n}\nexport class ZodString extends ZodType {\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = String(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.string) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.string,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const status = new ParseStatus();\n        let ctx = undefined;\n        for (const check of this._def.checks) {\n            if (check.kind === \"min\") {\n                if (input.data.length < check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        minimum: check.value,\n                        type: \"string\",\n                        inclusive: true,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                if (input.data.length > check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        maximum: check.value,\n                        type: \"string\",\n                        inclusive: true,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"length\") {\n                const tooBig = input.data.length > check.value;\n                const tooSmall = input.data.length < check.value;\n                if (tooBig || tooSmall) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    if (tooBig) {\n                        addIssueToContext(ctx, {\n                            code: ZodIssueCode.too_big,\n                            maximum: check.value,\n                            type: \"string\",\n                            inclusive: true,\n                            exact: true,\n                            message: check.message,\n                        });\n                    }\n                    else if (tooSmall) {\n                        addIssueToContext(ctx, {\n                            code: ZodIssueCode.too_small,\n                            minimum: check.value,\n                            type: \"string\",\n                            inclusive: true,\n                            exact: true,\n                            message: check.message,\n                        });\n                    }\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"email\") {\n                if (!emailRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"email\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"emoji\") {\n                if (!emojiRegex) {\n                    emojiRegex = new RegExp(_emojiRegex, \"u\");\n                }\n                if (!emojiRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"emoji\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"uuid\") {\n                if (!uuidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"uuid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"nanoid\") {\n                if (!nanoidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"nanoid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"cuid\") {\n                if (!cuidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"cuid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"cuid2\") {\n                if (!cuid2Regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"cuid2\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"ulid\") {\n                if (!ulidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"ulid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"url\") {\n                try {\n                    new URL(input.data);\n                }\n                catch {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"url\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"regex\") {\n                check.regex.lastIndex = 0;\n                const testResult = check.regex.test(input.data);\n                if (!testResult) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"regex\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"trim\") {\n                input.data = input.data.trim();\n            }\n            else if (check.kind === \"includes\") {\n                if (!input.data.includes(check.value, check.position)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: { includes: check.value, position: check.position },\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"toLowerCase\") {\n                input.data = input.data.toLowerCase();\n            }\n            else if (check.kind === \"toUpperCase\") {\n                input.data = input.data.toUpperCase();\n            }\n            else if (check.kind === \"startsWith\") {\n                if (!input.data.startsWith(check.value)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: { startsWith: check.value },\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"endsWith\") {\n                if (!input.data.endsWith(check.value)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: { endsWith: check.value },\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"datetime\") {\n                const regex = datetimeRegex(check);\n                if (!regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: \"datetime\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"date\") {\n                const regex = dateRegex;\n                if (!regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: \"date\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"time\") {\n                const regex = timeRegex(check);\n                if (!regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: \"time\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"duration\") {\n                if (!durationRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"duration\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"ip\") {\n                if (!isValidIP(input.data, check.version)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"ip\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"jwt\") {\n                if (!isValidJWT(input.data, check.alg)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"jwt\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"cidr\") {\n                if (!isValidCidr(input.data, check.version)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"cidr\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"base64\") {\n                if (!base64Regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"base64\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"base64url\") {\n                if (!base64urlRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"base64url\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return { status: status.value, value: input.data };\n    }\n    _regex(regex, validation, message) {\n        return this.refinement((data) => regex.test(data), {\n            validation,\n            code: ZodIssueCode.invalid_string,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    _addCheck(check) {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    email(message) {\n        return this._addCheck({ kind: \"email\", ...errorUtil.errToObj(message) });\n    }\n    url(message) {\n        return this._addCheck({ kind: \"url\", ...errorUtil.errToObj(message) });\n    }\n    emoji(message) {\n        return this._addCheck({ kind: \"emoji\", ...errorUtil.errToObj(message) });\n    }\n    uuid(message) {\n        return this._addCheck({ kind: \"uuid\", ...errorUtil.errToObj(message) });\n    }\n    nanoid(message) {\n        return this._addCheck({ kind: \"nanoid\", ...errorUtil.errToObj(message) });\n    }\n    cuid(message) {\n        return this._addCheck({ kind: \"cuid\", ...errorUtil.errToObj(message) });\n    }\n    cuid2(message) {\n        return this._addCheck({ kind: \"cuid2\", ...errorUtil.errToObj(message) });\n    }\n    ulid(message) {\n        return this._addCheck({ kind: \"ulid\", ...errorUtil.errToObj(message) });\n    }\n    base64(message) {\n        return this._addCheck({ kind: \"base64\", ...errorUtil.errToObj(message) });\n    }\n    base64url(message) {\n        // base64url encoding is a modification of base64 that can safely be used in URLs and filenames\n        return this._addCheck({\n            kind: \"base64url\",\n            ...errorUtil.errToObj(message),\n        });\n    }\n    jwt(options) {\n        return this._addCheck({ kind: \"jwt\", ...errorUtil.errToObj(options) });\n    }\n    ip(options) {\n        return this._addCheck({ kind: \"ip\", ...errorUtil.errToObj(options) });\n    }\n    cidr(options) {\n        return this._addCheck({ kind: \"cidr\", ...errorUtil.errToObj(options) });\n    }\n    datetime(options) {\n        if (typeof options === \"string\") {\n            return this._addCheck({\n                kind: \"datetime\",\n                precision: null,\n                offset: false,\n                local: false,\n                message: options,\n            });\n        }\n        return this._addCheck({\n            kind: \"datetime\",\n            precision: typeof options?.precision === \"undefined\" ? null : options?.precision,\n            offset: options?.offset ?? false,\n            local: options?.local ?? false,\n            ...errorUtil.errToObj(options?.message),\n        });\n    }\n    date(message) {\n        return this._addCheck({ kind: \"date\", message });\n    }\n    time(options) {\n        if (typeof options === \"string\") {\n            return this._addCheck({\n                kind: \"time\",\n                precision: null,\n                message: options,\n            });\n        }\n        return this._addCheck({\n            kind: \"time\",\n            precision: typeof options?.precision === \"undefined\" ? null : options?.precision,\n            ...errorUtil.errToObj(options?.message),\n        });\n    }\n    duration(message) {\n        return this._addCheck({ kind: \"duration\", ...errorUtil.errToObj(message) });\n    }\n    regex(regex, message) {\n        return this._addCheck({\n            kind: \"regex\",\n            regex: regex,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    includes(value, options) {\n        return this._addCheck({\n            kind: \"includes\",\n            value: value,\n            position: options?.position,\n            ...errorUtil.errToObj(options?.message),\n        });\n    }\n    startsWith(value, message) {\n        return this._addCheck({\n            kind: \"startsWith\",\n            value: value,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    endsWith(value, message) {\n        return this._addCheck({\n            kind: \"endsWith\",\n            value: value,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    min(minLength, message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: minLength,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    max(maxLength, message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: maxLength,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    length(len, message) {\n        return this._addCheck({\n            kind: \"length\",\n            value: len,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    /**\n     * Equivalent to `.min(1)`\n     */\n    nonempty(message) {\n        return this.min(1, errorUtil.errToObj(message));\n    }\n    trim() {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, { kind: \"trim\" }],\n        });\n    }\n    toLowerCase() {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, { kind: \"toLowerCase\" }],\n        });\n    }\n    toUpperCase() {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, { kind: \"toUpperCase\" }],\n        });\n    }\n    get isDatetime() {\n        return !!this._def.checks.find((ch) => ch.kind === \"datetime\");\n    }\n    get isDate() {\n        return !!this._def.checks.find((ch) => ch.kind === \"date\");\n    }\n    get isTime() {\n        return !!this._def.checks.find((ch) => ch.kind === \"time\");\n    }\n    get isDuration() {\n        return !!this._def.checks.find((ch) => ch.kind === \"duration\");\n    }\n    get isEmail() {\n        return !!this._def.checks.find((ch) => ch.kind === \"email\");\n    }\n    get isURL() {\n        return !!this._def.checks.find((ch) => ch.kind === \"url\");\n    }\n    get isEmoji() {\n        return !!this._def.checks.find((ch) => ch.kind === \"emoji\");\n    }\n    get isUUID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"uuid\");\n    }\n    get isNANOID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"nanoid\");\n    }\n    get isCUID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"cuid\");\n    }\n    get isCUID2() {\n        return !!this._def.checks.find((ch) => ch.kind === \"cuid2\");\n    }\n    get isULID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"ulid\");\n    }\n    get isIP() {\n        return !!this._def.checks.find((ch) => ch.kind === \"ip\");\n    }\n    get isCIDR() {\n        return !!this._def.checks.find((ch) => ch.kind === \"cidr\");\n    }\n    get isBase64() {\n        return !!this._def.checks.find((ch) => ch.kind === \"base64\");\n    }\n    get isBase64url() {\n        // base64url encoding is a modification of base64 that can safely be used in URLs and filenames\n        return !!this._def.checks.find((ch) => ch.kind === \"base64url\");\n    }\n    get minLength() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min;\n    }\n    get maxLength() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max;\n    }\n}\nZodString.create = (params) => {\n    return new ZodString({\n        checks: [],\n        typeName: ZodFirstPartyTypeKind.ZodString,\n        coerce: params?.coerce ?? false,\n        ...processCreateParams(params),\n    });\n};\n// https://stackoverflow.com/questions/3966484/why-does-modulus-operator-return-fractional-number-in-javascript/31711034#31711034\nfunction floatSafeRemainder(val, step) {\n    const valDecCount = (val.toString().split(\".\")[1] || \"\").length;\n    const stepDecCount = (step.toString().split(\".\")[1] || \"\").length;\n    const decCount = valDecCount > stepDecCount ? valDecCount : stepDecCount;\n    const valInt = Number.parseInt(val.toFixed(decCount).replace(\".\", \"\"));\n    const stepInt = Number.parseInt(step.toFixed(decCount).replace(\".\", \"\"));\n    return (valInt % stepInt) / 10 ** decCount;\n}\nexport class ZodNumber extends ZodType {\n    constructor() {\n        super(...arguments);\n        this.min = this.gte;\n        this.max = this.lte;\n        this.step = this.multipleOf;\n    }\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = Number(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.number) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.number,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        let ctx = undefined;\n        const status = new ParseStatus();\n        for (const check of this._def.checks) {\n            if (check.kind === \"int\") {\n                if (!util.isInteger(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_type,\n                        expected: \"integer\",\n                        received: \"float\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"min\") {\n                const tooSmall = check.inclusive ? input.data < check.value : input.data <= check.value;\n                if (tooSmall) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        minimum: check.value,\n                        type: \"number\",\n                        inclusive: check.inclusive,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                const tooBig = check.inclusive ? input.data > check.value : input.data >= check.value;\n                if (tooBig) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        maximum: check.value,\n                        type: \"number\",\n                        inclusive: check.inclusive,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"multipleOf\") {\n                if (floatSafeRemainder(input.data, check.value) !== 0) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.not_multiple_of,\n                        multipleOf: check.value,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"finite\") {\n                if (!Number.isFinite(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.not_finite,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return { status: status.value, value: input.data };\n    }\n    gte(value, message) {\n        return this.setLimit(\"min\", value, true, errorUtil.toString(message));\n    }\n    gt(value, message) {\n        return this.setLimit(\"min\", value, false, errorUtil.toString(message));\n    }\n    lte(value, message) {\n        return this.setLimit(\"max\", value, true, errorUtil.toString(message));\n    }\n    lt(value, message) {\n        return this.setLimit(\"max\", value, false, errorUtil.toString(message));\n    }\n    setLimit(kind, value, inclusive, message) {\n        return new ZodNumber({\n            ...this._def,\n            checks: [\n                ...this._def.checks,\n                {\n                    kind,\n                    value,\n                    inclusive,\n                    message: errorUtil.toString(message),\n                },\n            ],\n        });\n    }\n    _addCheck(check) {\n        return new ZodNumber({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    int(message) {\n        return this._addCheck({\n            kind: \"int\",\n            message: errorUtil.toString(message),\n        });\n    }\n    positive(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: 0,\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    negative(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: 0,\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonpositive(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: 0,\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonnegative(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: 0,\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    multipleOf(value, message) {\n        return this._addCheck({\n            kind: \"multipleOf\",\n            value: value,\n            message: errorUtil.toString(message),\n        });\n    }\n    finite(message) {\n        return this._addCheck({\n            kind: \"finite\",\n            message: errorUtil.toString(message),\n        });\n    }\n    safe(message) {\n        return this._addCheck({\n            kind: \"min\",\n            inclusive: true,\n            value: Number.MIN_SAFE_INTEGER,\n            message: errorUtil.toString(message),\n        })._addCheck({\n            kind: \"max\",\n            inclusive: true,\n            value: Number.MAX_SAFE_INTEGER,\n            message: errorUtil.toString(message),\n        });\n    }\n    get minValue() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min;\n    }\n    get maxValue() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max;\n    }\n    get isInt() {\n        return !!this._def.checks.find((ch) => ch.kind === \"int\" || (ch.kind === \"multipleOf\" && util.isInteger(ch.value)));\n    }\n    get isFinite() {\n        let max = null;\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"finite\" || ch.kind === \"int\" || ch.kind === \"multipleOf\") {\n                return true;\n            }\n            else if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n            else if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return Number.isFinite(min) && Number.isFinite(max);\n    }\n}\nZodNumber.create = (params) => {\n    return new ZodNumber({\n        checks: [],\n        typeName: ZodFirstPartyTypeKind.ZodNumber,\n        coerce: params?.coerce || false,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodBigInt extends ZodType {\n    constructor() {\n        super(...arguments);\n        this.min = this.gte;\n        this.max = this.lte;\n    }\n    _parse(input) {\n        if (this._def.coerce) {\n            try {\n                input.data = BigInt(input.data);\n            }\n            catch {\n                return this._getInvalidInput(input);\n            }\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.bigint) {\n            return this._getInvalidInput(input);\n        }\n        let ctx = undefined;\n        const status = new ParseStatus();\n        for (const check of this._def.checks) {\n            if (check.kind === \"min\") {\n                const tooSmall = check.inclusive ? input.data < check.value : input.data <= check.value;\n                if (tooSmall) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        type: \"bigint\",\n                        minimum: check.value,\n                        inclusive: check.inclusive,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                const tooBig = check.inclusive ? input.data > check.value : input.data >= check.value;\n                if (tooBig) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        type: \"bigint\",\n                        maximum: check.value,\n                        inclusive: check.inclusive,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"multipleOf\") {\n                if (input.data % check.value !== BigInt(0)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.not_multiple_of,\n                        multipleOf: check.value,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return { status: status.value, value: input.data };\n    }\n    _getInvalidInput(input) {\n        const ctx = this._getOrReturnCtx(input);\n        addIssueToContext(ctx, {\n            code: ZodIssueCode.invalid_type,\n            expected: ZodParsedType.bigint,\n            received: ctx.parsedType,\n        });\n        return INVALID;\n    }\n    gte(value, message) {\n        return this.setLimit(\"min\", value, true, errorUtil.toString(message));\n    }\n    gt(value, message) {\n        return this.setLimit(\"min\", value, false, errorUtil.toString(message));\n    }\n    lte(value, message) {\n        return this.setLimit(\"max\", value, true, errorUtil.toString(message));\n    }\n    lt(value, message) {\n        return this.setLimit(\"max\", value, false, errorUtil.toString(message));\n    }\n    setLimit(kind, value, inclusive, message) {\n        return new ZodBigInt({\n            ...this._def,\n            checks: [\n                ...this._def.checks,\n                {\n                    kind,\n                    value,\n                    inclusive,\n                    message: errorUtil.toString(message),\n                },\n            ],\n        });\n    }\n    _addCheck(check) {\n        return new ZodBigInt({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    positive(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: BigInt(0),\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    negative(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: BigInt(0),\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonpositive(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: BigInt(0),\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonnegative(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: BigInt(0),\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    multipleOf(value, message) {\n        return this._addCheck({\n            kind: \"multipleOf\",\n            value,\n            message: errorUtil.toString(message),\n        });\n    }\n    get minValue() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min;\n    }\n    get maxValue() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max;\n    }\n}\nZodBigInt.create = (params) => {\n    return new ZodBigInt({\n        checks: [],\n        typeName: ZodFirstPartyTypeKind.ZodBigInt,\n        coerce: params?.coerce ?? false,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodBoolean extends ZodType {\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = Boolean(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.boolean) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.boolean,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodBoolean.create = (params) => {\n    return new ZodBoolean({\n        typeName: ZodFirstPartyTypeKind.ZodBoolean,\n        coerce: params?.coerce || false,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodDate extends ZodType {\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = new Date(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.date) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.date,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        if (Number.isNaN(input.data.getTime())) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_date,\n            });\n            return INVALID;\n        }\n        const status = new ParseStatus();\n        let ctx = undefined;\n        for (const check of this._def.checks) {\n            if (check.kind === \"min\") {\n                if (input.data.getTime() < check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        message: check.message,\n                        inclusive: true,\n                        exact: false,\n                        minimum: check.value,\n                        type: \"date\",\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                if (input.data.getTime() > check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        message: check.message,\n                        inclusive: true,\n                        exact: false,\n                        maximum: check.value,\n                        type: \"date\",\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return {\n            status: status.value,\n            value: new Date(input.data.getTime()),\n        };\n    }\n    _addCheck(check) {\n        return new ZodDate({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    min(minDate, message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: minDate.getTime(),\n            message: errorUtil.toString(message),\n        });\n    }\n    max(maxDate, message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: maxDate.getTime(),\n            message: errorUtil.toString(message),\n        });\n    }\n    get minDate() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min != null ? new Date(min) : null;\n    }\n    get maxDate() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max != null ? new Date(max) : null;\n    }\n}\nZodDate.create = (params) => {\n    return new ZodDate({\n        checks: [],\n        coerce: params?.coerce || false,\n        typeName: ZodFirstPartyTypeKind.ZodDate,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodSymbol extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.symbol) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.symbol,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodSymbol.create = (params) => {\n    return new ZodSymbol({\n        typeName: ZodFirstPartyTypeKind.ZodSymbol,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodUndefined extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.undefined) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.undefined,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodUndefined.create = (params) => {\n    return new ZodUndefined({\n        typeName: ZodFirstPartyTypeKind.ZodUndefined,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodNull extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.null) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.null,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodNull.create = (params) => {\n    return new ZodNull({\n        typeName: ZodFirstPartyTypeKind.ZodNull,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodAny extends ZodType {\n    constructor() {\n        super(...arguments);\n        // to prevent instances of other classes from extending ZodAny. this causes issues with catchall in ZodObject.\n        this._any = true;\n    }\n    _parse(input) {\n        return OK(input.data);\n    }\n}\nZodAny.create = (params) => {\n    return new ZodAny({\n        typeName: ZodFirstPartyTypeKind.ZodAny,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodUnknown extends ZodType {\n    constructor() {\n        super(...arguments);\n        // required\n        this._unknown = true;\n    }\n    _parse(input) {\n        return OK(input.data);\n    }\n}\nZodUnknown.create = (params) => {\n    return new ZodUnknown({\n        typeName: ZodFirstPartyTypeKind.ZodUnknown,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodNever extends ZodType {\n    _parse(input) {\n        const ctx = this._getOrReturnCtx(input);\n        addIssueToContext(ctx, {\n            code: ZodIssueCode.invalid_type,\n            expected: ZodParsedType.never,\n            received: ctx.parsedType,\n        });\n        return INVALID;\n    }\n}\nZodNever.create = (params) => {\n    return new ZodNever({\n        typeName: ZodFirstPartyTypeKind.ZodNever,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodVoid extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.undefined) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.void,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodVoid.create = (params) => {\n    return new ZodVoid({\n        typeName: ZodFirstPartyTypeKind.ZodVoid,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodArray extends ZodType {\n    _parse(input) {\n        const { ctx, status } = this._processInputParams(input);\n        const def = this._def;\n        if (ctx.parsedType !== ZodParsedType.array) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.array,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        if (def.exactLength !== null) {\n            const tooBig = ctx.data.length > def.exactLength.value;\n            const tooSmall = ctx.data.length < def.exactLength.value;\n            if (tooBig || tooSmall) {\n                addIssueToContext(ctx, {\n                    code: tooBig ? ZodIssueCode.too_big : ZodIssueCode.too_small,\n                    minimum: (tooSmall ? def.exactLength.value : undefined),\n                    maximum: (tooBig ? def.exactLength.value : undefined),\n                    type: \"array\",\n                    inclusive: true,\n                    exact: true,\n                    message: def.exactLength.message,\n                });\n                status.dirty();\n            }\n        }\n        if (def.minLength !== null) {\n            if (ctx.data.length < def.minLength.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_small,\n                    minimum: def.minLength.value,\n                    type: \"array\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.minLength.message,\n                });\n                status.dirty();\n            }\n        }\n        if (def.maxLength !== null) {\n            if (ctx.data.length > def.maxLength.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_big,\n                    maximum: def.maxLength.value,\n                    type: \"array\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.maxLength.message,\n                });\n                status.dirty();\n            }\n        }\n        if (ctx.common.async) {\n            return Promise.all([...ctx.data].map((item, i) => {\n                return def.type._parseAsync(new ParseInputLazyPath(ctx, item, ctx.path, i));\n            })).then((result) => {\n                return ParseStatus.mergeArray(status, result);\n            });\n        }\n        const result = [...ctx.data].map((item, i) => {\n            return def.type._parseSync(new ParseInputLazyPath(ctx, item, ctx.path, i));\n        });\n        return ParseStatus.mergeArray(status, result);\n    }\n    get element() {\n        return this._def.type;\n    }\n    min(minLength, message) {\n        return new ZodArray({\n            ...this._def,\n            minLength: { value: minLength, message: errorUtil.toString(message) },\n        });\n    }\n    max(maxLength, message) {\n        return new ZodArray({\n            ...this._def,\n            maxLength: { value: maxLength, message: errorUtil.toString(message) },\n        });\n    }\n    length(len, message) {\n        return new ZodArray({\n            ...this._def,\n            exactLength: { value: len, message: errorUtil.toString(message) },\n        });\n    }\n    nonempty(message) {\n        return this.min(1, message);\n    }\n}\nZodArray.create = (schema, params) => {\n    return new ZodArray({\n        type: schema,\n        minLength: null,\n        maxLength: null,\n        exactLength: null,\n        typeName: ZodFirstPartyTypeKind.ZodArray,\n        ...processCreateParams(params),\n    });\n};\nfunction deepPartialify(schema) {\n    if (schema instanceof ZodObject) {\n        const newShape = {};\n        for (const key in schema.shape) {\n            const fieldSchema = schema.shape[key];\n            newShape[key] = ZodOptional.create(deepPartialify(fieldSchema));\n        }\n        return new ZodObject({\n            ...schema._def,\n            shape: () => newShape,\n        });\n    }\n    else if (schema instanceof ZodArray) {\n        return new ZodArray({\n            ...schema._def,\n            type: deepPartialify(schema.element),\n        });\n    }\n    else if (schema instanceof ZodOptional) {\n        return ZodOptional.create(deepPartialify(schema.unwrap()));\n    }\n    else if (schema instanceof ZodNullable) {\n        return ZodNullable.create(deepPartialify(schema.unwrap()));\n    }\n    else if (schema instanceof ZodTuple) {\n        return ZodTuple.create(schema.items.map((item) => deepPartialify(item)));\n    }\n    else {\n        return schema;\n    }\n}\nexport class ZodObject extends ZodType {\n    constructor() {\n        super(...arguments);\n        this._cached = null;\n        /**\n         * @deprecated In most cases, this is no longer needed - unknown properties are now silently stripped.\n         * If you want to pass through unknown properties, use `.passthrough()` instead.\n         */\n        this.nonstrict = this.passthrough;\n        // extend<\n        //   Augmentation extends ZodRawShape,\n        //   NewOutput extends util.flatten<{\n        //     [k in keyof Augmentation | keyof Output]: k extends keyof Augmentation\n        //       ? Augmentation[k][\"_output\"]\n        //       : k extends keyof Output\n        //       ? Output[k]\n        //       : never;\n        //   }>,\n        //   NewInput extends util.flatten<{\n        //     [k in keyof Augmentation | keyof Input]: k extends keyof Augmentation\n        //       ? Augmentation[k][\"_input\"]\n        //       : k extends keyof Input\n        //       ? Input[k]\n        //       : never;\n        //   }>\n        // >(\n        //   augmentation: Augmentation\n        // ): ZodObject<\n        //   extendShape<T, Augmentation>,\n        //   UnknownKeys,\n        //   Catchall,\n        //   NewOutput,\n        //   NewInput\n        // > {\n        //   return new ZodObject({\n        //     ...this._def,\n        //     shape: () => ({\n        //       ...this._def.shape(),\n        //       ...augmentation,\n        //     }),\n        //   }) as any;\n        // }\n        /**\n         * @deprecated Use `.extend` instead\n         *  */\n        this.augment = this.extend;\n    }\n    _getCached() {\n        if (this._cached !== null)\n            return this._cached;\n        const shape = this._def.shape();\n        const keys = util.objectKeys(shape);\n        this._cached = { shape, keys };\n        return this._cached;\n    }\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.object) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.object,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const { status, ctx } = this._processInputParams(input);\n        const { shape, keys: shapeKeys } = this._getCached();\n        const extraKeys = [];\n        if (!(this._def.catchall instanceof ZodNever && this._def.unknownKeys === \"strip\")) {\n            for (const key in ctx.data) {\n                if (!shapeKeys.includes(key)) {\n                    extraKeys.push(key);\n                }\n            }\n        }\n        const pairs = [];\n        for (const key of shapeKeys) {\n            const keyValidator = shape[key];\n            const value = ctx.data[key];\n            pairs.push({\n                key: { status: \"valid\", value: key },\n                value: keyValidator._parse(new ParseInputLazyPath(ctx, value, ctx.path, key)),\n                alwaysSet: key in ctx.data,\n            });\n        }\n        if (this._def.catchall instanceof ZodNever) {\n            const unknownKeys = this._def.unknownKeys;\n            if (unknownKeys === \"passthrough\") {\n                for (const key of extraKeys) {\n                    pairs.push({\n                        key: { status: \"valid\", value: key },\n                        value: { status: \"valid\", value: ctx.data[key] },\n                    });\n                }\n            }\n            else if (unknownKeys === \"strict\") {\n                if (extraKeys.length > 0) {\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.unrecognized_keys,\n                        keys: extraKeys,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (unknownKeys === \"strip\") {\n            }\n            else {\n                throw new Error(`Internal ZodObject error: invalid unknownKeys value.`);\n            }\n        }\n        else {\n            // run catchall validation\n            const catchall = this._def.catchall;\n            for (const key of extraKeys) {\n                const value = ctx.data[key];\n                pairs.push({\n                    key: { status: \"valid\", value: key },\n                    value: catchall._parse(new ParseInputLazyPath(ctx, value, ctx.path, key) //, ctx.child(key), value, getParsedType(value)\n                    ),\n                    alwaysSet: key in ctx.data,\n                });\n            }\n        }\n        if (ctx.common.async) {\n            return Promise.resolve()\n                .then(async () => {\n                const syncPairs = [];\n                for (const pair of pairs) {\n                    const key = await pair.key;\n                    const value = await pair.value;\n                    syncPairs.push({\n                        key,\n                        value,\n                        alwaysSet: pair.alwaysSet,\n                    });\n                }\n                return syncPairs;\n            })\n                .then((syncPairs) => {\n                return ParseStatus.mergeObjectSync(status, syncPairs);\n            });\n        }\n        else {\n            return ParseStatus.mergeObjectSync(status, pairs);\n        }\n    }\n    get shape() {\n        return this._def.shape();\n    }\n    strict(message) {\n        errorUtil.errToObj;\n        return new ZodObject({\n            ...this._def,\n            unknownKeys: \"strict\",\n            ...(message !== undefined\n                ? {\n                    errorMap: (issue, ctx) => {\n                        const defaultError = this._def.errorMap?.(issue, ctx).message ?? ctx.defaultError;\n                        if (issue.code === \"unrecognized_keys\")\n                            return {\n                                message: errorUtil.errToObj(message).message ?? defaultError,\n                            };\n                        return {\n                            message: defaultError,\n                        };\n                    },\n                }\n                : {}),\n        });\n    }\n    strip() {\n        return new ZodObject({\n            ...this._def,\n            unknownKeys: \"strip\",\n        });\n    }\n    passthrough() {\n        return new ZodObject({\n            ...this._def,\n            unknownKeys: \"passthrough\",\n        });\n    }\n    // const AugmentFactory =\n    //   <Def extends ZodObjectDef>(def: Def) =>\n    //   <Augmentation extends ZodRawShape>(\n    //     augmentation: Augmentation\n    //   ): ZodObject<\n    //     extendShape<ReturnType<Def[\"shape\"]>, Augmentation>,\n    //     Def[\"unknownKeys\"],\n    //     Def[\"catchall\"]\n    //   > => {\n    //     return new ZodObject({\n    //       ...def,\n    //       shape: () => ({\n    //         ...def.shape(),\n    //         ...augmentation,\n    //       }),\n    //     }) as any;\n    //   };\n    extend(augmentation) {\n        return new ZodObject({\n            ...this._def,\n            shape: () => ({\n                ...this._def.shape(),\n                ...augmentation,\n            }),\n        });\n    }\n    /**\n     * Prior to zod@1.0.12 there was a bug in the\n     * inferred type of merged objects. Please\n     * upgrade if you are experiencing issues.\n     */\n    merge(merging) {\n        const merged = new ZodObject({\n            unknownKeys: merging._def.unknownKeys,\n            catchall: merging._def.catchall,\n            shape: () => ({\n                ...this._def.shape(),\n                ...merging._def.shape(),\n            }),\n            typeName: ZodFirstPartyTypeKind.ZodObject,\n        });\n        return merged;\n    }\n    // merge<\n    //   Incoming extends AnyZodObject,\n    //   Augmentation extends Incoming[\"shape\"],\n    //   NewOutput extends {\n    //     [k in keyof Augmentation | keyof Output]: k extends keyof Augmentation\n    //       ? Augmentation[k][\"_output\"]\n    //       : k extends keyof Output\n    //       ? Output[k]\n    //       : never;\n    //   },\n    //   NewInput extends {\n    //     [k in keyof Augmentation | keyof Input]: k extends keyof Augmentation\n    //       ? Augmentation[k][\"_input\"]\n    //       : k extends keyof Input\n    //       ? Input[k]\n    //       : never;\n    //   }\n    // >(\n    //   merging: Incoming\n    // ): ZodObject<\n    //   extendShape<T, ReturnType<Incoming[\"_def\"][\"shape\"]>>,\n    //   Incoming[\"_def\"][\"unknownKeys\"],\n    //   Incoming[\"_def\"][\"catchall\"],\n    //   NewOutput,\n    //   NewInput\n    // > {\n    //   const merged: any = new ZodObject({\n    //     unknownKeys: merging._def.unknownKeys,\n    //     catchall: merging._def.catchall,\n    //     shape: () =>\n    //       objectUtil.mergeShapes(this._def.shape(), merging._def.shape()),\n    //     typeName: ZodFirstPartyTypeKind.ZodObject,\n    //   }) as any;\n    //   return merged;\n    // }\n    setKey(key, schema) {\n        return this.augment({ [key]: schema });\n    }\n    // merge<Incoming extends AnyZodObject>(\n    //   merging: Incoming\n    // ): //ZodObject<T & Incoming[\"_shape\"], UnknownKeys, Catchall> = (merging) => {\n    // ZodObject<\n    //   extendShape<T, ReturnType<Incoming[\"_def\"][\"shape\"]>>,\n    //   Incoming[\"_def\"][\"unknownKeys\"],\n    //   Incoming[\"_def\"][\"catchall\"]\n    // > {\n    //   // const mergedShape = objectUtil.mergeShapes(\n    //   //   this._def.shape(),\n    //   //   merging._def.shape()\n    //   // );\n    //   const merged: any = new ZodObject({\n    //     unknownKeys: merging._def.unknownKeys,\n    //     catchall: merging._def.catchall,\n    //     shape: () =>\n    //       objectUtil.mergeShapes(this._def.shape(), merging._def.shape()),\n    //     typeName: ZodFirstPartyTypeKind.ZodObject,\n    //   }) as any;\n    //   return merged;\n    // }\n    catchall(index) {\n        return new ZodObject({\n            ...this._def,\n            catchall: index,\n        });\n    }\n    pick(mask) {\n        const shape = {};\n        for (const key of util.objectKeys(mask)) {\n            if (mask[key] && this.shape[key]) {\n                shape[key] = this.shape[key];\n            }\n        }\n        return new ZodObject({\n            ...this._def,\n            shape: () => shape,\n        });\n    }\n    omit(mask) {\n        const shape = {};\n        for (const key of util.objectKeys(this.shape)) {\n            if (!mask[key]) {\n                shape[key] = this.shape[key];\n            }\n        }\n        return new ZodObject({\n            ...this._def,\n            shape: () => shape,\n        });\n    }\n    /**\n     * @deprecated\n     */\n    deepPartial() {\n        return deepPartialify(this);\n    }\n    partial(mask) {\n        const newShape = {};\n        for (const key of util.objectKeys(this.shape)) {\n            const fieldSchema = this.shape[key];\n            if (mask && !mask[key]) {\n                newShape[key] = fieldSchema;\n            }\n            else {\n                newShape[key] = fieldSchema.optional();\n            }\n        }\n        return new ZodObject({\n            ...this._def,\n            shape: () => newShape,\n        });\n    }\n    required(mask) {\n        const newShape = {};\n        for (const key of util.objectKeys(this.shape)) {\n            if (mask && !mask[key]) {\n                newShape[key] = this.shape[key];\n            }\n            else {\n                const fieldSchema = this.shape[key];\n                let newField = fieldSchema;\n                while (newField instanceof ZodOptional) {\n                    newField = newField._def.innerType;\n                }\n                newShape[key] = newField;\n            }\n        }\n        return new ZodObject({\n            ...this._def,\n            shape: () => newShape,\n        });\n    }\n    keyof() {\n        return createZodEnum(util.objectKeys(this.shape));\n    }\n}\nZodObject.create = (shape, params) => {\n    return new ZodObject({\n        shape: () => shape,\n        unknownKeys: \"strip\",\n        catchall: ZodNever.create(),\n        typeName: ZodFirstPartyTypeKind.ZodObject,\n        ...processCreateParams(params),\n    });\n};\nZodObject.strictCreate = (shape, params) => {\n    return new ZodObject({\n        shape: () => shape,\n        unknownKeys: \"strict\",\n        catchall: ZodNever.create(),\n        typeName: ZodFirstPartyTypeKind.ZodObject,\n        ...processCreateParams(params),\n    });\n};\nZodObject.lazycreate = (shape, params) => {\n    return new ZodObject({\n        shape,\n        unknownKeys: \"strip\",\n        catchall: ZodNever.create(),\n        typeName: ZodFirstPartyTypeKind.ZodObject,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodUnion extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        const options = this._def.options;\n        function handleResults(results) {\n            // return first issue-free validation if it exists\n            for (const result of results) {\n                if (result.result.status === \"valid\") {\n                    return result.result;\n                }\n            }\n            for (const result of results) {\n                if (result.result.status === \"dirty\") {\n                    // add issues from dirty option\n                    ctx.common.issues.push(...result.ctx.common.issues);\n                    return result.result;\n                }\n            }\n            // return invalid\n            const unionErrors = results.map((result) => new ZodError(result.ctx.common.issues));\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_union,\n                unionErrors,\n            });\n            return INVALID;\n        }\n        if (ctx.common.async) {\n            return Promise.all(options.map(async (option) => {\n                const childCtx = {\n                    ...ctx,\n                    common: {\n                        ...ctx.common,\n                        issues: [],\n                    },\n                    parent: null,\n                };\n                return {\n                    result: await option._parseAsync({\n                        data: ctx.data,\n                        path: ctx.path,\n                        parent: childCtx,\n                    }),\n                    ctx: childCtx,\n                };\n            })).then(handleResults);\n        }\n        else {\n            let dirty = undefined;\n            const issues = [];\n            for (const option of options) {\n                const childCtx = {\n                    ...ctx,\n                    common: {\n                        ...ctx.common,\n                        issues: [],\n                    },\n                    parent: null,\n                };\n                const result = option._parseSync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: childCtx,\n                });\n                if (result.status === \"valid\") {\n                    return result;\n                }\n                else if (result.status === \"dirty\" && !dirty) {\n                    dirty = { result, ctx: childCtx };\n                }\n                if (childCtx.common.issues.length) {\n                    issues.push(childCtx.common.issues);\n                }\n            }\n            if (dirty) {\n                ctx.common.issues.push(...dirty.ctx.common.issues);\n                return dirty.result;\n            }\n            const unionErrors = issues.map((issues) => new ZodError(issues));\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_union,\n                unionErrors,\n            });\n            return INVALID;\n        }\n    }\n    get options() {\n        return this._def.options;\n    }\n}\nZodUnion.create = (types, params) => {\n    return new ZodUnion({\n        options: types,\n        typeName: ZodFirstPartyTypeKind.ZodUnion,\n        ...processCreateParams(params),\n    });\n};\n/////////////////////////////////////////////////////\n/////////////////////////////////////////////////////\n//////////                                 //////////\n//////////      ZodDiscriminatedUnion      //////////\n//////////                                 //////////\n/////////////////////////////////////////////////////\n/////////////////////////////////////////////////////\nconst getDiscriminator = (type) => {\n    if (type instanceof ZodLazy) {\n        return getDiscriminator(type.schema);\n    }\n    else if (type instanceof ZodEffects) {\n        return getDiscriminator(type.innerType());\n    }\n    else if (type instanceof ZodLiteral) {\n        return [type.value];\n    }\n    else if (type instanceof ZodEnum) {\n        return type.options;\n    }\n    else if (type instanceof ZodNativeEnum) {\n        // eslint-disable-next-line ban/ban\n        return util.objectValues(type.enum);\n    }\n    else if (type instanceof ZodDefault) {\n        return getDiscriminator(type._def.innerType);\n    }\n    else if (type instanceof ZodUndefined) {\n        return [undefined];\n    }\n    else if (type instanceof ZodNull) {\n        return [null];\n    }\n    else if (type instanceof ZodOptional) {\n        return [undefined, ...getDiscriminator(type.unwrap())];\n    }\n    else if (type instanceof ZodNullable) {\n        return [null, ...getDiscriminator(type.unwrap())];\n    }\n    else if (type instanceof ZodBranded) {\n        return getDiscriminator(type.unwrap());\n    }\n    else if (type instanceof ZodReadonly) {\n        return getDiscriminator(type.unwrap());\n    }\n    else if (type instanceof ZodCatch) {\n        return getDiscriminator(type._def.innerType);\n    }\n    else {\n        return [];\n    }\n};\nexport class ZodDiscriminatedUnion extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.object) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.object,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const discriminator = this.discriminator;\n        const discriminatorValue = ctx.data[discriminator];\n        const option = this.optionsMap.get(discriminatorValue);\n        if (!option) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_union_discriminator,\n                options: Array.from(this.optionsMap.keys()),\n                path: [discriminator],\n            });\n            return INVALID;\n        }\n        if (ctx.common.async) {\n            return option._parseAsync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            });\n        }\n        else {\n            return option._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            });\n        }\n    }\n    get discriminator() {\n        return this._def.discriminator;\n    }\n    get options() {\n        return this._def.options;\n    }\n    get optionsMap() {\n        return this._def.optionsMap;\n    }\n    /**\n     * The constructor of the discriminated union schema. Its behaviour is very similar to that of the normal z.union() constructor.\n     * However, it only allows a union of objects, all of which need to share a discriminator property. This property must\n     * have a different value for each object in the union.\n     * @param discriminator the name of the discriminator property\n     * @param types an array of object schemas\n     * @param params\n     */\n    static create(discriminator, options, params) {\n        // Get all the valid discriminator values\n        const optionsMap = new Map();\n        // try {\n        for (const type of options) {\n            const discriminatorValues = getDiscriminator(type.shape[discriminator]);\n            if (!discriminatorValues.length) {\n                throw new Error(`A discriminator value for key \\`${discriminator}\\` could not be extracted from all schema options`);\n            }\n            for (const value of discriminatorValues) {\n                if (optionsMap.has(value)) {\n                    throw new Error(`Discriminator property ${String(discriminator)} has duplicate value ${String(value)}`);\n                }\n                optionsMap.set(value, type);\n            }\n        }\n        return new ZodDiscriminatedUnion({\n            typeName: ZodFirstPartyTypeKind.ZodDiscriminatedUnion,\n            discriminator,\n            options,\n            optionsMap,\n            ...processCreateParams(params),\n        });\n    }\n}\nfunction mergeValues(a, b) {\n    const aType = getParsedType(a);\n    const bType = getParsedType(b);\n    if (a === b) {\n        return { valid: true, data: a };\n    }\n    else if (aType === ZodParsedType.object && bType === ZodParsedType.object) {\n        const bKeys = util.objectKeys(b);\n        const sharedKeys = util.objectKeys(a).filter((key) => bKeys.indexOf(key) !== -1);\n        const newObj = { ...a, ...b };\n        for (const key of sharedKeys) {\n            const sharedValue = mergeValues(a[key], b[key]);\n            if (!sharedValue.valid) {\n                return { valid: false };\n            }\n            newObj[key] = sharedValue.data;\n        }\n        return { valid: true, data: newObj };\n    }\n    else if (aType === ZodParsedType.array && bType === ZodParsedType.array) {\n        if (a.length !== b.length) {\n            return { valid: false };\n        }\n        const newArray = [];\n        for (let index = 0; index < a.length; index++) {\n            const itemA = a[index];\n            const itemB = b[index];\n            const sharedValue = mergeValues(itemA, itemB);\n            if (!sharedValue.valid) {\n                return { valid: false };\n            }\n            newArray.push(sharedValue.data);\n        }\n        return { valid: true, data: newArray };\n    }\n    else if (aType === ZodParsedType.date && bType === ZodParsedType.date && +a === +b) {\n        return { valid: true, data: a };\n    }\n    else {\n        return { valid: false };\n    }\n}\nexport class ZodIntersection extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        const handleParsed = (parsedLeft, parsedRight) => {\n            if (isAborted(parsedLeft) || isAborted(parsedRight)) {\n                return INVALID;\n            }\n            const merged = mergeValues(parsedLeft.value, parsedRight.value);\n            if (!merged.valid) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.invalid_intersection_types,\n                });\n                return INVALID;\n            }\n            if (isDirty(parsedLeft) || isDirty(parsedRight)) {\n                status.dirty();\n            }\n            return { status: status.value, value: merged.data };\n        };\n        if (ctx.common.async) {\n            return Promise.all([\n                this._def.left._parseAsync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                }),\n                this._def.right._parseAsync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                }),\n            ]).then(([left, right]) => handleParsed(left, right));\n        }\n        else {\n            return handleParsed(this._def.left._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            }), this._def.right._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            }));\n        }\n    }\n}\nZodIntersection.create = (left, right, params) => {\n    return new ZodIntersection({\n        left: left,\n        right: right,\n        typeName: ZodFirstPartyTypeKind.ZodIntersection,\n        ...processCreateParams(params),\n    });\n};\n// type ZodTupleItems = [ZodTypeAny, ...ZodTypeAny[]];\nexport class ZodTuple extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.array) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.array,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        if (ctx.data.length < this._def.items.length) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.too_small,\n                minimum: this._def.items.length,\n                inclusive: true,\n                exact: false,\n                type: \"array\",\n            });\n            return INVALID;\n        }\n        const rest = this._def.rest;\n        if (!rest && ctx.data.length > this._def.items.length) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.too_big,\n                maximum: this._def.items.length,\n                inclusive: true,\n                exact: false,\n                type: \"array\",\n            });\n            status.dirty();\n        }\n        const items = [...ctx.data]\n            .map((item, itemIndex) => {\n            const schema = this._def.items[itemIndex] || this._def.rest;\n            if (!schema)\n                return null;\n            return schema._parse(new ParseInputLazyPath(ctx, item, ctx.path, itemIndex));\n        })\n            .filter((x) => !!x); // filter nulls\n        if (ctx.common.async) {\n            return Promise.all(items).then((results) => {\n                return ParseStatus.mergeArray(status, results);\n            });\n        }\n        else {\n            return ParseStatus.mergeArray(status, items);\n        }\n    }\n    get items() {\n        return this._def.items;\n    }\n    rest(rest) {\n        return new ZodTuple({\n            ...this._def,\n            rest,\n        });\n    }\n}\nZodTuple.create = (schemas, params) => {\n    if (!Array.isArray(schemas)) {\n        throw new Error(\"You must pass an array of schemas to z.tuple([ ... ])\");\n    }\n    return new ZodTuple({\n        items: schemas,\n        typeName: ZodFirstPartyTypeKind.ZodTuple,\n        rest: null,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodRecord extends ZodType {\n    get keySchema() {\n        return this._def.keyType;\n    }\n    get valueSchema() {\n        return this._def.valueType;\n    }\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.object) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.object,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const pairs = [];\n        const keyType = this._def.keyType;\n        const valueType = this._def.valueType;\n        for (const key in ctx.data) {\n            pairs.push({\n                key: keyType._parse(new ParseInputLazyPath(ctx, key, ctx.path, key)),\n                value: valueType._parse(new ParseInputLazyPath(ctx, ctx.data[key], ctx.path, key)),\n                alwaysSet: key in ctx.data,\n            });\n        }\n        if (ctx.common.async) {\n            return ParseStatus.mergeObjectAsync(status, pairs);\n        }\n        else {\n            return ParseStatus.mergeObjectSync(status, pairs);\n        }\n    }\n    get element() {\n        return this._def.valueType;\n    }\n    static create(first, second, third) {\n        if (second instanceof ZodType) {\n            return new ZodRecord({\n                keyType: first,\n                valueType: second,\n                typeName: ZodFirstPartyTypeKind.ZodRecord,\n                ...processCreateParams(third),\n            });\n        }\n        return new ZodRecord({\n            keyType: ZodString.create(),\n            valueType: first,\n            typeName: ZodFirstPartyTypeKind.ZodRecord,\n            ...processCreateParams(second),\n        });\n    }\n}\nexport class ZodMap extends ZodType {\n    get keySchema() {\n        return this._def.keyType;\n    }\n    get valueSchema() {\n        return this._def.valueType;\n    }\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.map) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.map,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const keyType = this._def.keyType;\n        const valueType = this._def.valueType;\n        const pairs = [...ctx.data.entries()].map(([key, value], index) => {\n            return {\n                key: keyType._parse(new ParseInputLazyPath(ctx, key, ctx.path, [index, \"key\"])),\n                value: valueType._parse(new ParseInputLazyPath(ctx, value, ctx.path, [index, \"value\"])),\n            };\n        });\n        if (ctx.common.async) {\n            const finalMap = new Map();\n            return Promise.resolve().then(async () => {\n                for (const pair of pairs) {\n                    const key = await pair.key;\n                    const value = await pair.value;\n                    if (key.status === \"aborted\" || value.status === \"aborted\") {\n                        return INVALID;\n                    }\n                    if (key.status === \"dirty\" || value.status === \"dirty\") {\n                        status.dirty();\n                    }\n                    finalMap.set(key.value, value.value);\n                }\n                return { status: status.value, value: finalMap };\n            });\n        }\n        else {\n            const finalMap = new Map();\n            for (const pair of pairs) {\n                const key = pair.key;\n                const value = pair.value;\n                if (key.status === \"aborted\" || value.status === \"aborted\") {\n                    return INVALID;\n                }\n                if (key.status === \"dirty\" || value.status === \"dirty\") {\n                    status.dirty();\n                }\n                finalMap.set(key.value, value.value);\n            }\n            return { status: status.value, value: finalMap };\n        }\n    }\n}\nZodMap.create = (keyType, valueType, params) => {\n    return new ZodMap({\n        valueType,\n        keyType,\n        typeName: ZodFirstPartyTypeKind.ZodMap,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodSet extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.set) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.set,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const def = this._def;\n        if (def.minSize !== null) {\n            if (ctx.data.size < def.minSize.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_small,\n                    minimum: def.minSize.value,\n                    type: \"set\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.minSize.message,\n                });\n                status.dirty();\n            }\n        }\n        if (def.maxSize !== null) {\n            if (ctx.data.size > def.maxSize.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_big,\n                    maximum: def.maxSize.value,\n                    type: \"set\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.maxSize.message,\n                });\n                status.dirty();\n            }\n        }\n        const valueType = this._def.valueType;\n        function finalizeSet(elements) {\n            const parsedSet = new Set();\n            for (const element of elements) {\n                if (element.status === \"aborted\")\n                    return INVALID;\n                if (element.status === \"dirty\")\n                    status.dirty();\n                parsedSet.add(element.value);\n            }\n            return { status: status.value, value: parsedSet };\n        }\n        const elements = [...ctx.data.values()].map((item, i) => valueType._parse(new ParseInputLazyPath(ctx, item, ctx.path, i)));\n        if (ctx.common.async) {\n            return Promise.all(elements).then((elements) => finalizeSet(elements));\n        }\n        else {\n            return finalizeSet(elements);\n        }\n    }\n    min(minSize, message) {\n        return new ZodSet({\n            ...this._def,\n            minSize: { value: minSize, message: errorUtil.toString(message) },\n        });\n    }\n    max(maxSize, message) {\n        return new ZodSet({\n            ...this._def,\n            maxSize: { value: maxSize, message: errorUtil.toString(message) },\n        });\n    }\n    size(size, message) {\n        return this.min(size, message).max(size, message);\n    }\n    nonempty(message) {\n        return this.min(1, message);\n    }\n}\nZodSet.create = (valueType, params) => {\n    return new ZodSet({\n        valueType,\n        minSize: null,\n        maxSize: null,\n        typeName: ZodFirstPartyTypeKind.ZodSet,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodFunction extends ZodType {\n    constructor() {\n        super(...arguments);\n        this.validate = this.implement;\n    }\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.function) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.function,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        function makeArgsIssue(args, error) {\n            return makeIssue({\n                data: args,\n                path: ctx.path,\n                errorMaps: [ctx.common.contextualErrorMap, ctx.schemaErrorMap, getErrorMap(), defaultErrorMap].filter((x) => !!x),\n                issueData: {\n                    code: ZodIssueCode.invalid_arguments,\n                    argumentsError: error,\n                },\n            });\n        }\n        function makeReturnsIssue(returns, error) {\n            return makeIssue({\n                data: returns,\n                path: ctx.path,\n                errorMaps: [ctx.common.contextualErrorMap, ctx.schemaErrorMap, getErrorMap(), defaultErrorMap].filter((x) => !!x),\n                issueData: {\n                    code: ZodIssueCode.invalid_return_type,\n                    returnTypeError: error,\n                },\n            });\n        }\n        const params = { errorMap: ctx.common.contextualErrorMap };\n        const fn = ctx.data;\n        if (this._def.returns instanceof ZodPromise) {\n            // Would love a way to avoid disabling this rule, but we need\n            // an alias (using an arrow function was what caused 2651).\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            const me = this;\n            return OK(async function (...args) {\n                const error = new ZodError([]);\n                const parsedArgs = await me._def.args.parseAsync(args, params).catch((e) => {\n                    error.addIssue(makeArgsIssue(args, e));\n                    throw error;\n                });\n                const result = await Reflect.apply(fn, this, parsedArgs);\n                const parsedReturns = await me._def.returns._def.type\n                    .parseAsync(result, params)\n                    .catch((e) => {\n                    error.addIssue(makeReturnsIssue(result, e));\n                    throw error;\n                });\n                return parsedReturns;\n            });\n        }\n        else {\n            // Would love a way to avoid disabling this rule, but we need\n            // an alias (using an arrow function was what caused 2651).\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            const me = this;\n            return OK(function (...args) {\n                const parsedArgs = me._def.args.safeParse(args, params);\n                if (!parsedArgs.success) {\n                    throw new ZodError([makeArgsIssue(args, parsedArgs.error)]);\n                }\n                const result = Reflect.apply(fn, this, parsedArgs.data);\n                const parsedReturns = me._def.returns.safeParse(result, params);\n                if (!parsedReturns.success) {\n                    throw new ZodError([makeReturnsIssue(result, parsedReturns.error)]);\n                }\n                return parsedReturns.data;\n            });\n        }\n    }\n    parameters() {\n        return this._def.args;\n    }\n    returnType() {\n        return this._def.returns;\n    }\n    args(...items) {\n        return new ZodFunction({\n            ...this._def,\n            args: ZodTuple.create(items).rest(ZodUnknown.create()),\n        });\n    }\n    returns(returnType) {\n        return new ZodFunction({\n            ...this._def,\n            returns: returnType,\n        });\n    }\n    implement(func) {\n        const validatedFunc = this.parse(func);\n        return validatedFunc;\n    }\n    strictImplement(func) {\n        const validatedFunc = this.parse(func);\n        return validatedFunc;\n    }\n    static create(args, returns, params) {\n        return new ZodFunction({\n            args: (args ? args : ZodTuple.create([]).rest(ZodUnknown.create())),\n            returns: returns || ZodUnknown.create(),\n            typeName: ZodFirstPartyTypeKind.ZodFunction,\n            ...processCreateParams(params),\n        });\n    }\n}\nexport class ZodLazy extends ZodType {\n    get schema() {\n        return this._def.getter();\n    }\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        const lazySchema = this._def.getter();\n        return lazySchema._parse({ data: ctx.data, path: ctx.path, parent: ctx });\n    }\n}\nZodLazy.create = (getter, params) => {\n    return new ZodLazy({\n        getter: getter,\n        typeName: ZodFirstPartyTypeKind.ZodLazy,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodLiteral extends ZodType {\n    _parse(input) {\n        if (input.data !== this._def.value) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                received: ctx.data,\n                code: ZodIssueCode.invalid_literal,\n                expected: this._def.value,\n            });\n            return INVALID;\n        }\n        return { status: \"valid\", value: input.data };\n    }\n    get value() {\n        return this._def.value;\n    }\n}\nZodLiteral.create = (value, params) => {\n    return new ZodLiteral({\n        value: value,\n        typeName: ZodFirstPartyTypeKind.ZodLiteral,\n        ...processCreateParams(params),\n    });\n};\nfunction createZodEnum(values, params) {\n    return new ZodEnum({\n        values,\n        typeName: ZodFirstPartyTypeKind.ZodEnum,\n        ...processCreateParams(params),\n    });\n}\nexport class ZodEnum extends ZodType {\n    _parse(input) {\n        if (typeof input.data !== \"string\") {\n            const ctx = this._getOrReturnCtx(input);\n            const expectedValues = this._def.values;\n            addIssueToContext(ctx, {\n                expected: util.joinValues(expectedValues),\n                received: ctx.parsedType,\n                code: ZodIssueCode.invalid_type,\n            });\n            return INVALID;\n        }\n        if (!this._cache) {\n            this._cache = new Set(this._def.values);\n        }\n        if (!this._cache.has(input.data)) {\n            const ctx = this._getOrReturnCtx(input);\n            const expectedValues = this._def.values;\n            addIssueToContext(ctx, {\n                received: ctx.data,\n                code: ZodIssueCode.invalid_enum_value,\n                options: expectedValues,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n    get options() {\n        return this._def.values;\n    }\n    get enum() {\n        const enumValues = {};\n        for (const val of this._def.values) {\n            enumValues[val] = val;\n        }\n        return enumValues;\n    }\n    get Values() {\n        const enumValues = {};\n        for (const val of this._def.values) {\n            enumValues[val] = val;\n        }\n        return enumValues;\n    }\n    get Enum() {\n        const enumValues = {};\n        for (const val of this._def.values) {\n            enumValues[val] = val;\n        }\n        return enumValues;\n    }\n    extract(values, newDef = this._def) {\n        return ZodEnum.create(values, {\n            ...this._def,\n            ...newDef,\n        });\n    }\n    exclude(values, newDef = this._def) {\n        return ZodEnum.create(this.options.filter((opt) => !values.includes(opt)), {\n            ...this._def,\n            ...newDef,\n        });\n    }\n}\nZodEnum.create = createZodEnum;\nexport class ZodNativeEnum extends ZodType {\n    _parse(input) {\n        const nativeEnumValues = util.getValidEnumValues(this._def.values);\n        const ctx = this._getOrReturnCtx(input);\n        if (ctx.parsedType !== ZodParsedType.string && ctx.parsedType !== ZodParsedType.number) {\n            const expectedValues = util.objectValues(nativeEnumValues);\n            addIssueToContext(ctx, {\n                expected: util.joinValues(expectedValues),\n                received: ctx.parsedType,\n                code: ZodIssueCode.invalid_type,\n            });\n            return INVALID;\n        }\n        if (!this._cache) {\n            this._cache = new Set(util.getValidEnumValues(this._def.values));\n        }\n        if (!this._cache.has(input.data)) {\n            const expectedValues = util.objectValues(nativeEnumValues);\n            addIssueToContext(ctx, {\n                received: ctx.data,\n                code: ZodIssueCode.invalid_enum_value,\n                options: expectedValues,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n    get enum() {\n        return this._def.values;\n    }\n}\nZodNativeEnum.create = (values, params) => {\n    return new ZodNativeEnum({\n        values: values,\n        typeName: ZodFirstPartyTypeKind.ZodNativeEnum,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodPromise extends ZodType {\n    unwrap() {\n        return this._def.type;\n    }\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.promise && ctx.common.async === false) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.promise,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const promisified = ctx.parsedType === ZodParsedType.promise ? ctx.data : Promise.resolve(ctx.data);\n        return OK(promisified.then((data) => {\n            return this._def.type.parseAsync(data, {\n                path: ctx.path,\n                errorMap: ctx.common.contextualErrorMap,\n            });\n        }));\n    }\n}\nZodPromise.create = (schema, params) => {\n    return new ZodPromise({\n        type: schema,\n        typeName: ZodFirstPartyTypeKind.ZodPromise,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodEffects extends ZodType {\n    innerType() {\n        return this._def.schema;\n    }\n    sourceType() {\n        return this._def.schema._def.typeName === ZodFirstPartyTypeKind.ZodEffects\n            ? this._def.schema.sourceType()\n            : this._def.schema;\n    }\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        const effect = this._def.effect || null;\n        const checkCtx = {\n            addIssue: (arg) => {\n                addIssueToContext(ctx, arg);\n                if (arg.fatal) {\n                    status.abort();\n                }\n                else {\n                    status.dirty();\n                }\n            },\n            get path() {\n                return ctx.path;\n            },\n        };\n        checkCtx.addIssue = checkCtx.addIssue.bind(checkCtx);\n        if (effect.type === \"preprocess\") {\n            const processed = effect.transform(ctx.data, checkCtx);\n            if (ctx.common.async) {\n                return Promise.resolve(processed).then(async (processed) => {\n                    if (status.value === \"aborted\")\n                        return INVALID;\n                    const result = await this._def.schema._parseAsync({\n                        data: processed,\n                        path: ctx.path,\n                        parent: ctx,\n                    });\n                    if (result.status === \"aborted\")\n                        return INVALID;\n                    if (result.status === \"dirty\")\n                        return DIRTY(result.value);\n                    if (status.value === \"dirty\")\n                        return DIRTY(result.value);\n                    return result;\n                });\n            }\n            else {\n                if (status.value === \"aborted\")\n                    return INVALID;\n                const result = this._def.schema._parseSync({\n                    data: processed,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (result.status === \"aborted\")\n                    return INVALID;\n                if (result.status === \"dirty\")\n                    return DIRTY(result.value);\n                if (status.value === \"dirty\")\n                    return DIRTY(result.value);\n                return result;\n            }\n        }\n        if (effect.type === \"refinement\") {\n            const executeRefinement = (acc) => {\n                const result = effect.refinement(acc, checkCtx);\n                if (ctx.common.async) {\n                    return Promise.resolve(result);\n                }\n                if (result instanceof Promise) {\n                    throw new Error(\"Async refinement encountered during synchronous parse operation. Use .parseAsync instead.\");\n                }\n                return acc;\n            };\n            if (ctx.common.async === false) {\n                const inner = this._def.schema._parseSync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (inner.status === \"aborted\")\n                    return INVALID;\n                if (inner.status === \"dirty\")\n                    status.dirty();\n                // return value is ignored\n                executeRefinement(inner.value);\n                return { status: status.value, value: inner.value };\n            }\n            else {\n                return this._def.schema._parseAsync({ data: ctx.data, path: ctx.path, parent: ctx }).then((inner) => {\n                    if (inner.status === \"aborted\")\n                        return INVALID;\n                    if (inner.status === \"dirty\")\n                        status.dirty();\n                    return executeRefinement(inner.value).then(() => {\n                        return { status: status.value, value: inner.value };\n                    });\n                });\n            }\n        }\n        if (effect.type === \"transform\") {\n            if (ctx.common.async === false) {\n                const base = this._def.schema._parseSync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (!isValid(base))\n                    return INVALID;\n                const result = effect.transform(base.value, checkCtx);\n                if (result instanceof Promise) {\n                    throw new Error(`Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.`);\n                }\n                return { status: status.value, value: result };\n            }\n            else {\n                return this._def.schema._parseAsync({ data: ctx.data, path: ctx.path, parent: ctx }).then((base) => {\n                    if (!isValid(base))\n                        return INVALID;\n                    return Promise.resolve(effect.transform(base.value, checkCtx)).then((result) => ({\n                        status: status.value,\n                        value: result,\n                    }));\n                });\n            }\n        }\n        util.assertNever(effect);\n    }\n}\nZodEffects.create = (schema, effect, params) => {\n    return new ZodEffects({\n        schema,\n        typeName: ZodFirstPartyTypeKind.ZodEffects,\n        effect,\n        ...processCreateParams(params),\n    });\n};\nZodEffects.createWithPreprocess = (preprocess, schema, params) => {\n    return new ZodEffects({\n        schema,\n        effect: { type: \"preprocess\", transform: preprocess },\n        typeName: ZodFirstPartyTypeKind.ZodEffects,\n        ...processCreateParams(params),\n    });\n};\nexport { ZodEffects as ZodTransformer };\nexport class ZodOptional extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType === ZodParsedType.undefined) {\n            return OK(undefined);\n        }\n        return this._def.innerType._parse(input);\n    }\n    unwrap() {\n        return this._def.innerType;\n    }\n}\nZodOptional.create = (type, params) => {\n    return new ZodOptional({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodOptional,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodNullable extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType === ZodParsedType.null) {\n            return OK(null);\n        }\n        return this._def.innerType._parse(input);\n    }\n    unwrap() {\n        return this._def.innerType;\n    }\n}\nZodNullable.create = (type, params) => {\n    return new ZodNullable({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodNullable,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodDefault extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        let data = ctx.data;\n        if (ctx.parsedType === ZodParsedType.undefined) {\n            data = this._def.defaultValue();\n        }\n        return this._def.innerType._parse({\n            data,\n            path: ctx.path,\n            parent: ctx,\n        });\n    }\n    removeDefault() {\n        return this._def.innerType;\n    }\n}\nZodDefault.create = (type, params) => {\n    return new ZodDefault({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodDefault,\n        defaultValue: typeof params.default === \"function\" ? params.default : () => params.default,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodCatch extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        // newCtx is used to not collect issues from inner types in ctx\n        const newCtx = {\n            ...ctx,\n            common: {\n                ...ctx.common,\n                issues: [],\n            },\n        };\n        const result = this._def.innerType._parse({\n            data: newCtx.data,\n            path: newCtx.path,\n            parent: {\n                ...newCtx,\n            },\n        });\n        if (isAsync(result)) {\n            return result.then((result) => {\n                return {\n                    status: \"valid\",\n                    value: result.status === \"valid\"\n                        ? result.value\n                        : this._def.catchValue({\n                            get error() {\n                                return new ZodError(newCtx.common.issues);\n                            },\n                            input: newCtx.data,\n                        }),\n                };\n            });\n        }\n        else {\n            return {\n                status: \"valid\",\n                value: result.status === \"valid\"\n                    ? result.value\n                    : this._def.catchValue({\n                        get error() {\n                            return new ZodError(newCtx.common.issues);\n                        },\n                        input: newCtx.data,\n                    }),\n            };\n        }\n    }\n    removeCatch() {\n        return this._def.innerType;\n    }\n}\nZodCatch.create = (type, params) => {\n    return new ZodCatch({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodCatch,\n        catchValue: typeof params.catch === \"function\" ? params.catch : () => params.catch,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodNaN extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.nan) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.nan,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return { status: \"valid\", value: input.data };\n    }\n}\nZodNaN.create = (params) => {\n    return new ZodNaN({\n        typeName: ZodFirstPartyTypeKind.ZodNaN,\n        ...processCreateParams(params),\n    });\n};\nexport const BRAND = Symbol(\"zod_brand\");\nexport class ZodBranded extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        const data = ctx.data;\n        return this._def.type._parse({\n            data,\n            path: ctx.path,\n            parent: ctx,\n        });\n    }\n    unwrap() {\n        return this._def.type;\n    }\n}\nexport class ZodPipeline extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.common.async) {\n            const handleAsync = async () => {\n                const inResult = await this._def.in._parseAsync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (inResult.status === \"aborted\")\n                    return INVALID;\n                if (inResult.status === \"dirty\") {\n                    status.dirty();\n                    return DIRTY(inResult.value);\n                }\n                else {\n                    return this._def.out._parseAsync({\n                        data: inResult.value,\n                        path: ctx.path,\n                        parent: ctx,\n                    });\n                }\n            };\n            return handleAsync();\n        }\n        else {\n            const inResult = this._def.in._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            });\n            if (inResult.status === \"aborted\")\n                return INVALID;\n            if (inResult.status === \"dirty\") {\n                status.dirty();\n                return {\n                    status: \"dirty\",\n                    value: inResult.value,\n                };\n            }\n            else {\n                return this._def.out._parseSync({\n                    data: inResult.value,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n            }\n        }\n    }\n    static create(a, b) {\n        return new ZodPipeline({\n            in: a,\n            out: b,\n            typeName: ZodFirstPartyTypeKind.ZodPipeline,\n        });\n    }\n}\nexport class ZodReadonly extends ZodType {\n    _parse(input) {\n        const result = this._def.innerType._parse(input);\n        const freeze = (data) => {\n            if (isValid(data)) {\n                data.value = Object.freeze(data.value);\n            }\n            return data;\n        };\n        return isAsync(result) ? result.then((data) => freeze(data)) : freeze(result);\n    }\n    unwrap() {\n        return this._def.innerType;\n    }\n}\nZodReadonly.create = (type, params) => {\n    return new ZodReadonly({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodReadonly,\n        ...processCreateParams(params),\n    });\n};\n////////////////////////////////////////\n////////////////////////////////////////\n//////////                    //////////\n//////////      z.custom      //////////\n//////////                    //////////\n////////////////////////////////////////\n////////////////////////////////////////\nfunction cleanParams(params, data) {\n    const p = typeof params === \"function\" ? params(data) : typeof params === \"string\" ? { message: params } : params;\n    const p2 = typeof p === \"string\" ? { message: p } : p;\n    return p2;\n}\nexport function custom(check, _params = {}, \n/**\n * @deprecated\n *\n * Pass `fatal` into the params object instead:\n *\n * ```ts\n * z.string().custom((val) => val.length > 5, { fatal: false })\n * ```\n *\n */\nfatal) {\n    if (check)\n        return ZodAny.create().superRefine((data, ctx) => {\n            const r = check(data);\n            if (r instanceof Promise) {\n                return r.then((r) => {\n                    if (!r) {\n                        const params = cleanParams(_params, data);\n                        const _fatal = params.fatal ?? fatal ?? true;\n                        ctx.addIssue({ code: \"custom\", ...params, fatal: _fatal });\n                    }\n                });\n            }\n            if (!r) {\n                const params = cleanParams(_params, data);\n                const _fatal = params.fatal ?? fatal ?? true;\n                ctx.addIssue({ code: \"custom\", ...params, fatal: _fatal });\n            }\n            return;\n        });\n    return ZodAny.create();\n}\nexport { ZodType as Schema, ZodType as ZodSchema };\nexport const late = {\n    object: ZodObject.lazycreate,\n};\nexport var ZodFirstPartyTypeKind;\n(function (ZodFirstPartyTypeKind) {\n    ZodFirstPartyTypeKind[\"ZodString\"] = \"ZodString\";\n    ZodFirstPartyTypeKind[\"ZodNumber\"] = \"ZodNumber\";\n    ZodFirstPartyTypeKind[\"ZodNaN\"] = \"ZodNaN\";\n    ZodFirstPartyTypeKind[\"ZodBigInt\"] = \"ZodBigInt\";\n    ZodFirstPartyTypeKind[\"ZodBoolean\"] = \"ZodBoolean\";\n    ZodFirstPartyTypeKind[\"ZodDate\"] = \"ZodDate\";\n    ZodFirstPartyTypeKind[\"ZodSymbol\"] = \"ZodSymbol\";\n    ZodFirstPartyTypeKind[\"ZodUndefined\"] = \"ZodUndefined\";\n    ZodFirstPartyTypeKind[\"ZodNull\"] = \"ZodNull\";\n    ZodFirstPartyTypeKind[\"ZodAny\"] = \"ZodAny\";\n    ZodFirstPartyTypeKind[\"ZodUnknown\"] = \"ZodUnknown\";\n    ZodFirstPartyTypeKind[\"ZodNever\"] = \"ZodNever\";\n    ZodFirstPartyTypeKind[\"ZodVoid\"] = \"ZodVoid\";\n    ZodFirstPartyTypeKind[\"ZodArray\"] = \"ZodArray\";\n    ZodFirstPartyTypeKind[\"ZodObject\"] = \"ZodObject\";\n    ZodFirstPartyTypeKind[\"ZodUnion\"] = \"ZodUnion\";\n    ZodFirstPartyTypeKind[\"ZodDiscriminatedUnion\"] = \"ZodDiscriminatedUnion\";\n    ZodFirstPartyTypeKind[\"ZodIntersection\"] = \"ZodIntersection\";\n    ZodFirstPartyTypeKind[\"ZodTuple\"] = \"ZodTuple\";\n    ZodFirstPartyTypeKind[\"ZodRecord\"] = \"ZodRecord\";\n    ZodFirstPartyTypeKind[\"ZodMap\"] = \"ZodMap\";\n    ZodFirstPartyTypeKind[\"ZodSet\"] = \"ZodSet\";\n    ZodFirstPartyTypeKind[\"ZodFunction\"] = \"ZodFunction\";\n    ZodFirstPartyTypeKind[\"ZodLazy\"] = \"ZodLazy\";\n    ZodFirstPartyTypeKind[\"ZodLiteral\"] = \"ZodLiteral\";\n    ZodFirstPartyTypeKind[\"ZodEnum\"] = \"ZodEnum\";\n    ZodFirstPartyTypeKind[\"ZodEffects\"] = \"ZodEffects\";\n    ZodFirstPartyTypeKind[\"ZodNativeEnum\"] = \"ZodNativeEnum\";\n    ZodFirstPartyTypeKind[\"ZodOptional\"] = \"ZodOptional\";\n    ZodFirstPartyTypeKind[\"ZodNullable\"] = \"ZodNullable\";\n    ZodFirstPartyTypeKind[\"ZodDefault\"] = \"ZodDefault\";\n    ZodFirstPartyTypeKind[\"ZodCatch\"] = \"ZodCatch\";\n    ZodFirstPartyTypeKind[\"ZodPromise\"] = \"ZodPromise\";\n    ZodFirstPartyTypeKind[\"ZodBranded\"] = \"ZodBranded\";\n    ZodFirstPartyTypeKind[\"ZodPipeline\"] = \"ZodPipeline\";\n    ZodFirstPartyTypeKind[\"ZodReadonly\"] = \"ZodReadonly\";\n})(ZodFirstPartyTypeKind || (ZodFirstPartyTypeKind = {}));\n// requires TS 4.4+\nclass Class {\n    constructor(..._) { }\n}\nconst instanceOfType = (\n// const instanceOfType = <T extends new (...args: any[]) => any>(\ncls, params = {\n    message: `Input not instance of ${cls.name}`,\n}) => custom((data) => data instanceof cls, params);\nconst stringType = ZodString.create;\nconst numberType = ZodNumber.create;\nconst nanType = ZodNaN.create;\nconst bigIntType = ZodBigInt.create;\nconst booleanType = ZodBoolean.create;\nconst dateType = ZodDate.create;\nconst symbolType = ZodSymbol.create;\nconst undefinedType = ZodUndefined.create;\nconst nullType = ZodNull.create;\nconst anyType = ZodAny.create;\nconst unknownType = ZodUnknown.create;\nconst neverType = ZodNever.create;\nconst voidType = ZodVoid.create;\nconst arrayType = ZodArray.create;\nconst objectType = ZodObject.create;\nconst strictObjectType = ZodObject.strictCreate;\nconst unionType = ZodUnion.create;\nconst discriminatedUnionType = ZodDiscriminatedUnion.create;\nconst intersectionType = ZodIntersection.create;\nconst tupleType = ZodTuple.create;\nconst recordType = ZodRecord.create;\nconst mapType = ZodMap.create;\nconst setType = ZodSet.create;\nconst functionType = ZodFunction.create;\nconst lazyType = ZodLazy.create;\nconst literalType = ZodLiteral.create;\nconst enumType = ZodEnum.create;\nconst nativeEnumType = ZodNativeEnum.create;\nconst promiseType = ZodPromise.create;\nconst effectsType = ZodEffects.create;\nconst optionalType = ZodOptional.create;\nconst nullableType = ZodNullable.create;\nconst preprocessType = ZodEffects.createWithPreprocess;\nconst pipelineType = ZodPipeline.create;\nconst ostring = () => stringType().optional();\nconst onumber = () => numberType().optional();\nconst oboolean = () => booleanType().optional();\nexport const coerce = {\n    string: ((arg) => ZodString.create({ ...arg, coerce: true })),\n    number: ((arg) => ZodNumber.create({ ...arg, coerce: true })),\n    boolean: ((arg) => ZodBoolean.create({\n        ...arg,\n        coerce: true,\n    })),\n    bigint: ((arg) => ZodBigInt.create({ ...arg, coerce: true })),\n    date: ((arg) => ZodDate.create({ ...arg, coerce: true })),\n};\nexport { anyType as any, arrayType as array, bigIntType as bigint, booleanType as boolean, dateType as date, discriminatedUnionType as discriminatedUnion, effectsType as effect, enumType as enum, functionType as function, instanceOfType as instanceof, intersectionType as intersection, lazyType as lazy, literalType as literal, mapType as map, nanType as nan, nativeEnumType as nativeEnum, neverType as never, nullType as null, nullableType as nullable, numberType as number, objectType as object, oboolean, onumber, optionalType as optional, ostring, pipelineType as pipeline, preprocessType as preprocess, promiseType as promise, recordType as record, setType as set, strictObjectType as strictObject, stringType as string, symbolType as symbol, effectsType as transformer, tupleType as tuple, undefinedType as undefined, unionType as union, unknownType as unknown, voidType as void, };\nexport const NEVER = INVALID;\n","export const ASPECT_INTERPRETATIONS: Record<string, string> = {\n  'conjunction': 'A conjunction intensifies the energy of the planets involved, blending their influences and creating a focused, powerful effect.',\n  'sextile': 'A sextile indicates opportunities for growth, harmony, and positive interactions between the planets.',\n  'square': 'A square creates tension and challenges that motivate action and personal development.',\n  'trine': 'A trine suggests ease, talent, and natural flow between the planets, often bringing good fortune.',\n  'opposition': 'An opposition highlights conflicts and the need for balance, fostering insight through relationships.'\n};\n","/**\n * Enhanced Astrological Data Hook\n *\n * This hook fetches and transforms astrological data from the API,\n * providing a clean, typed interface for components.\n */\nimport { useMemo, useCallback } from \"react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { useState } from \"react\";\nimport { createClient } from \"@supabase/supabase-js\";\nimport type {\n  AspectType,\n  CelestialBody,\n  ZodiacSign,\n  MoonPhaseInfo,\n} from \"../types/astrology\";\nimport * as z from \"zod\"; // Import Zod\nimport { ASPECT_INTERPRETATIONS } from '../utils/aspectInterpretations'; // Import aspect interpretations\n\n// Initialize Supabase client with fallback to REACT_APP_ prefixed variables for backward compatibility\nconst supabase = createClient(\n  import.meta.env.VITE_SUPABASE_URL ||\n    import.meta.env.REACT_APP_SUPABASE_URL ||\n    \"\",\n  import.meta.env.VITE_SUPABASE_KEY ||\n    import.meta.env.VITE_SUPABASE_ANON_KEY ||\n    import.meta.env.REACT_APP_SUPABASE_ANON_KEY ||\n    \"\",\n);\n\n// Import the moon phase calculation functions\n// Define zodiac sign and element helpers locally since they're missing from astroCalculations\nconst getZodiacSign = (longitude: number): ZodiacSign => {\n  const signs: ZodiacSign[] = [\n    \"Aries\", \"Taurus\", \"Gemini\", \"Cancer\", \"Leo\", \"Virgo\", \n    \"Libra\", \"Scorpio\", \"Sagittarius\", \"Capricorn\", \"Aquarius\", \"Pisces\"\n  ];\n  const index = Math.floor(longitude / 30) % 12;\n  return signs[index];\n};\n\nconst getElementFromSign = (sign: ZodiacSign): Element => {\n  const elements: Record<ZodiacSign, Element> = {\n    \"Aries\": \"fire\",\n    \"Leo\": \"fire\",\n    \"Sagittarius\": \"fire\",\n    \"Taurus\": \"earth\",\n    \"Virgo\": \"earth\",\n    \"Capricorn\": \"earth\",\n    \"Gemini\": \"air\",\n    \"Libra\": \"air\",\n    \"Aquarius\": \"air\",\n    \"Cancer\": \"water\",\n    \"Scorpio\": \"water\",\n    \"Pisces\": \"water\"\n  };\n  return elements[sign];\n};\n\n// Constants for moon phase calculations\nconst LUNAR_CYCLE_DAYS = 29.53058867; // Synodic month in days\nconst LUNAR_CYCLE_MS = LUNAR_CYCLE_DAYS * 24 * 60 * 60 * 1000;\n\n/**\n * Calculate the current moon phase (0-1)\n * 0 = new moon, 0.5 = full moon, 1 = next new moon\n */\nconst getMoonPhase = (date: Date = new Date()): number => {\n  // Known new moon date (Jan 11, 2024 06:57 UTC)\n  const knownNewMoon = new Date('2024-01-11T06:57:00Z').getTime();\n  const now = date.getTime();\n  \n  // Calculate days since known new moon\n  const daysSinceKnownNewMoon = (now - knownNewMoon) / (1000 * 60 * 60 * 24);\n  \n  // Calculate current phase (0-1)\n  const phase = (daysSinceKnownNewMoon % LUNAR_CYCLE_DAYS) / LUNAR_CYCLE_DAYS;\n  \n  return phase;\n};\n\n/**\n * Get detailed moon phase information\n */\nconst getMoonPhaseInfo = (phase?: number, date: Date = new Date()): { \n  name: string; \n  emoji: string; \n  phase: number; \n  illumination: number; \n  nextFullMoon: string; \n  ageInDays: number; \n  phaseType: 'new' | 'waxing-crescent' | 'first-quarter' | 'waxing-gibbous' | 'full' | 'waning-gibbous' | 'last-quarter' | 'waning-crescent';\n} => {\n  // If phase is not provided, calculate it\n  const currentPhase = typeof phase === 'number' ? phase : getMoonPhase(date);\n  \n  // Calculate illumination (0-1) - simplified sine wave approximation\n  const illumination = 0.5 * (1 - Math.cos(2 * Math.PI * currentPhase));\n  \n  // Calculate moon age in days\n  const ageInDays = currentPhase * LUNAR_CYCLE_DAYS;\n  \n  // Calculate next full moon\n  let daysToNextFullMoon = (0.5 - currentPhase) * LUNAR_CYCLE_DAYS;\n  if (daysToNextFullMoon < 0) {\n    daysToNextFullMoon += LUNAR_CYCLE_DAYS; // If we're past full moon this cycle\n  }\n  const nextFullMoon = new Date(date.getTime() + daysToNextFullMoon * 24 * 60 * 60 * 1000);\n  \n  // Determine phase name and type\n  let name: string;\n  let emoji: string;\n  let phaseType: 'new' | 'waxing-crescent' | 'first-quarter' | 'waxing-gibbous' | 'full' | 'waning-gibbous' | 'last-quarter' | 'waning-crescent';\n  \n  if (currentPhase < 0.03 || currentPhase > 0.97) {\n    name = 'New Moon';\n    emoji = '🌑';\n    phaseType = 'new';\n  } else if (currentPhase < 0.22) {\n    name = 'Waxing Crescent';\n    emoji = '🌒';\n    phaseType = 'waxing-crescent';\n  } else if (currentPhase < 0.28) {\n    name = 'First Quarter';\n    emoji = '🌓';\n    phaseType = 'first-quarter';\n  } else if (currentPhase < 0.47) {\n    name = 'Waxing Gibbous';\n    emoji = '🌔';\n    phaseType = 'waxing-gibbous';\n  } else if (currentPhase < 0.53) {\n    name = 'Full Moon';\n    emoji = '🌕';\n    phaseType = 'full';\n  } else if (currentPhase < 0.72) {\n    name = 'Waning Gibbous';\n    emoji = '🌖';\n    phaseType = 'waning-gibbous';\n  } else if (currentPhase < 0.78) {\n    name = 'Last Quarter';\n    emoji = '🌗';\n    phaseType = 'last-quarter';\n  } else {\n    name = 'Waning Crescent';\n    emoji = '🌘';\n    phaseType = 'waning-crescent';\n  }\n  \n  return {\n    name,\n    emoji,\n    phase: currentPhase,\n    illumination,\n    nextFullMoon: nextFullMoon.toISOString(),\n    ageInDays,\n    phaseType\n  };\n};\n\n/**\n * Helper function to determine moon phase value (0 to 1) and name\n * @param _apiMoonPhase - Optional moon phase data from API (legacy)\n * @param _apiMoon_Phase - Optional moon phase data from API (alternative format)\n * @returns Complete moon phase information\n */\nconst getProcessedMoonPhase = (\n  _apiMoonPhase?: {\n    angle?: number;\n    phase?: string;\n    illumination?: number | null;\n  },\n  _apiMoon_Phase?: { phase_name?: string; illumination?: number | null },\n): MoonPhaseInfo => {\n  try {\n    // Get the current moon phase info using our calculation\n    const now = new Date();\n    const moonInfo = getMoonPhaseInfo(undefined, now);\n\n    // Create a properly typed MoonPhaseInfo object\n    const moonPhaseInfo: MoonPhaseInfo = {\n      name: moonInfo.name,\n      value: moonInfo.phase,\n      illumination: moonInfo.illumination,\n      nextFullMoon: new Date(moonInfo.nextFullMoon),\n      ageInDays: moonInfo.ageInDays,\n      phaseType: moonInfo.phaseType,\n    };\n\n    return moonPhaseInfo;\n  } catch (error) {\n    console.error(\"Error processing moon phase:\", error);\n    \n    // Return a safe default in case of errors\n    const defaultDate = new Date(Date.now() + 29.53 * 24 * 60 * 60 * 1000); // ~30 days from now\n\n    const defaultMoonPhase: MoonPhaseInfo = {\n      name: \"New Moon\",\n      value: 0,\n      illumination: 0,\n      nextFullMoon: defaultDate,\n      ageInDays: 0,\n      phaseType: \"new\",\n    };\n\n    return defaultMoonPhase;\n  }\n};\n\n// Base URL for API requests\nconst getApiBaseUrl = () => {\n  // Check if we're in a browser environment\n  if (typeof window === \"undefined\") return \"/api/unified-astro\";\n\n  // In production (Vercel), use relative URL\n  if (window.location.hostname !== \"localhost\") {\n    return \"/api/unified-astro\";\n  }\n\n  // In development, use the local API server\n  return \"/api/unified-astro\";\n};\n\nconst API_BASE_URL = getApiBaseUrl();\n\n// Raw API Aspect type\ninterface RawApiAspect {\n  planet1: string;\n  planet2: string;\n  aspect: string;\n  angle: number;\n  orb: number;\n  strength: number;\n  applying: boolean;\n  // Add other properties if they exist in the raw API response for aspects\n}\n\n// Raw API Aspect Interpretation type\ninterface RawApiAspectInterpretation {\n  planet1: string;\n  planet2: string;\n  aspect: string;\n  interpretation: string;\n  // Add other properties if they exist\n}\n\n// API Response type (matches the actual API response structure)\ninterface ApiResponse {\n  date: string;\n  query_time?: string;\n  sidereal?: boolean;\n  ayanamsa?: number;\n  observer?: {\n    latitude: number;\n    longitude: number;\n    timezone: string;\n  };\n  planets: Record<\n    string,\n    {\n      name?: string;\n      longitude: number;\n      sign: string;\n      degrees?: number;\n      degree?: number;\n      minute?: number;\n      retrograde?: boolean;\n      weight?: number;\n      error?: boolean;\n    }\n  >;\n  // Support both API response formats\n  moon_phase?: {\n    illumination: number | null;\n    phase_name: string;\n  };\n  moonPhase?: {\n    illumination: number | null;\n    angle?: number;\n    phase: string;\n  };\n  void_of_course_moon?: {\n    is_void: boolean;\n    start: string | null;\n    end: string | null;\n    next_sign: string | null;\n  };\n  elements: {\n    fire: { score: number; planets: string[] };\n    earth: { score: number; planets: string[] };\n    air: { score: number; planets: string[] };\n    water: { score: number; planets: string[] };\n  };\n  modalities: {\n    cardinal: { score: number; planets: string[] };\n    fixed: { score: number; planets: string[] };\n    mutable: { score: number; planets: string[] };\n  };\n  aspects: RawApiAspect[];\n  planetary_hours: any[];\n  astro_weather: string;\n  interpretations: {\n    sun?: string;\n    moon?: string;\n    mercury?: string;\n    venus?: string;\n    mars?: string;\n    jupiter?: string;\n    saturn?: string;\n    uranus?: string;\n    neptune?: string;\n    pluto?: string;\n    chiron?: string;\n    north_node?: string;\n    aspects?: RawApiAspectInterpretation[];\n  };\n  // extensible: add more fields for unique profiles\n  [key: string]: any;\n}\n\n// Transformed Aspect type for frontend use\ninterface TransformedAspect {\n  planets: (CelestialBody & { interpretation?: string })[];\n  type: string;\n  angle: number;\n  orb: number;\n  influence: string;\n  applying: boolean;\n  interpretation?: string;\n}\n\n// Our transformed data model for frontend\ninterface AstroData {\n  date: string;\n  queryTime: string;\n  sidereal?: boolean;\n  ayanamsa?: number;\n  observer?: {\n    latitude: number;\n    longitude: number;\n    timezone: string;\n  };\n  planets: Record<\n    string,\n    CelestialBody & {\n      interpretation?: string;\n    }\n  >;\n  moonPhase: MoonPhaseInfo;\n  voidMoon?: {\n    isVoid: boolean;\n    start: string | null;\n    end: string | null;\n    nextSign: string | null;\n  };\n  aspects: TransformedAspect[];\n  elements: {\n    fire: { score: number; planets: string[] };\n    earth: { score: number; planets: string[] };\n    air: { score: number; planets: string[] };\n    water: { score: number; planets: string[] };\n  };\n  modalities: {\n    cardinal: { score: number; planets: string[] };\n    fixed: { score: number; planets: string[] };\n    mutable: { score: number; planets: string[] };\n  };\n  astroWeather: string;\n  interpretations: {\n    planets: Record<string, string>;\n    aspects: Array<{\n      aspect: string;\n      interpretation: string;\n    }>;\n  };\n  cusps?: number[]; // Add this line to include the cusps array from backend\n  // extensible: add more fields for unique player profiles\n  [key: string]: any;\n}\n\n// Return type for the hook\nexport interface UseAstroDataReturn {\n  astroData: AstroData | null;\n  loading: boolean;\n  error: Error | null;\n  refreshData: () => void;\n}\n\n// Get icon for zodiac sign (helper function)\nconst getZodiacIcon = (sign: string): string => {\n  const signs: Record<string, string> = {\n    aries: \"♈\",\n    taurus: \"♉\",\n    gemini: \"♊\",\n    cancer: \"♋\",\n    leo: \"♌\",\n    virgo: \"♍\",\n    libra: \"♎\",\n    scorpio: \"♏\",\n    sagittarius: \"♐\",\n    capricorn: \"♑\",\n    aquarius: \"♒\",\n    pisces: \"♓\",\n  };\n  return signs[sign.toLowerCase()] || \"?\";\n};\n\n/**\n * Hook to fetch and transform astrological data\n * @param dateParam - Date to get data for, defaults to current date\n * @returns Astrological data, loading state, and error\n */\nexport const useAstroData = (\n  dateParam: Date | string | null = new Date(),\n): UseAstroDataReturn => {\n  // Format date as YYYY-MM-DD, handling null/undefined cases\n  let dateStr = \"\";\n\n  if (dateParam === null || dateParam === undefined) {\n    console.log(\n      \"[useAstroData] dateParam is null or undefined, using current date\",\n    );\n    dateParam = new Date();\n  }\n\n  try {\n    if (typeof dateParam === \"string\") {\n      dateStr = dateParam;\n    } else if (dateParam instanceof Date && dateParam && typeof dateParam.toISOString === 'function') {\n      dateStr = dateParam.toISOString().split(\"T\")[0];\n    } else {\n      // If dateParam is neither a string nor a valid Date, create a new Date\n      dateStr = new Date().toISOString().split(\"T\")[0];\n    }\n  } catch (err) {\n    console.error(\"[useAstroData] Error formatting date:\", err);\n    dateStr = new Date().toISOString().split(\"T\")[0]; // Fallback to current date\n  }\n\n  // Stable key for SWR, based on actual data dependencies\n  const swrKey = `/api/unified-astro?date=${dateStr}&sidereal=true`;\n\n  // Enhanced fetch function with better error handling and auth flow\n  const fetcher = async (baseApiUrl: string) => {\n    const urlToFetch = `${baseApiUrl}&t=${Date.now()}`; // Append timestamp for cache-busting\n    console.log(\"[useAstroData] Fetching URL:\", urlToFetch);\n\n    // Get Supabase session if available\n    console.log(\"[useAstroData] Getting Supabase session...\");\n    const {\n      data: { session },\n      error: sessionError,\n    } = await supabase.auth.getSession();\n\n    if (sessionError) {\n      console.warn(\n        \"[useAstroData] Error getting Supabase session:\",\n        sessionError,\n      );\n    } else {\n      console.log(\n        \"[useAstroData] Session status:\",\n        session ? \"Authenticated\" : \"No active session\",\n      );\n    }\n\n    // Prepare headers with auth\n    const headers: HeadersInit = {\n      \"Content-Type\": \"application/json\",\n    };\n\n    // Add auth token if available, otherwise use anon key as fallback\n    const anonKey =\n      import.meta.env.VITE_SUPABASE_KEY ||\n      import.meta.env.VITE_SUPABASE_ANON_KEY ||\n      import.meta.env.REACT_APP_SUPABASE_ANON_KEY;\n    if (session?.access_token) {\n      console.log(\"[useAstroData] Using authenticated session token\");\n      headers[\"Authorization\"] = `Bearer ${session.access_token}`;\n    } else if (anonKey) {\n      console.log(\"[useAstroData] Using anonymous access with anon key\");\n      headers[\"apikey\"] = anonKey;\n      headers[\"Authorization\"] = `Bearer ${anonKey}`;\n    } else {\n      console.warn(\"[useAstroData] No auth token or anon key available\");\n    }\n\n    try {\n      console.log(\n        \"[useAstroData] Making request with headers:\",\n        JSON.stringify(headers, null, 2),\n      );\n      const response = await fetch(urlToFetch, {\n        headers,\n        credentials: \"include\",\n      });\n\n      if (!response.ok) {\n        const errorText = await response.text();\n        console.error(\"[useAstroData] API request failed:\", {\n          status: response.status,\n          statusText: response.statusText,\n          url: urlToFetch,\n          error: errorText,\n          headers: Object.fromEntries(response.headers.entries()),\n        });\n\n        // Handle 401/403 specifically with retry logic\n        if (response.status === 401 || response.status === 403) {\n          console.log(\n            \"[useAstroData] Authentication required, attempting to refresh session...\",\n          );\n\n          try {\n            const { data, error: refreshError } =\n              await supabase.auth.refreshSession();\n\n            if (refreshError || !data.session) {\n              console.error(\n                \"[useAstroData] Session refresh failed:\",\n                refreshError,\n              );\n              // If refresh fails, try with anon key if not already using it\n              if (anonKey && !headers[\"apikey\"]) {\n                console.log(\"[useAstroData] Retrying with anonymous access...\");\n                const anonHeaders = {\n                  ...headers,\n                  apikey: anonKey,\n                  Authorization: `Bearer ${anonKey}`,\n                };\n                const anonResponse = await fetch(urlToFetch, {\n                  headers: anonHeaders,\n                  credentials: \"include\",\n                });\n\n                if (!anonResponse.ok) {\n                  throw new Error(\n                    `Anonymous access failed: ${anonResponse.status} ${anonResponse.statusText}`,\n                  );\n                }\n                return await anonResponse.json();\n              }\n              throw new Error(\n                `Authentication failed: ${refreshError?.message || \"No session after refresh\"}`,\n              );\n            }\n\n            // Retry with new token\n            console.log(\n              \"[useAstroData] Session refreshed, retrying with new token...\",\n            );\n            const retryHeaders = {\n              ...headers,\n              Authorization: `Bearer ${data.session.access_token}`,\n            };\n\n            const retryResponse = await fetch(urlToFetch, {\n              headers: retryHeaders,\n              credentials: \"include\",\n            });\n\n            if (!retryResponse.ok) {\n              const retryError = await retryResponse.text();\n              throw new Error(\n                `Retry failed with status ${retryResponse.status}: ${retryError}`,\n              );\n            }\n\n            return await retryResponse.json();\n          } catch (error: unknown) {\n            console.error(\n              \"[useAstroData] Error during session refresh/retry:\",\n              error\n            );\n            \n            // Properly handle the unknown error type\n            if (error instanceof Error) {\n              throw new Error(`Failed to refresh session: ${error.message}`);\n            } else {\n              throw new Error(`Failed to refresh session: ${String(error)}`);\n            }\n          }\n        }\n\n        throw new Error(\n          `API request failed with status ${response.status}: ${errorText}`,\n        );\n      }\n\n      const responseData = await response.json();\n      console.log(\"[useAstroData] Successfully fetched data\");\n      return responseData;\n    } catch (e) {\n      const errorMessage = e instanceof Error ? e.message : String(e);\n      console.error(\"[useAstroData] Request failed:\", {\n        error: errorMessage,\n        url: urlToFetch,\n        timestamp: new Date().toISOString(),\n      });\n      throw new Error(`Request failed: ${errorMessage}`);\n    }\n  };\n\n  const swrOptions = {\n    dedupingInterval: 30000, // Prevent duplicate requests for 30 seconds\n    revalidateOnFocus: false,\n    revalidateOnReconnect: true,\n    shouldRetryOnError: true,\n    retryCount: 3,\n    retryDelay: (attemptIndex: number) =>\n      Math.min(1000 * 2 ** attemptIndex, 10000), // Exponential backoff\n    onErrorRetry: (\n      error: Error,\n      _: any,\n      __: any,\n      revalidate: any,\n      { retryCount }: { retryCount: number },\n    ) => {\n      // Don't retry on 401/403 as it's likely an auth issue\n      if (error.message.includes(\"401\") || error.message.includes(\"403\")) {\n        console.log(\"[useAstroData] Not retrying 401/403 error\");\n        return;\n      }\n\n      // Only retry up to configured retryCount\n      if (retryCount >= 3) return;\n\n      // Retry with exponential backoff\n      const timeout = Math.min(1000 * 2 ** retryCount, 30000);\n      console.log(\n        `[useAstroData] Retrying (${retryCount + 1}/3) in ${timeout}ms...`,\n      );\n      setTimeout(() => revalidate({ retryCount }), timeout);\n    },\n  };\n\n  const {\n    data: apiData,\n    error,\n    isLoading,\n    refetch,\n  } = useQuery({\n    queryKey: [swrKey],\n    queryFn: () => fetcher(swrKey),\n    retry: swrOptions.retryCount,\n    retryDelay: swrOptions.retryDelay,\n    staleTime: swrOptions.dedupingInterval,\n    refetchOnWindowFocus: swrOptions.revalidateOnFocus,\n    refetchOnReconnect: swrOptions.revalidateOnReconnect\n  });\n\n  const [isRefreshing, setIsRefreshing] = useState(false);\n\n  // Function to manually refresh data\n  const refreshData = async () => {\n    try {\n      setIsRefreshing(true);\n      await refetch();\n    } catch (refreshError: unknown) {\n      console.error(\"Error refreshing data:\", refreshError);\n    } finally {\n      setIsRefreshing(false);\n    }\n  };\n\n  // Console log for debugging\n  console.log(\"API Response:\", {\n    apiData: {\n      sidereal: apiData?.sidereal,\n      ayanamsa: apiData?.ayanamsa,\n      date: apiData?.date,\n      planets: apiData?.planets,\n      moon_phase: apiData?.moon_phase,\n    },\n    error,\n    isLoading,\n  });\n\n  // Log the SWR key being used\n  console.log(\"SWR Key:\", swrKey);\n\n  // Log SWR values before transformation\n  console.log(\n    \"[useAstroData] Values from SWR before useMemo - apiData:\",\n    JSON.stringify(apiData, null, 2),\n    \"error:\",\n    error,\n    \"isLoading:\",\n    isLoading,\n  );\n\n  // Transform API data to our internal model\n  const transformedData = useMemo((): AstroData | null => {\n    console.log(\n      \"[useAstroData/transformedData] Attempting transformation. apiData:\",\n      JSON.stringify(apiData, null, 2),\n    );\n    if (!apiData) {\n      console.log(\n        \"[useAstroData/transformedData] apiData is null or undefined, returning null.\",\n      );\n      return null;\n    }\n\n    try {\n      console.log(\n        \"[useAstroData/transformedData] Inside try block, pre-JSON.stringify apiData:\",\n        apiData ? Object.keys(apiData).join(\", \") : \"apiData is null\",\n      );\n      console.log(\"Raw API Data:\", JSON.stringify(apiData, null, 2));\n\n      // Zod schema for API response\n      const AstroDataSchema = z.object({\n        date: z.string().datetime(),\n        sidereal: z.boolean().optional(),\n        ayanamsa: z.number().optional(),\n        planets: z.record(\n          z.object({\n            longitude: z.number(),\n            sign: z.string(),\n            degrees: z.number(),\n            retrograde: z.boolean(),\n            weight: z.number().optional(),\n            tropicalLongitude: z.number().optional(),\n          }),\n        ),\n        moonPhase: z\n          .object({\n            illumination: z.number(),\n            angle: z.number(),\n            phase: z.string(),\n          })\n          .optional(),\n        aspects: z\n          .array(\n            z.object({\n              planet1: z.string(),\n              planet2: z.string(),\n              aspect: z.string(),\n              angle: z.number(),\n              orb: z.number(),\n              strength: z.number(),\n              applying: z.boolean(),\n              interpretation: z.string().optional(),\n            }),\n          )\n          .optional(),\n        elements: z\n          .object({\n            fire: z.number(),\n            earth: z.number(),\n            water: z.number(),\n            air: z.number(),\n          })\n          .optional(),\n        modalities: z\n          .object({\n            cardinal: z.number(),\n            fixed: z.number(),\n            mutable: z.number(),\n          })\n          .optional(),\n        astro_weather: z\n          .object({\n            overall: z.number(),\n            action: z.number(),\n            thinking: z.number(),\n            feeling: z.number(),\n            creativity: z.number(),\n            spirituality: z.number(),\n          })\n          .optional(),\n        interpretations: z\n          .object({\n            planets: z.record(\n              z.object({\n                sign: z.string(),\n                retrograde: z.boolean(),\n                interpretation: z.string(),\n              }),\n            ),\n            aspects: z.array(\n              z.object({\n                planet1: z.string(),\n                planet2: z.string(),\n                aspect: z.string(),\n                angle: z.number(),\n                orb: z.number(),\n                strength: z.number(),\n                applying: z.boolean(),\n                interpretation: z.string(),\n              }),\n            ),\n          })\n          .optional(),\n        sunSign: z.string().optional(),\n        cusps: z.array(z.number()).optional(), // Add this line to include the cusps array from backend\n      });\n\n      // Validate and parse API response\n      const parseResult = AstroDataSchema.safeParse(apiData);\n      if (!parseResult.success) {\n        console.error(\"[useAstroData] API response validation failed:\", {\n          error: parseResult.error,\n          response: apiData,\n        });\n\n        // Return minimal valid structure\n        return {\n          date,\n          planets: {},\n          aspects: [],\n          elements: undefined,\n          sunSign: undefined,\n        };\n      }\n\n      // Extract necessary data from actual API response\n      const {\n        date,\n        query_time,\n        sidereal,\n        ayanamsa,\n        observer,\n        planets,\n        moon_phase,\n        moonPhase, // Destructure raw moonPhase to prevent overwrite by ...rest\n        void_of_course_moon,\n        aspects,\n        elements,\n        modalities,\n        astro_weather,\n        interpretations,\n        cusps, // Add this line to include the cusps array from backend\n        ...rest\n      } = apiData;\n      console.log(\n        \"[useAstroData/transformedData] Destructured apiData successfully.\",\n      );\n\n      // Map planets object directly (add interpretation if available)\n      const planetData: Record<\n        string,\n        CelestialBody & { interpretation?: string }\n      > = {};\n      if (planets && typeof planets === \"object\") {\n        Object.entries(planets).forEach(([key, value]) => {\n          if (value && typeof value === \"object\") {\n            const planetKey = key.toLowerCase();\n            // Capitalize the planet name for display\n            const displayName = key.charAt(0).toUpperCase() + key.slice(1);\n            \n            planetData[planetKey] = {\n              name: displayName, // Explicitly set capitalized name\n              longitude: value.longitude || 0,\n              sign: value.sign as ZodiacSign,\n              degree: value.degrees || value.degree || 0, // Handle both API versions\n              retrograde: Boolean(value.retrograde),\n              speed: value.speed || 1,\n              interpretation: interpretations?.planets?.[planetKey]?.interpretation || '',\n            };\n          }\n        });\n        \n        // Add debug logging\n        console.log(\"[useAstroData] Transformed planets:\", planetData);\n      }\n\n      // Map aspects\n      const mappedAspects = Array.isArray(aspects)\n        ? aspects.map((rawAspect) => {\n            const p1Name = rawAspect.planet1?.toLowerCase();\n            const p2Name = rawAspect.planet2?.toLowerCase();\n            \n            // Skip if planet names are missing\n            if (!p1Name || !p2Name) {\n              console.warn(\"[useAstroData] Missing planet names in aspect:\", rawAspect);\n              return null;\n            }\n            \n            const planet1 = planetData[p1Name];\n            const planet2 = planetData[p2Name];\n            \n            // Skip if planets not found in planetData\n            if (!planet1 || !planet2) {\n              console.warn(`[useAstroData] Planets not found for aspect: ${p1Name}-${rawAspect.aspect}-${p2Name}`);\n              return null;\n            }\n\n            // Find matching interpretation\n            const aspectInterpretation = interpretations?.aspects?.find(\n              (a) => \n                (a.planet1?.toLowerCase() === p1Name && \n                 a.planet2?.toLowerCase() === p2Name && \n                 a.aspect?.toLowerCase() === rawAspect.aspect?.toLowerCase()) ||\n                (a.planet1?.toLowerCase() === p2Name && \n                 a.planet2?.toLowerCase() === p1Name && \n                 a.aspect?.toLowerCase() === rawAspect.aspect?.toLowerCase())\n            )?.interpretation || '';\n\n            // Capitalize aspect type for display\n            const aspectType = rawAspect.aspect \n              ? rawAspect.aspect.charAt(0).toUpperCase() + rawAspect.aspect.slice(1).toLowerCase() \n              : 'Unknown';\n            \n            return {\n              planets: [planet1, planet2],\n              type: aspectType,\n              angle: rawAspect.angle || 0,\n              orb: rawAspect.orb || 0,\n              influence: rawAspect.strength != null ? `${Math.round(rawAspect.strength * 100)}%` : \"N/A\",\n              applying: Boolean(rawAspect.applying),\n              interpretation: aspectInterpretation || ASPECT_INTERPRETATIONS[aspectType.toLowerCase()] || 'No interpretation available',\n            };\n          }).filter(aspect => aspect !== null) as TransformedAspect[]\n        : [];\n        \n        // Add debug logging\n        console.log(\"[useAstroData] First 3 transformed aspects:\", mappedAspects.slice(0, 3));\n      console.log(\n        \"[useAstroData/transformedData] Finished mapping aspects:\",\n        JSON.stringify(mappedAspects, null, 2),\n      );\n\n      // Map planet interpretations - handle both API response formats\n      const planetInterpretations: Record<string, string> = {};\n\n      // Use any type to handle different interpretations structures\n      const anyInterpretations = interpretations as any;\n\n      // Handle flat structure\n      if (anyInterpretations && typeof anyInterpretations === \"object\") {\n        Object.keys(anyInterpretations).forEach((key) => {\n          if (\n            key !== \"aspects\" &&\n            key !== \"planets\" &&\n            typeof anyInterpretations[key] === \"string\"\n          ) {\n            planetInterpretations[key] = anyInterpretations[key];\n          }\n        });\n      }\n\n      // Handle nested structure\n      if (\n        anyInterpretations?.planets &&\n        typeof anyInterpretations.planets === \"object\"\n      ) {\n        Object.keys(anyInterpretations.planets).forEach((key) => {\n          const planetInterp = anyInterpretations.planets[key];\n          if (typeof planetInterp === \"object\" && planetInterp.interpretation) {\n            planetInterpretations[key] = planetInterp.interpretation;\n          } else if (typeof planetInterp === \"string\") {\n            planetInterpretations[key] = planetInterp;\n          }\n        });\n      }\n\n      // Compose final AstroData\n      const result: AstroData = {\n        date,\n        queryTime: query_time,\n        sidereal,\n        ayanamsa,\n        observer,\n        planets: planetData,\n        moonPhase: getProcessedMoonPhase(apiData.moonPhase, moon_phase),\n        voidMoon: void_of_course_moon\n          ? {\n              isVoid: void_of_course_moon.is_void,\n              start: void_of_course_moon.start,\n              end: void_of_course_moon.end,\n              nextSign: void_of_course_moon.next_sign,\n            }\n          : undefined,\n        aspects: mappedAspects,\n        elements,\n        modalities,\n        astroWeather: astro_weather,\n        interpretations: {\n          planets: planetInterpretations,\n          aspects: interpretations?.aspects || [],\n        },\n        cusps: cusps || [], // Add this line to include the cusps array from backend, with fallback to empty array if missing\n        ...rest, // allow extensibility for unique player profiles\n      };\n      console.log(\n        \"[useAstroData/transformedData] Successfully transformed data:\",\n        JSON.stringify(result, null, 2),\n      );\n      return result;\n    } catch (error) {\n      console.error(\n        \"[useAstroData/transformedData] Error during transformation:\",\n        error,\n        \"Original apiData:\",\n        JSON.stringify(apiData, null, 2),\n      );\n      return null;\n    }\n  }, [apiData]);\n\n  return {\n    astroData: transformedData,\n    loading: isLoading,\n    error: error as Error,\n    refreshData,\n  };\n};\n\nexport default useAstroData;\n","// src/utils/sportsPredictions.ts\nimport type { \n  AstroData, \n  CelestialBody, \n  AspectType,\n  Aspect\n} from '@/types/astrology';\nimport type { Game, Team } from '@/types';\nimport type { GamePredictionData } from '@/types/gamePredictions';\n\n// Extended interface to match the actual data structure\ntype ExtendedAstroData = Omit<AstroData, 'aspects' | 'elements' | 'moon' | 'sun' | 'planets'> & {\n  moon?: CelestialBody & { phase_name?: string; illumination?: number; phase?: string };\n  sun?: CelestialBody & { sign?: string; retrograde?: boolean };\n  planets?: Record<string, CelestialBody & { sign?: string; retrograde?: boolean }>;\n  elements?: {\n    fire: { score: number; planets: string[] };\n    earth: { score: number; planets: string[] };\n    water: { score: number; planets: string[] };\n    air: { score: number; planets: string[] };\n  };\n  aspects?: Array<Aspect | {\n    from: string;\n    to: string;\n    type: string;\n    angle?: number;\n    orb?: number;\n    influence?: string | { description: string; strength: number; area: string[] };\n    planets?: string[];\n  }>;\n};\n\n// Define prediction result type\nexport interface PredictionResult {\n  prediction: string;\n  dominantElement: string;\n  elementScores: {\n    fire: number;\n    earth: number;\n    water: number;\n    air: number;\n  };\n  moonPhase: string;\n  moonIllumination?: number;\n  sunSign: string;\n  mercuryRetrograde: boolean;\n  confidence: number;\n  tags: string[];\n}\n\n// Interface for game outcome prediction\nexport interface GameOutcomePrediction {\n  homeWinProbability: number;\n  awayWinProbability: number;\n  prediction: string;\n  dominantElement: string;\n  moonPhase: string;\n  sunSign: string;\n  tags: string[];\n  confidence: number;\n  reasoning?: string;\n  predicted_winner?: string | null;\n}\n\n// Export GameOutcomePrediction as SportsPrediction for backward compatibility\nexport type SportsPrediction = GameOutcomePrediction;\n\n/**\n * Calculate sports prediction based on astrological data\n */\nexport function calculateSportsPredictions(astroData: GamePredictionData | null): PredictionResult | null {\n  if (!astroData) return null;\n  \n  // Extract key data from astro data with safe fallbacks\n  const moonPhase = (() => {\n    if (astroData.moon?.phase_name) return astroData.moon.phase_name;\n    if (astroData.moonPhase?.name) return astroData.moonPhase.name;\n    return 'New Moon'; // Default fallback\n  })();\n  \n  const moonIllumination = (() => {\n    if (typeof astroData.moon?.illumination === 'number') return astroData.moon.illumination;\n    if (typeof astroData.moonPhase?.illumination === 'number') return astroData.moonPhase.illumination;\n    return 0; // Default fallback\n  })();\n  \n  // Handle sun sign - check both direct property and planets object\n  const sunSign = (() => {\n    if (astroData.sun?.sign) return String(astroData.sun.sign);\n    if (astroData.planets?.sun?.sign) return String(astroData.planets.sun.sign);\n    return 'Aries'; // Default fallback\n  })();\n  \n  // Handle mercury retrograde\n  const mercuryRetrograde = (() => {\n    if (astroData.planets?.mercury?.retrograde !== undefined) \n      return Boolean(astroData.planets.mercury.retrograde);\n    return false;\n  })();\n  \n  // Check for significant aspects that might affect the game\n  const significantAspects = (astroData.aspects || []).filter(aspect => {\n    // Handle both Aspect type and the simplified aspect format\n    const from = 'from' in aspect ? String(aspect.from || '') : '';\n    const to = 'to' in aspect ? String(aspect.to || '') : '';\n    \n    // Check if any of the planets in the aspect are significant\n    return [from, to].some(p => \n      p && (p.includes('Sun') || p.includes('Moon') || p.includes('Mercury'))\n    );\n  });\n\n  // Add aspect influences to tags\n  const tags: string[] = [];\n  if (significantAspects.length > 0) {\n    tags.push('Significant aspects present');\n  }\n  \n  // Calculate element distribution scores with safe access\n  const defaultElements = { \n    fire: { score: 0, planets: [] }, \n    earth: { score: 0, planets: [] }, \n    water: { score: 0, planets: [] }, \n    air: { score: 0, planets: [] } \n  };\n  \n  const elements = astroData.elements || defaultElements;\n  \n  // Extract scores safely with proper type checking\n  const fireScore = (() => {\n    if (!elements.fire) return 0;\n    if (typeof elements.fire === 'number') return elements.fire;\n    if (typeof elements.fire.score === 'number') return elements.fire.score;\n    return 0;\n  })();\n  \n  const earthScore = (() => {\n    if (!elements.earth) return 0;\n    if (typeof elements.earth === 'number') return elements.earth;\n    if (typeof elements.earth.score === 'number') return elements.earth.score;\n    return 0;\n  })();\n  \n  const waterScore = (() => {\n    if (!elements.water) return 0;\n    if (typeof elements.water === 'number') return elements.water;\n    if (typeof elements.water.score === 'number') return elements.water.score;\n    return 0;\n  })();\n  \n  const airScore = (() => {\n    if (!elements.air) return 0;\n    if (typeof elements.air === 'number') return elements.air;\n    if (typeof elements.air.score === 'number') return elements.air.score;\n    return 0;\n  })();\n  \n  const totalElements = fireScore + earthScore + waterScore + airScore || 100;\n  \n  const elementScores = {\n    fire: Math.round((fireScore / totalElements) * 100) || 25,\n    earth: Math.round((earthScore / totalElements) * 100) || 25,\n    water: Math.round((waterScore / totalElements) * 100) || 25,\n    air: Math.round((airScore / totalElements) * 100) || 25\n  };\n  \n  // Get dominant element\n  const dominantElement = Object.entries(elementScores)\n    .sort((a, b) => b[1] - a[1])[0][0];\n  \n  // Generate prediction text\n  let prediction = '';\n  \n  // Sun sign influence\n  prediction += getSunSignPrediction(sunSign);\n  \n  // Moon phase influence\n  prediction += ' ' + getMoonPhasePrediction(moonPhase, moonIllumination);\n  \n  // Element influence\n  prediction += ' ' + getElementPrediction(dominantElement, elementScores);\n  \n  // Mercury retrograde (if applicable)\n  if (mercuryRetrograde) {\n    prediction += ' With Mercury in retrograde, expect communication issues and potential misunderstandings between players and coaches, possibly leading to strategic errors.';\n  }\n  \n  // Return structured prediction data\n  return {\n    prediction,\n    dominantElement,\n    elementScores,\n    moonPhase,\n    moonIllumination,\n    sunSign,\n    mercuryRetrograde,\n    confidence: 0.7,  // Fixed confidence score\n    tags: [dominantElement, 'sports_prediction']\n  };\n}\n\n/**\n * Get sports prediction based on sun sign\n */\nfunction getSunSignPrediction(sign: string): string {\n  const predictions: Record<string, string> = {\n    'Aries': \"Teams with aggressive, fast-paced styles have an advantage today.\",\n    'Taurus': \"Teams with strong defensive fundamentals and patience are favored.\",\n    'Gemini': \"Versatile teams with good passing and communication will perform well.\",\n    'Cancer': \"Home teams have a stronger advantage than usual today.\",\n    'Leo': \"Star players will have outsized impact on game outcomes.\",\n    'Virgo': \"Teams with disciplined, detail-oriented approaches will succeed.\",\n    'Libra': \"Well-balanced teams with good chemistry are at an advantage.\",\n    'Scorpio': \"Intense, defensive battles are likely, with low-scoring games.\",\n    'Sagittarius': \"High-scoring games with long-range shooting success are favored.\",\n    'Capricorn': \"Veterans and experienced teams have an edge today.\",\n    'Aquarius': \"Unconventional strategies and unexpected outcomes are likely.\",\n    'Pisces': \"Intuitive, flow-based play will be rewarded over rigid systems.\"\n  };\n  \n  return predictions[sign] || \"Today's cosmic alignment suggests a balanced playing field.\";\n}\n\n/**\n * Get sports prediction based on moon phase\n */\nfunction getMoonPhasePrediction(phase: string, illumination: number): string {\n  const predictions: Record<string, string> = {\n    'New Moon': \"This new moon phase indicates fresh strategies will be successful.\",\n    'Waxing Crescent': \"Teams starting new momentum cycles have an advantage.\",\n    'First Quarter': \"Teams overcoming recent challenges will show significant improvement.\",\n    'Waxing Gibbous': \"Teams peaking at the right time will perform especially well.\",\n    'Full Moon': \"Expect dramatic, emotional performances with high intensity.\",\n    'Waning Gibbous': \"Teams with superior conditioning will pull ahead in late-game situations.\",\n    'Last Quarter': \"Teams in rebuilding phases may surprise with strong performances.\",\n    'Waning Crescent': \"Rest and recovery strategies will be particularly important.\"\n  };\n  \n  return predictions[phase] || `With ${Math.round(illumination * 100)}% lunar illumination, emotional control will be a key factor.`;\n}\n\n/**\n * Get sports prediction based on dominant element\n */\nfunction getElementPrediction(\n  element: string, \n  scores: {fire: number, earth: number, water: number, air: number}\n): string {\n  const predictions: Record<string, string> = {\n    'fire': `With fire as the dominant element (${scores.fire}%), expect fast-paced, high-energy games where aggressive teams take more risks.`,\n    'earth': `Earth's dominance (${scores.earth}%) favors disciplined, structured teams that rely on fundamentals and physical play.`,\n    'air': `Air's strong influence (${scores.air}%) benefits teams with superior passing, communication, and strategic adaptability.`,\n    'water': `Water's significant presence (${scores.water}%) enhances intuitive team connections and emotional momentum swings.`\n  };\n  \n  return predictions[element] || \"A balanced elemental distribution suggests no particular style has a cosmic advantage.\";\n}\n\n/**\n * Predict which team might have an astrological edge in a matchup\n * @param game - Game data\n * @param homeTeam - Home team data\n * @param awayTeam - Away team data \n * @param astroData - Astrological data\n * @returns Object with prediction details or null if data is missing\n */\nexport function predictGameOutcome(\n  game: Game, \n  homeTeam: Team | undefined, \n  awayTeam: Team | undefined, \n  astroData: GamePredictionData | null\n): GameOutcomePrediction | null {\n  if (!astroData || !homeTeam || !awayTeam) {\n    return null;\n  }\n  \n  // Extract key astrological data with proper type checking and fallbacks\n  const moonPhase = (() => {\n    if (astroData.moon?.phase_name) return astroData.moon.phase_name;\n    if (astroData.moonPhase?.name) return astroData.moonPhase.name;\n    return 'New Moon'; // Default fallback\n  })();\n    \n  const sunSign = (() => {\n    if (astroData.sun?.sign) return String(astroData.sun.sign);\n    if (astroData.planets?.sun?.sign) return String(astroData.planets.sun.sign);\n    return 'Aries'; // Default fallback\n  })();\n  \n  // Get dominant element with proper type checking\n  const defaultElements = { \n    fire: { score: 0, planets: [] }, \n    earth: { score: 0, planets: [] }, \n    water: { score: 0, planets: [] }, \n    air: { score: 0, planets: [] } \n  };\n  \n  const elements = astroData.elements || defaultElements;\n  \n  // Extract element scores safely with proper type checking\n  const elementValues = {\n    fire: (() => {\n      if (!elements.fire) return 0;\n      if (typeof elements.fire === 'number') return elements.fire;\n      if (typeof elements.fire.score === 'number') return elements.fire.score;\n      return 0;\n    })(),\n    earth: (() => {\n      if (!elements.earth) return 0;\n      if (typeof elements.earth === 'number') return elements.earth;\n      if (typeof elements.earth.score === 'number') return elements.earth.score;\n      return 0;\n    })(),\n    water: (() => {\n      if (!elements.water) return 0;\n      if (typeof elements.water === 'number') return elements.water;\n      if (typeof elements.water.score === 'number') return elements.water.score;\n      return 0;\n    })(),\n    air: (() => {\n      if (!elements.air) return 0;\n      if (typeof elements.air === 'number') return elements.air;\n      if (typeof elements.air.score === 'number') return elements.air.score;\n      return 0;\n    })()\n  };\n  \n  const dominantElement = Object.entries(elementValues)\n    .sort((a, b) => b[1] - a[1])[0]?.[0] || '';\n  \n  // Calculate baseline edge (home court advantage)\n  let homeEdge = 0.52; // Start with basic home court advantage\n  \n  // Adjust based on moon phase (full moon enhances home court advantage)\n  if (moonPhase === 'Full Moon') {\n    homeEdge += 0.05;\n  } else if (moonPhase === 'New Moon') {\n    homeEdge -= 0.02; // New beginnings favor away teams slightly\n  }\n  \n  // Since Team from hooks/useTeams doesn't have primary_color, use a random factor\n  const homeColorFactor = Math.random() * 0.2 + 0.4; // Random value between 0.4 and 0.6\n  const awayColorFactor = Math.random() * 0.2 + 0.4; // Random value between 0.4 and 0.6\n  \n  homeEdge += (homeColorFactor - awayColorFactor) * 0.03;\n  \n  // Limit the edge to a reasonable range\n  homeEdge = Math.max(0.4, Math.min(0.6, homeEdge));\n  \n  // Generate prediction text\n  const prediction = generateMatchupPrediction(\n    homeTeam.name || 'Home Team', \n    awayTeam.name || 'Away Team', \n    homeEdge, \n    dominantElement, \n    moonPhase,\n    sunSign\n  );\n  \n  // Determine predicted winner based on win probability\n  const predicted_winner = homeEdge > 0.5 \n    ? 'home' \n    : homeEdge < 0.5 \n      ? 'away' \n      : null;\n\n  return {\n    homeWinProbability: homeEdge,\n    awayWinProbability: 1 - homeEdge,\n    prediction,\n    dominantElement,\n    moonPhase,\n    sunSign,\n    tags: [dominantElement, moonPhase.toLowerCase().replace(/\\s+/g, '_')],\n    confidence: 0.7 + Math.abs(homeEdge - 0.5), // Higher confidence when edge is stronger\n    predicted_winner\n  };\n}\n\n/**\n * Generate a prediction for a specific matchup\n */\nfunction generateMatchupPrediction(\n  homeTeam: string,\n  awayTeam: string,\n  homeWinProbability: number,\n  dominantElement: string,\n  moonPhase: string,\n  sunSign: string\n): string {\n  // Determine which team has the edge\n  const favoredTeam = homeWinProbability > 0.5 ? homeTeam : awayTeam;\n  const underdogTeam = homeWinProbability > 0.5 ? awayTeam : homeTeam;\n  const edgeStrength = Math.abs(homeWinProbability - 0.5) * 20; // Convert to percentage points from center\n  \n  // Create prediction phrases based on edge strength\n  let edgePhrase = '';\n  if (edgeStrength < 2) {\n    edgePhrase = \"virtually even matchup with no clear astrological advantage\";\n  } else if (edgeStrength < 5) {\n    edgePhrase = \"slight astrological edge\";\n  } else if (edgeStrength < 8) {\n    edgePhrase = \"moderate astrological advantage\";\n  } else {\n    edgePhrase = \"significant astrological favor\";\n  }\n  \n  // Build the prediction text\n  let prediction = `The cosmic alignment shows a ${edgePhrase} for ${favoredTeam}. `;\n  \n  // Add element-based detail\n  switch (dominantElement) {\n    case 'fire':\n      prediction += `The dominant fire element (enhancing aggression and energy) `;\n      break;\n    case 'earth':\n      prediction += `The strong earth element influence (boosting consistency and endurance) `;\n      break;\n    case 'air':\n      prediction += `The prevailing air element (improving strategy and adaptability) `;\n      break;\n    case 'water':\n      prediction += `The powerful water element (heightening intuition and flow) `;\n      break;\n    default:\n      prediction += `The balanced elemental distribution `;\n  }\n  \n  prediction += `combined with the ${moonPhase} and Sun in ${sunSign} `;\n  \n  if (homeWinProbability > 0.5) {\n    prediction += `supports the home team's natural advantage.`;\n  } else {\n    prediction += `may help the away team overcome the home court disadvantage.`;\n  }\n  \n  return prediction;\n}\n","import React from 'react';\nimport PlayerCardNew, { PlayerCardProps } from '../PlayerCardNew';\nimport { Skeleton } from '@/components/ui/skeleton';\n\n// Extend the PlayerCardProps to include any additional fields we need\ninterface PlayerCardData extends Omit<PlayerCardProps, 'astro_influence'> {\n  astro_influence_score: number;\n  teamAverageAstroInfluence?: number;\n}\n\ninterface TopPlayersCarouselProps {\n  players?: PlayerCardData[];\n  loading?: boolean;\n  error?: Error | null;\n}\n\nconst TopPlayersCarousel: React.FC<TopPlayersCarouselProps> = ({ \n  players = [], \n  loading = false,\n  error = null \n}) => {\n  if (loading) {\n    return (\n      <div className=\"space-y-4\">\n        <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white\">Top Players This Week</h3>\n        <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4\">\n          {[...Array(6)].map((_, i) => (\n            <div key={i} className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-3\">\n              <Skeleton className=\"w-full aspect-[3/4] rounded-md mb-3\" />\n              <Skeleton className=\"h-4 w-3/4 mb-2\" />\n              <Skeleton className=\"h-3 w-1/2\" />\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"text-center py-4\">\n        <p className=\"text-red-500\">Error loading top players. Please try again later.</p>\n      </div>\n    );\n  }\n\n  if (!loading && (!players || players.length === 0)) {\n    return null;\n  }\n\n  // Calculate average astro influence for the team\n  const teamAverageAstroInfluence = players.length > 0 \n    ? players.reduce((sum, player) => sum + (player.astro_influence_score || 0), 0) / players.length \n    : 0;\n\n  return (\n    <>\n      {/* Mobile: Horizontal scroll */}\n      <div className=\"lg:hidden w-full\">\n        <div className=\"relative w-full py-6\">\n          <div className=\"flex space-x-4 overflow-x-auto snap-x snap-mandatory scrollbar-hide w-full\">\n            {players.slice(0, 6).map((player) => ({\n              ...player,\n              astro_influence: player.astro_influence_score\n            })).map((player) => (\n              <div key={player.id} className=\"flex-shrink-0 snap-center\">\n                <PlayerCardNew {...player} className=\"w-[240px] h-[432px] sm:w-[264px] sm:h-[432px]\" hideImpactScore={true} />\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n      \n      {/* Desktop: Flex layout with consistent spacing */}\n      <div className=\"hidden lg:block w-full\">\n        <div className=\"w-full overflow-x-auto py-6\">\n          <div className=\"flex space-x-6 w-full\">\n            {players.slice(0, 6).map((player) => ({\n              ...player,\n              astro_influence: player.astro_influence_score\n            })).map((player) => (\n              <div key={player.id} className=\"flex-shrink-0\">\n                <PlayerCardNew {...player} className=\"w-[280px]\" hideImpactScore={true} />\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default TopPlayersCarousel;\n","import { createClient } from '@supabase/supabase-js';\nimport type { Database } from './types';\n\nconst SUPABASE_URL = import.meta.env.VITE_SUPABASE_URL || '';\nconst SUPABASE_KEY = import.meta.env.VITE_SUPABASE_KEY || '';\n\nif (!SUPABASE_URL || !SUPABASE_KEY) {\n  console.error('Missing Supabase environment variables. Please check your .env file.');\n  console.log('VITE_SUPABASE_URL:', import.meta.env.VITE_SUPABASE_URL ? 'exists' : 'missing');\n  console.log('VITE_SUPABASE_KEY:', import.meta.env.VITE_SUPABASE_KEY ? 'exists' : 'missing');\n  throw new Error('Missing required Supabase environment variables');\n}\n\n// Create and export the Supabase client\nexport const supabase = createClient<Database>(SUPABASE_URL, SUPABASE_KEY);\nconsole.debug('Supabase client initialized successfully');","import { useState, useEffect } from 'react';\nimport { supabase } from '@/integrations/supabase/client';\n\n// Define Player interface to match what's expected by TopPlayersCarousel\ninterface Player {\n  id: string;\n  player_id: string;\n  full_name: string;\n  first_name: string;\n  last_name: string;\n  headshot_url?: string | null;\n  team_id: string | null;\n  team_abbreviation: string | null;\n  birth_date: string | null;\n  primary_number: string | number | null;\n  primary_position: string | null;\n  jersey_number: number | null;\n  age: number | null;\n  height: string | null;\n  weight: number | null;\n  bats: string | null;\n  throws: string | null;\n  position: string | null;\n  impact_score: number;\n  astro_influence_score: number;\n  stats_batting_avg: number | null;\n  stats_batting_hits: number | null;\n  stats_batting_homeruns: number | null;\n  stats_batting_runs: number | null;\n  stats_batting_runs_batted_in: number | null;\n  stats_fielding_assists: number | null;\n  stats_fielding_errors: number | null;\n  stats_games_played: number | null;\n  team_logo?: string | null;\n  league_id: string;\n}\n\n// Type for raw database records - unknown structure\ntype RawPlayerRecord = Record<string, any>;\n\nconst useTopPlayers = (limit = 6) => {\n  const [players, setPlayers] = useState<Player[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<Error | null>(null);\n\n  useEffect(() => {\n    const fetchTopPlayers = async () => {\n      try {\n        setLoading(true);\n        // Query baseball_players table, selecting all fields\n        const { data: playersData, error } = await supabase\n          .from('baseball_players')\n          .select('*')\n          .not('astro_influence_score', 'is', null)\n          .order('astro_influence_score', { ascending: false })\n          .limit(limit);\n\n        if (error) throw new Error(error.message);\n        \n        // Map database records to Player interface with proper field mapping\n        const processedPlayers = (playersData || []).map((rawPlayer: RawPlayerRecord) => {\n          // Ensure we have required fields\n          const playerId = String(rawPlayer.player_id || '');\n          if (!playerId) return null; // Skip invalid records\n          \n          const firstName = String(rawPlayer.player_first_name || '');\n          const lastName = String(rawPlayer.player_last_name || '');\n          const fullName = String(rawPlayer.player_full_name || `${firstName} ${lastName}`.trim() || '');\n          \n          // Create player object with exact field mapping from database schema\n          const player: Player = {\n            id: playerId,\n            player_id: playerId,\n            full_name: fullName,\n            first_name: firstName,\n            last_name: lastName,\n            headshot_url: rawPlayer.player_official_image_src || null,\n            team_id: rawPlayer.team_id || null,\n            team_abbreviation: rawPlayer.team_abbreviation || null,\n            birth_date: rawPlayer.player_birth_date || null,\n            primary_number: rawPlayer.player_jersey_number || null,\n            primary_position: rawPlayer.player_primary_position || null,\n            jersey_number: rawPlayer.player_jersey_number || null,\n            age: rawPlayer.player_age || null,\n            height: rawPlayer.player_height || null,\n            weight: rawPlayer.player_weight || null,\n            bats: rawPlayer.player_handedness_bats || null,\n            throws: rawPlayer.player_handedness_throws || null,\n            position: rawPlayer.player_primary_position || null,\n            impact_score: rawPlayer.impact_score || 0,\n            astro_influence_score: rawPlayer.astro_influence_score || 0,\n            stats_batting_avg: rawPlayer.stats_batting_batting_avg || null,\n            stats_batting_hits: rawPlayer.stats_batting_hits || null,\n            stats_batting_homeruns: rawPlayer.stats_batting_homeruns || null,\n            stats_batting_runs: rawPlayer.stats_batting_runs || null,\n            stats_batting_runs_batted_in: rawPlayer.stats_batting_runs_batted_in || null,\n            stats_fielding_assists: rawPlayer.stats_fielding_assists || null,\n            stats_fielding_errors: rawPlayer.stats_fielding_errors || null,\n            stats_games_played: rawPlayer.stats_games_played || null,\n            team_logo: null, // Will be set from team data if available\n            league_id: 'mlb' // Default to MLB for baseball_players\n          };\n          \n          return player;\n        });\n        \n        // Filter out any null entries from invalid player records\n        setPlayers(processedPlayers.filter((p): p is Player => p !== null));\n      } catch (err: any) {\n        console.error('Error fetching top baseball players:', err);\n        setError(err instanceof Error ? err : new Error('Failed to fetch top players'));\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchTopPlayers();\n  }, [limit]);\n\n  return { players, loading, error };\n};\n\nexport default useTopPlayers;\n","export const getPlanetColor = (planetName: string): string => {\n  const planet = planetName.toLowerCase();\n  switch (planet) {\n    case 'sun':\n      return '#F59E0B'; // Amber-500\n    case 'moon':\n      return '#A5B4FC'; // Indigo-300\n    case 'mercury':\n      return '#6EE7B7'; // Emerald-400\n    case 'venus':\n      return '#F472B6'; // Pink-400\n    case 'mars':\n      return '#F87171'; // Red-400\n    case 'jupiter':\n      return '#A78BFA'; // Violet-400\n    case 'saturn':\n      return '#FBBF24'; // Amber-400\n    case 'uranus':\n      return '#60A5FA'; // Blue-400\n    case 'neptune':\n      return '#67E8F9'; // Cyan-400\n    case 'pluto':\n      return '#C084FC'; // Purple-400\n    default:\n      return '#9CA3AF'; // Gray-400\n  }\n};\n\nexport const getPlanetGradient = (planetName: string): string => {\n  const color = getPlanetColor(planetName);\n  // Create a slightly lighter version of the color for the gradient\n  return `linear-gradient(135deg, ${color} 0%, ${color}80 100%)`;\n};\n","import React, { useEffect, useRef, useState } from 'react';\nimport { getPlanetColor, getPlanetGradient } from '@/utils/planetColors';\n\ninterface CosmicWaveProgressProps {\n  value: number; // 0-100\n  startIcon?: React.ReactNode;\n  endIcon?: React.ReactNode;\n  startPlanet?: string; // Name of the start planet for color\n  endPlanet?: string;   // Name of the end planet for color\n  startColor?: string;  // Optional override for start color\n  endColor?: string;    // Optional override for end color\n  height?: number;\n  className?: string;\n  label?: string;\n}\n\nconst CosmicWaveProgress: React.FC<CosmicWaveProgressProps> = ({\n  value = 0,\n  startIcon,\n  endIcon,\n  startPlanet = 'sun',\n  endPlanet = 'moon',\n  startColor: startColorProp,\n  endColor: endColorProp,\n  height = 40,\n  className = '',\n  label,\n}) => {\n  // Use provided colors or fall back to planet colors\n  const startColor = startColorProp || getPlanetColor(startPlanet) || '#f59e0b';\n  const endColor = endColorProp || getPlanetColor(endPlanet) || '#ec4899';\n  \n  // State for window size\n  const [windowSize, setWindowSize] = useState({\n    width: typeof window !== 'undefined' ? window.innerWidth : 0,\n    height: typeof window !== 'undefined' ? window.innerHeight : 0,\n  });\n\n  // Update window size on resize\n  useEffect(() => {\n    const handleResize = () => {\n      setWindowSize({\n        width: window.innerWidth,\n        height: window.innerHeight,\n      });\n    };\n\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  // Normalize value to 0-1 range\n  const normalizedValue = Math.min(Math.max(value, 0), 100) / 100;\n  \n  // Determine which planet's color to use for the indicator\n  const indicatorPlanet = value > 50 ? endPlanet : startPlanet;\n  const indicatorColor = indicatorPlanet ? getPlanetColor(indicatorPlanet) : startColor;\n  \n  // Responsive indicator size\n  const indicatorSize = windowSize.width >= 640 ? 36 : 28;\n  \n  // Indicator styles\n  const indicatorStyle: React.CSSProperties = {\n    left: `${normalizedValue * 100}%`,\n    top: '50%',\n    width: `${indicatorSize}px`,\n    height: `${indicatorSize}px`,\n    borderRadius: '50%',\n    background: getPlanetGradient(indicatorPlanet || 'default'),\n    border: '2px solid rgba(255, 255, 255, 0.8)',\n    boxShadow: `0 0 10px ${indicatorColor}80, 0 0 20px ${indicatorColor}40`,\n    transition: 'all 0.3s ease-out',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  };\n  \n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const animationRef = useRef<number>(0);\n  const [time, setTime] = useState(0);\n  const labelRef = useRef<HTMLSpanElement>(null);\n  \n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n    \n    const ctx = canvas.getContext('2d');\n    if (!ctx) return;\n    \n    // Handle resize\n    const handleResize = () => {\n      // Set canvas dimensions with device pixel ratio for sharp rendering\n      const dpr = window.devicePixelRatio || 1;\n      const rect = canvas.getBoundingClientRect();\n      \n      canvas.width = rect.width * dpr;\n      canvas.height = height * dpr;\n      \n      ctx.scale(dpr, dpr);\n    };\n    \n    // Initial setup\n    handleResize();\n    window.addEventListener('resize', handleResize);\n    \n    // Animation function\n    const animate = () => {\n      if (!canvas || !ctx) return;\n      \n      // Clear canvas\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      \n      // Create gradient\n      const gradient = ctx.createLinearGradient(0, 0, canvas.width, 0);\n      gradient.addColorStop(0, startColor);\n      gradient.addColorStop(0.5, `${startColor}80`);\n      gradient.addColorStop(1, endColor);\n      \n      // Set wave properties - slower animation\n      const amplitude = height / 3.5; // Height of the wave\n      const frequency = 0.01; // Lower frequency for slower wave\n      const phaseShift = time * 0.01; // Slower phase shift for calmer animation\n      \n      // Draw the wave\n      ctx.beginPath();\n      \n      // Calculate the endpoint based on the value\n      const dpr = window.devicePixelRatio || 1;\n      const endX = canvas.width * normalizedValue / dpr;\n      \n      // Draw the background glow\n      ctx.save();\n      ctx.beginPath();\n      ctx.moveTo(0, height / 2);\n      \n      // Draw the wave path with multiple waves for a more complex effect\n      for (let x = 0; x <= endX; x++) {\n        // Combine multiple sine waves for more interesting effect\n        const y = height / 2 + \n                 amplitude * 0.6 * Math.sin(frequency * x + phaseShift) + \n                 amplitude * 0.2 * Math.sin(frequency * 1.5 * x - phaseShift * 0.3);\n        ctx.lineTo(x, y);\n      }\n      \n      // Complete the wave shape\n      ctx.lineTo(endX, height);\n      ctx.lineTo(0, height);\n      ctx.closePath();\n      \n      // Create a glow effect\n      const glowGradient = ctx.createLinearGradient(0, 0, endX, 0);\n      glowGradient.addColorStop(0, `${startColor}30`);\n      glowGradient.addColorStop(1, `${endColor}30`);\n      \n      ctx.fillStyle = glowGradient;\n      ctx.shadowColor = startColor;\n      ctx.shadowBlur = 15;\n      ctx.shadowOffsetX = 0;\n      ctx.shadowOffsetY = 0;\n      ctx.fill();\n      ctx.restore();\n      \n      // Draw the main wave\n      ctx.beginPath();\n      ctx.moveTo(0, height / 2);\n      \n      // Draw the wave path\n      for (let x = 0; x <= endX; x++) {\n        // Combine multiple sine waves for more interesting effect\n        const y = height / 2 + \n                 amplitude * 0.7 * Math.sin(frequency * x + phaseShift) + \n                 amplitude * 0.3 * Math.sin(frequency * 2 * x - phaseShift * 0.5);\n        ctx.lineTo(x, y);\n      }\n      \n      // Complete the wave shape\n      ctx.lineTo(endX, height);\n      ctx.lineTo(0, height);\n      ctx.closePath();\n      \n      // Fill with gradient\n      ctx.fillStyle = gradient;\n      ctx.fill();\n      \n      // Update time for next frame\n      setTime(prevTime => prevTime + 1);\n      \n      // Continue animation\n      animationRef.current = requestAnimationFrame(animate);\n    };\n    \n    // Start animation\n    animate();\n    \n    // Cleanup\n    return () => {\n      cancelAnimationFrame(animationRef.current);\n    };\n  }, [normalizedValue, startColor, endColor, height, time]);\n  \n  // Cleanup function for resize event listener\n  useEffect(() => {\n    // Store handleResize function reference\n    const handleResizeCleanup = () => {\n      const canvas = canvasRef.current;\n      if (!canvas) return;\n      \n      const ctx = canvas.getContext('2d');\n      if (!ctx) return;\n      \n      const dpr = window.devicePixelRatio || 1;\n      const rect = canvas.getBoundingClientRect();\n      \n      canvas.width = rect.width * dpr;\n      canvas.height = height * dpr;\n      \n      ctx.scale(dpr, dpr);\n    };\n    \n    window.addEventListener('resize', handleResizeCleanup);\n    \n    return () => {\n      window.removeEventListener('resize', handleResizeCleanup);\n    };\n  }, [height]);\n  \n  return (\n    <div className={`relative flex items-center w-full ${className}`} style={{ height: `${height}px` }}>\n      {/* Start Planet Icon */}\n      <div className=\"absolute left-0 z-10 flex items-center justify-center w-8 h-8 transform -translate-y-1/2 top-1/2\">\n        <div className=\"flex items-center justify-center w-6 h-6 bg-gradient-to-br from-slate-50 to-white rounded-full shadow-md sm:w-8 sm:h-8 border border-slate-100\">\n          {startIcon && React.cloneElement(startIcon as React.ReactElement, {\n            className: 'h-3 w-3 sm:h-4 sm:w-4 text-slate-700'\n          })}\n        </div>\n      </div>\n      \n      {/* Canvas for wave animation */}\n      <div className=\"relative w-full h-full px-2 sm:px-4\">\n        <canvas \n          ref={canvasRef} \n          className=\"w-full h-full\"\n          style={{ \n            borderRadius: '6px',\n          }}\n        />\n      </div>\n      \n      {/* End Planet Icon */}\n      <div className=\"absolute right-0 z-10 flex items-center justify-center w-8 h-8 transform -translate-y-1/2 top-1/2\">\n        <div className=\"flex items-center justify-center w-6 h-6 bg-gradient-to-br from-slate-50 to-white rounded-full shadow-md sm:w-8 sm:h-8 border border-slate-100\">\n          {endIcon && React.cloneElement(endIcon as React.ReactElement, {\n            className: 'h-3 w-3 sm:h-4 sm:w-4 text-slate-700'\n          })}\n        </div>\n      </div>\n      \n      {/* Planet indicator circle - Responsive sizing */}\n      <div \n        className=\"absolute z-20 transform -translate-x-1/2 -translate-y-1/2 sm:w-9 sm:h-9 w-7 h-7\"\n        style={indicatorStyle}\n      >\n        {label && (\n          <span className=\"sr-only\">{label}</span>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default CosmicWaveProgress;\n","import { ZodiacSign, MoonPhaseInfo } from \"@/types/astrology\";\nimport { Moon, Sun } from \"lucide-react\";\nimport React from \"react\";\n\n/**\n * Helper function to calculate moon clip path based on illumination (0-1) and phase name\n */\nexport const getMoonClipPath = (illumination: number, phaseName?: string): string => {\n  // Ensure illumination is between 0 and 1\n  illumination = Math.max(0, Math.min(1, illumination));\n\n  // If we have a phase name, use it to determine waxing/waning\n  if (phaseName) {\n    const isWaxing = phaseName.includes(\"Waxing\");\n    const isWaning = phaseName.includes(\"Waning\");\n    const isNew = phaseName.includes(\"New\");\n    const isFull = phaseName.includes(\"Full\");\n\n    if (isNew) {\n      return \"inset(0 0 0 0) polygon(0 0, 0 0, 0 100%, 0 100%)\";\n    }\n\n    if (isFull) {\n      return \"inset(0 0 0 0)\";\n    }\n\n    if (isWaxing) {\n      // Waxing: right side lit\n      const xPos = 50 * illumination;\n      return `inset(0 0 0 ${50 - xPos}%)`;\n    }\n\n    if (isWaning) {\n      // Waning: left side lit\n      const xPos = 50 * (1 - illumination);\n      return `inset(0 ${50 - xPos}% 0 0)`;\n    }\n  }\n\n  // Fallback to simple calculation based on illumination\n  if (illumination <= 0.5) {\n    // Waxing Crescent to First Quarter: less than 50% illuminated, right side lit\n    const xPos = 50 - ((1 - (illumination * 2)) * 50);\n    return `inset(0 ${xPos}% 0 0)`;\n  } else {\n    // Waning Gibbous: more than 50% illuminated, left side lit\n    const xPos = 50 + ((illumination - 0.5) * 100);\n    return `inset(0 0 0 0) polygon(${xPos}% 0, 100% 0, 100% 100%, ${xPos}% 100%)`;\n  }\n};\n\n/**\n * Get the impact description for a sun sign\n */\nexport function getSunSignImpact(sign: string): string {\n  const impacts: Record<string, string> = {\n    Aries: \"assertive and competitive\",\n    Taurus: \"consistent and determined\",\n    Gemini: \"adaptable and strategic\",\n    Cancer: \"intuitive and defensive\",\n    Leo: \"confident and dominant\",\n    Virgo: \"analytical and precise\",\n    Libra: \"balanced and fair\",\n    Scorpio: \"intense and tactical\",\n    Sagittarius: \"optimistic and risk-taking\",\n    Capricorn: \"disciplined and methodical\",\n    Aquarius: \"innovative and unpredictable\",\n    Pisces: \"intuitive and fluid\",\n  };\n  return impacts[sign] || \"influential\";\n}\n\n/**\n * Get the impact description for a moon phase\n */\nexport function getMoonPhaseImpact(phase: string): string {\n  const impacts: Record<string, string> = {\n    \"New Moon\": \"suggests fresh strategies and new beginnings\",\n    \"Waxing Crescent\": \"brings building momentum and growing confidence\",\n    \"First Quarter\": \"favors decisive action and breakthrough moments\",\n    \"Waxing Gibbous\": \"enhances skill refinement and preparation\",\n    \"Full Moon\": \"amplifies performance intensity and visibility\",\n    \"Waning Gibbous\": \"supports teamwork and collaborative efforts\",\n    \"Last Quarter\": \"indicates strategic adjustments and reassessment\",\n    \"Waning Crescent\": \"suggests introspection and renewal\",\n  };\n  return impacts[phase] || \"influences game dynamics\";\n}\n\n/**\n * Get the impact description for an element\n */\nexport function getElementImpact(element: string): string {\n  const impacts: Record<string, string> = {\n    fire: \"aggression and risk-taking\",\n    earth: \"endurance and reliability\",\n    air: \"strategy and communication\",\n    water: \"intuition and flow\",\n  };\n  return impacts[element.toLowerCase()] || \"performance\";\n}\n\n/**\n * Get the element for a zodiac sign\n */\nexport function getSignElement(sign: string): string {\n  const elements: Record<string, string> = {\n    Aries: \"Fire\",\n    Taurus: \"Earth\",\n    Gemini: \"Air\",\n    Cancer: \"Water\",\n    Leo: \"Fire\",\n    Virgo: \"Earth\",\n    Libra: \"Air\",\n    Scorpio: \"Water\",\n    Sagittarius: \"Fire\",\n    Capricorn: \"Earth\",\n    Aquarius: \"Air\",\n    Pisces: \"Water\",\n  };\n  return elements[sign] || \"—\";\n}\n\n/**\n * Get the color for an element\n */\nexport function getElementColor(sign: string): string {\n  const element = getSignElement(sign);\n  switch (element) {\n    case \"Fire\":\n      return \"bg-gradient-to-r from-red-500 to-orange-500\";\n    case \"Earth\":\n      return \"bg-gradient-to-r from-green-600 to-emerald-500\";\n    case \"Air\":\n      return \"bg-gradient-to-r from-blue-500 to-sky-400\";\n    case \"Water\":\n      return \"bg-gradient-to-r from-blue-600 to-indigo-500\";\n    default:\n      return \"bg-gradient-to-r from-slate-500 to-slate-400\";\n  }\n}\n\n/**\n * Get a message about the moon's aspect based on phase and sign\n */\nexport function getMoonAspectMessage(\n  moonPhase?: MoonPhaseInfo,\n  moonSign?: ZodiacSign\n): string {\n  if (!moonPhase || !moonSign) {\n    return \"Moon aspects are currently unavailable.\";\n  }\n\n  const phaseMessages: Record<string, string> = {\n    \"New Moon\": \"New beginnings and fresh energy in games.\",\n    \"Waxing Crescent\": \"Building momentum and growing confidence.\",\n    \"First Quarter\": \"Decisive action and breakthrough moments.\",\n    \"Waxing Gibbous\": \"Skill refinement and preparation.\",\n    \"Full Moon\": \"Peak performance and maximum visibility.\",\n    \"Waning Gibbous\": \"Teamwork and collaborative efforts.\",\n    \"Last Quarter\": \"Strategic adjustments and reassessment.\",\n    \"Waning Crescent\": \"Introspection and renewal before the next cycle.\",\n  };\n\n  const signMessages: Record<string, string> = {\n    Aries: \"Aggressive and competitive energy.\",\n    Taurus: \"Steady and reliable performance.\",\n    Gemini: \"Quick thinking and adaptability.\",\n    Cancer: \"Intuitive and defensive strategies.\",\n    Leo: \"Confidence and leadership on display.\",\n    Virgo: \"Precise execution and attention to detail.\",\n    Libra: \"Balanced approach and fair play.\",\n    Scorpio: \"Intense focus and strategic depth.\",\n    Sagittarius: \"Optimistic outlook and risk-taking.\",\n    Capricorn: \"Disciplined performance and methodical approach.\",\n    Aquarius: \"Innovative tactics and unexpected plays.\",\n    Pisces: \"Fluid movement and intuitive gameplay.\",\n  };\n\n  return `${phaseMessages[moonPhase.name] || \"\"} ${\n    signMessages[moonSign] || \"\"\n  }`.trim();\n}\n\n// getPlanetIcon has been moved to astroIcons.tsx\n// Import it from '@/utils/astroIcons' when needed\n\n/**\n * Get sun sports influences based on astro data\n */\nexport function getSunSportsInfluences(\n  astroData: any\n): { text: string; color: string }[] {\n  const influences: { text: string; color: string }[] = [];\n\n  if (!astroData) return influences;\n\n  // Use the sunSign property directly from the API response\n  if (astroData?.sunSign) {\n    const sign = astroData.sunSign;\n    const element = getSignElement(sign);\n\n    influences.push({\n      text: `The Sun in ${sign} brings ${getSunSignImpact(sign)} energy to today's games`,\n      color:\n        element === \"Fire\"\n          ? \"text-red-700\"\n          : element === \"Earth\"\n          ? \"text-green-700\"\n          : element === \"Air\"\n          ? \"text-blue-700\"\n          : \"text-indigo-700\",\n    });\n  } else if (astroData?.planets?.sun?.sign) {\n    // Fallback to planets.sun.sign if sunSign is not available\n    const sign = astroData.planets.sun.sign;\n    const element = getSignElement(sign);\n\n    influences.push({\n      text: `The Sun in ${sign} brings ${getSunSignImpact(sign)} energy to today's games`,\n      color:\n        element === \"Fire\"\n          ? \"text-red-700\"\n          : element === \"Earth\"\n          ? \"text-green-700\"\n          : element === \"Air\"\n          ? \"text-blue-700\"\n          : \"text-indigo-700\",\n    });\n  }\n\n  // Add element-specific influence\n  if (astroData?.planets?.sun?.sign) {\n    const sign = astroData.planets.sun.sign;\n    const element = getSignElement(sign);\n    \n    switch (element) {\n      case \"Fire\":\n        influences.push({\n          text: \"Fire signs favor aggressive play and risk-taking strategies\",\n          color: \"text-red-700\",\n        });\n        break;\n      case \"Earth\":\n        influences.push({\n          text: \"Earth signs support consistent performance and endurance\",\n          color: \"text-green-700\",\n        });\n        break;\n      case \"Air\":\n        influences.push({\n          text: \"Air signs enhance strategic thinking and team communication\",\n          color: \"text-blue-700\",\n        });\n        break;\n      case \"Water\":\n        influences.push({\n          text: \"Water signs boost intuitive play and emotional resilience\",\n          color: \"text-indigo-700\",\n        });\n        break;\n    }\n  }\n\n  // Add degree-specific influence if available\n  if (astroData?.planets?.sun?.degree) {\n    const degree = astroData.planets.sun.degree;\n    // Critical degrees at 0, 13, and 26 of any sign\n    const isCriticalDegree = degree < 1 || (degree > 12.5 && degree < 13.5) || degree > 25.5;\n    \n    if (isCriticalDegree) {\n      influences.push({\n        text: \"Sun at a critical degree may bring unexpected turning points in games\",\n        color: \"text-amber-700\",\n      });\n    }\n  }\n\n  return influences;\n}\n","import React from \"react\";\nimport { \n  Sun, \n  Moon, \n  Sparkle,  // For Mercury\n  Heart,    // For Venus\n  Flame,    // For Mars\n  CircleDashed,  // For Jupiter\n  CircleDollarSign,  // For Saturn\n  Cloud,    // For Uranus\n  Droplets, // For Neptune\n  Skull     // For Pluto\n} from \"lucide-react\";\n\ninterface PlanetIconProps {\n  className?: string;\n  size?: number;\n}\n\n/**\n * Get a styled icon for a planet with consistent sizing and theming\n */\nexport const getPlanetIcon = (name: string, size = 16): React.ReactNode => {\n  const baseClass = \"flex-shrink-0\";\n  const iconProps: PlanetIconProps = {\n    className: baseClass,\n    size: size\n  };\n\n  switch (name.toLowerCase()) {\n    case \"sun\":\n      return <Sun {...iconProps} className={`${baseClass} text-yellow-500`} />;\n    case \"moon\":\n      return <Moon {...iconProps} className={`${baseClass} text-slate-400`} />;\n    case \"mercury\":\n      return <Sparkle {...iconProps} className={`${baseClass} text-gray-500`} />;\n    case \"venus\":\n      return <Heart {...iconProps} className={`${baseClass} text-pink-400 fill-pink-400`} />;\n    case \"mars\":\n      return <Flame {...iconProps} className={`${baseClass} text-red-500`} />;\n    case \"jupiter\":\n      return <CircleDashed {...iconProps} className={`${baseClass} text-purple-500`} />;\n    case \"saturn\":\n      return <CircleDollarSign {...iconProps} className={`${baseClass} text-amber-600`} />;\n    case \"uranus\":\n      return <Cloud {...iconProps} className={`${baseClass} text-teal-400`} />;\n    case \"neptune\":\n      return <Droplets {...iconProps} className={`${baseClass} text-blue-400`} />;\n    case \"pluto\":\n      return <Skull {...iconProps} className={`${baseClass} text-slate-700`} />;\n    default:\n      return <Sun {...iconProps} className={`${baseClass} text-yellow-500`} />;\n  }\n};\n","import React from \"react\";\nimport {\n  CardHeader,\n  CardTitle,\n  CardContent,\n  CardDescription,\n} from \"@/components/ui/card\";\nimport { Activity, Globe, ChevronLeft, ChevronRight, ChevronDown, ChevronUp } from \"lucide-react\";\nimport CosmicWaveProgress from \"@/components/CosmicWaveProgress\";\nimport { getElementColor } from \"@/utils/astroUtils/index\";\nimport { getPlanetIcon } from \"@/utils/astroIcons\";\n// Using a more flexible type to accommodate the transformed aspects from the Dashboard\ninterface TransformedAspect {\n  planets?: Array<{ name: string; [key: string]: any }>;\n  type?: string;\n  influence?: number | string;\n  interpretation?: string;\n  [key: string]: any;\n}\n\ninterface Planet {\n  name: string;\n  sign?: string;\n  degree?: number;\n  retrograde?: boolean;\n  speed?: number;\n  [key: string]: any;\n}\n\ninterface KeyPlanetaryInfluencesProps {\n  aspects?: TransformedAspect[];\n  planets?: Record<string, Planet>;\n}\n\nconst KeyPlanetaryInfluences: React.FC<KeyPlanetaryInfluencesProps> = ({\n  aspects = [],\n  planets = {},\n}) => {\n  const [currentPage, setCurrentPage] = React.useState(1);\n  const [showAllPlanets, setShowAllPlanets] = React.useState(false);\n  \n  // Convert planets object to array\n  const planetEntries = Object.entries(planets);\n  \n  // For mobile: 2 planets per page\n  const planetsPerPage = 2;\n  const totalPages = Math.ceil(planetEntries.length / planetsPerPage);\n  \n  // For desktop: show all planets in 5-column grid\n  const visiblePlanets = showAllPlanets \n    ? planetEntries \n    : planetEntries.slice(0, 10); // 2 rows of 5 by default\n    \n  // For mobile: get current page's planets\n  const startIndex = (currentPage - 1) * planetsPerPage;\n  const currentPlanets = planetEntries.slice(startIndex, startIndex + planetsPerPage);\n  // Filter out aspects with missing data\n  const validAspects = aspects.filter(\n    (aspect) => aspect.planets && aspect.planets.length >= 2 && aspect.planets[0] && aspect.planets[1]\n  );\n\n  return (\n    <>\n      <CardHeader className=\"pb-2 px-0 pt-0\">\n        <CardTitle className=\"text-lg font-semibold text-slate-800 flex items-center\">\n          <Globe className=\"h-5 w-5 mr-2 text-blue-500\" /> Key Planetary Influences\n        </CardTitle>\n        <CardDescription className=\"text-slate-600\">\n          Significant planetary aspects and positions impacting sports performance.\n        </CardDescription>\n      </CardHeader>\n      <CardContent className=\"space-y-3 pt-2\">\n        {/* Prominent Aspects Section */}\n        <div className=\"space-y-3\">\n          <h5 className=\"text-sm font-semibold text-blue-700 flex items-center\">\n            <Activity className=\"h-4 w-4 mr-1.5 text-blue-500\" />\n            Prominent Aspects\n          </h5>\n          <div className=\"space-y-3\">\n            {validAspects.slice(0, 5).map((aspect, index) => {\n              const influenceValue = aspect.influence ? parseInt(aspect.influence.toString()) : 0;\n              const strengthClass = influenceValue > 70 ? 'text-green-600' : \n                                  influenceValue > 40 ? 'text-amber-600' : 'text-red-600';\n              \n              // Safely access planet names\n              const planet1Name = aspect.planets?.[0]?.name || 'Unknown';\n              const planet2Name = aspect.planets?.[1]?.name || 'Unknown';\n              \n              return (\n                <div key={index} className=\"bg-white p-2.5 rounded-lg border border-slate-100 shadow-sm\">\n                  <div className=\"flex items-center justify-between mb-1.5\">\n                    <div className=\"flex items-center gap-1.5 text-sm font-medium\">\n                      {getPlanetIcon(planet1Name)}\n                      <span className=\"text-slate-700\">{planet1Name}</span>\n                      <span className=\"px-1.5 py-0.5 bg-blue-100 text-blue-700 rounded text-xs font-semibold\">{aspect.type || 'aspect'}</span>\n                      <span className=\"text-slate-700\">{planet2Name}</span>\n                      {getPlanetIcon(planet2Name)}\n                    </div>\n                    <span className={`text-sm font-bold ${strengthClass}`}>\n                      {aspect.influence ? aspect.influence.toString().replace('%', '') : '0'}%\n                    </span>\n                  </div>\n                  <CosmicWaveProgress \n                    value={influenceValue} \n                    startIcon={getPlanetIcon(planet1Name)} \n                    endIcon={getPlanetIcon(planet2Name)}\n                    startPlanet={planet1Name.toLowerCase()}\n                    endPlanet={planet2Name.toLowerCase()}\n                    height={32}\n                    className=\"mt-2\"\n                  />\n                </div>\n              );\n            })}\n            {validAspects.length === 0 && (\n              <div className=\"text-center text-slate-500 py-4\">\n                No significant aspects available\n              </div>\n            )}\n          </div>\n        </div>\n        \n        {/* Planet Position Visualization */}\n        <div className=\"bg-white p-3 sm:p-4 rounded-xl shadow-sm border border-slate-100\">\n          <h5 className=\"text-sm font-semibold text-blue-700 mb-3 flex items-center\">\n            <Globe className=\"h-4 w-4 mr-1.5 text-blue-500 flex-shrink-0\" />\n            <span>Planet Positions</span>\n          </h5>\n          {/* Desktop View - 5 column grid */}\n          <div className=\"hidden sm:grid grid-cols-5 gap-1.5 sm:gap-2\">\n            {visiblePlanets.map(([planet, data]) => {\n              const sign = data?.sign || 'Unknown';\n              const elementColor = getElementColor(sign);\n              const planetIcon = getPlanetIcon(planet, 12);\n              return (\n                <div \n                  key={planet} \n                  className=\"bg-slate-50 p-1.5 sm:p-2 rounded-lg border border-slate-100 hover:shadow-md transition-shadow duration-200 active:scale-95\"\n                >\n                  <div className=\"flex items-center gap-1 sm:gap-1.5 mb-1\">\n                    <span className=\"flex-shrink-0 h-3 w-3 sm:h-4 sm:w-4\">\n                      {planetIcon}\n                    </span>\n                    <span className=\"text-xs sm:text-sm font-medium capitalize text-slate-700 truncate\">\n                      {planet}\n                    </span>\n                  </div>\n                  <div className={`${elementColor} text-white text-[10px] sm:text-xs font-medium px-1.5 py-0.5 sm:px-2 sm:py-1 rounded-md flex items-center justify-between`}>\n                    <span className=\"truncate\">{sign}</span>\n                    <span className=\"ml-1 whitespace-nowrap\">\n                      {typeof data?.degree === 'number' ? data.degree.toFixed(1) + '°' : 'N/A'}\n                    </span>\n                  </div>\n                </div>\n              );\n            })}\n            {planetEntries.length === 0 && (\n              <div className=\"col-span-full text-center text-slate-500 py-4 text-sm\">\n                No planetary data available\n              </div>\n            )}\n          </div>\n          \n          {/* Mobile View - Same as desktop but with pagination */}\n          <div className=\"sm:hidden\">\n            <div className=\"grid grid-cols-2 gap-1.5 max-w-[240px] mx-auto\">\n              {currentPlanets.map(([planet, data]) => {\n                const sign = data?.sign || 'Unknown';\n                const elementColor = getElementColor(sign);\n                const planetIcon = getPlanetIcon(planet, 12);\n                return (\n                  <div \n                    key={planet} \n                    className=\"bg-slate-50 p-1.5 rounded-lg border border-slate-100 hover:shadow-md transition-shadow duration-200 active:scale-95\"\n                  >\n                    <div className=\"flex items-center gap-1 sm:gap-1.5 mb-1\">\n                      <span className=\"flex-shrink-0 h-3 w-3 sm:h-4 sm:w-4\">\n                        {planetIcon}\n                      </span>\n                      <span className=\"text-xs sm:text-sm font-medium capitalize text-slate-700 truncate\">\n                        {planet}\n                      </span>\n                    </div>\n                    <div className={`${elementColor} text-white text-[10px] sm:text-xs font-medium px-1.5 py-0.5 sm:px-2 sm:py-1 rounded-md flex items-center justify-between`}>\n                      <span className=\"truncate\">{sign}</span>\n                      <span className=\"ml-1 whitespace-nowrap\">\n                        {typeof data?.degree === 'number' ? data.degree.toFixed(1) + '°' : 'N/A'}\n                      </span>\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n            \n            {totalPages > 1 && (\n              <div className=\"flex justify-between items-center mt-3\">\n                <button\n                  onClick={() => setCurrentPage(p => Math.max(1, p - 1))}\n                  disabled={currentPage === 1}\n                  className=\"p-1.5 rounded-full bg-slate-100 text-slate-600 disabled:opacity-30\"\n                >\n                  <ChevronLeft className=\"h-4 w-4\" />\n                </button>\n                \n                <div className=\"text-xs font-medium text-slate-600\">\n                  {currentPage} / {totalPages}\n                </div>\n                \n                <button\n                  onClick={() => setCurrentPage(p => Math.min(totalPages, p + 1))}\n                  disabled={currentPage === totalPages}\n                  className=\"p-1.5 rounded-full bg-slate-100 text-slate-600 disabled:opacity-30\"\n                >\n                  <ChevronRight className=\"h-4 w-4\" />\n                </button>\n              </div>\n            )}\n          </div>\n          \n          {/* Show More/Less for Desktop */}\n          <div className=\"hidden sm:block\">\n            {planetEntries.length > 10 && (\n              <button\n                onClick={() => setShowAllPlanets(!showAllPlanets)}\n                className=\"mt-2 flex items-center justify-center text-xs font-medium text-blue-600 hover:text-blue-800 transition-colors mx-auto\"\n              >\n                {showAllPlanets ? (\n                  <>\n                    <span>Show Less</span>\n                    <ChevronUp className=\"ml-1 h-3.5 w-3.5\" />\n                  </>\n                ) : (\n                  <>\n                    <span>Show All {planetEntries.length} Planets</span>\n                    <ChevronDown className=\"ml-1 h-3.5 w-3.5\" />\n                  </>\n                )}\n              </button>\n            )}\n          </div>\n        </div>\n        \n        {/* Personalized Insight Panel */}\n        <div className=\"mt-4\">\n          <h5 className=\"text-sm font-semibold text-blue-700 mb-2\">Insights</h5>\n          {validAspects.length > 0 ? (\n            <div className=\"space-y-2\">\n              {validAspects.slice(0, 3).map((aspect, idx) => (\n                aspect.interpretation ? (\n                  <p key={`insight-${idx}`} className=\"text-sm text-slate-700\">\n                    {aspect.interpretation}\n                  </p>\n                ) : null\n              ))}\n              {validAspects.length > 3 && (\n                <p className=\"text-xs text-slate-500\">\n                  +{validAspects.length - 3} more aspects analyzed\n                </p>\n              )}\n            </div>\n          ) : (\n            <p className=\"text-sm text-slate-500 italic\">\n              Analyzing planetary positions for insights...\n            </p>\n          )}\n        </div>\n      </CardContent>\n    </>\n  );\n};\n\nexport default KeyPlanetaryInfluences;\n","import React from \"react\";\nimport {\n  CardHeader,\n  CardTitle,\n  CardContent,\n  CardDescription,\n} from \"@/components/ui/card\";\nimport { Sun } from \"lucide-react\";\n// Using props instead of importing these functions\n\ninterface SolarInfluenceInsightsProps {\n  sun: any;\n  getSunSignImpact: (sign: string) => string;\n  getSunElement: (sign: string) => string;\n  getElementImpact: (element: string) => string;\n  getDegreeImpact: (degree: number) => string;\n  getSunSportsInfluences: () => { text: string; color: string }[];\n  sidereal?: boolean;\n  formattedDegree?: string;\n}\n\nconst SolarInfluenceInsights: React.FC<SolarInfluenceInsightsProps> = ({\n  sun,\n  getSunSignImpact,\n  getSunElement,\n  getElementImpact,\n  getDegreeImpact,\n  getSunSportsInfluences,\n  sidereal = false,\n  formattedDegree = '0°',\n}) => {\n  // Get the sun sign and element\n  const sunSign = sun?.sign || 'Unknown';\n  const sunElement = getSunElement(sunSign);\n  \n  // Get the sun degree\n  const sunDegree = sun?.degree || 0;\n  \n  // Get the influences\n  const influences = getSunSportsInfluences();\n\n  return (\n    <>\n      <CardHeader className=\"pb-2 pt-4 px-0 sm:px-6\">\n        <CardTitle className=\"text-lg font-semibold text-slate-800\">\n          <Sun className=\"h-5 w-5 text-yellow-500\" />\n        </CardTitle>\n      </CardHeader>\n      <CardContent className=\"space-y-3 pt-2 px-0 sm:px-6\">\n        {/* Sun Position Visualization */}\n        <div className=\"bg-gradient-to-r from-yellow-50 to-amber-50 p-4 sm:p-6 rounded-none sm:rounded-xl shadow-sm\">\n          <div className=\"flex flex-col md:flex-row items-center md:items-start gap-4 sm:gap-6\">\n            {/* Sun Visualization */}\n            <div className=\"relative w-28 h-28 sm:w-32 sm:h-32 md:w-40 md:h-40 flex-shrink-0\">\n              <div className=\"absolute inset-0 rounded-full bg-gradient-to-br from-yellow-300 via-yellow-500 to-amber-500 shadow-lg transform hover:scale-105 transition-transform duration-500\">\n                {/* Glow effect */}\n                <div\n                  className=\"absolute inset-0 rounded-full\"\n                  style={{\n                    boxShadow: '0 0 30px 8px rgba(251, 191, 36, 0.6)',\n                    background: 'radial-gradient(circle at 40% 40%, rgba(252, 211, 77, 0.8), transparent 70%)',\n                  }}\n                />\n              </div>\n              {/* Sun rays */}\n              {[...Array(12)].map((_, i) => (\n                <div\n                  key={i}\n                  className=\"absolute top-1/2 left-1/2 w-1 h-6 sm:h-8 md:h-10 bg-yellow-400 origin-bottom transform -translate-x-1/2 -translate-y-full\"\n                  style={{\n                    transform: `rotate(${i * 30}deg) translateY(-50%)`,\n                    boxShadow: '0 0 8px rgba(251, 191, 36, 0.8)'\n                  }}\n                />\n              ))}\n            </div>\n\n            {/* Sun Information */}\n            <div className=\"flex-1 w-full\">\n              <div className=\"bg-white p-3 sm:p-4 rounded-lg border border-amber-100 mb-4 w-full\">\n                <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-3\">\n                  <div className=\"bg-amber-50 p-2 sm:p-3 rounded-md flex flex-col items-center text-center\">\n                    <div className=\"text-[10px] sm:text-xs text-amber-700 font-medium mb-0.5 sm:mb-1\">Sign</div>\n                    <div className=\"text-sm font-semibold text-amber-800\">\n                      {sunSign || \"-\"}\n                    </div>\n                  </div>\n                  <div className=\"bg-amber-50 p-2 sm:p-3 rounded-md flex flex-col items-center text-center\">\n                    <div className=\"text-[10px] sm:text-xs text-amber-700 font-medium mb-0.5 sm:mb-1\">Element</div>\n                    <div className=\"text-sm font-semibold text-amber-800\">\n                      {sunElement || \"-\"}\n                    </div>\n                  </div>\n                  <div className=\"bg-amber-50 p-2 sm:p-3 rounded-md flex flex-col items-center text-center\">\n                    <div className=\"text-[10px] sm:text-xs text-amber-700 font-medium mb-0.5 sm:mb-1\">Position</div>\n                    <div className=\"text-sm font-semibold text-amber-800\">\n                      {sunDegree ? `${Math.floor(sunDegree)}°${Math.round((sunDegree % 1) * 60)}'` : \"-\"}\n                    </div>\n                  </div>\n                  <div className=\"bg-amber-50 p-2 sm:p-3 rounded-md flex flex-col items-center text-center\">\n                    <div className=\"text-[10px] sm:text-xs text-amber-700 font-medium mb-0.5 sm:mb-1\">Quality</div>\n                    <div className=\"text-sm font-semibold text-amber-800\">\n                      {sunSign ? (\n                        [\"Aries\", \"Cancer\", \"Libra\", \"Capricorn\"].includes(sunSign)\n                          ? \"Cardinal\"\n                          : [\"Taurus\", \"Leo\", \"Scorpio\", \"Aquarius\"].includes(sunSign)\n                          ? \"Fixed\"\n                          : \"Mutable\"\n                      ) : \"-\"}\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"bg-gradient-to-br from-amber-50 to-white p-4 sm:p-5 rounded-xl border border-amber-100 shadow-sm hover:shadow-md transition-shadow duration-300\">\n                <div className=\"flex items-center mb-3\">\n                  <div className=\"p-1.5 sm:p-2 bg-amber-100 rounded-lg mr-2 sm:mr-3\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4 sm:h-5 sm:w-5 text-amber-600\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                      <path fillRule=\"evenodd\" d=\"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z\" clipRule=\"evenodd\" />\n                    </svg>\n                  </div>\n                  <h5 className=\"text-sm sm:text-base font-semibold bg-gradient-to-r from-amber-600 to-amber-800 bg-clip-text text-transparent\">\n                    Solar Influence Insights\n                  </h5>\n                </div>\n                <ul className=\"space-y-1.5 sm:space-y-2\">\n                  {influences.map((influence, index) => (\n                    <li\n                      key={`sun-influence-${index}`}\n                      className=\"text-xs sm:text-sm text-slate-700 leading-relaxed\"\n                    >\n                      <div className=\"flex items-start\">\n                        <span className=\"inline-block w-1.5 h-1.5 rounded-full mt-1.5 mr-2 flex-shrink-0 bg-slate-300\"></span>\n                        <span>{influence.text}</span>\n                      </div>\n                    </li>\n                  ))}\n                  {influences.length === 0 && (\n                    <div className=\"text-center py-4 px-3 bg-amber-50 rounded-lg border border-amber-100\">\n                      <p className=\"text-sm text-amber-700\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 inline-block mr-1 -mt-1\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                          <path fillRule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\" clipRule=\"evenodd\" />\n                        </svg>\n                        Solar influences are currently unavailable.\n                      </p>\n                    </div>\n                  )}\n                </ul>\n              </div>\n            </div>\n          </div>\n        </div>\n      </CardContent>\n    </>\n  );\n};\n\nexport default SolarInfluenceInsights;\n","import React from \"react\";\n\nimport { Flame, Droplets, Wind, Mountain } from \"lucide-react\";\nimport { getElementColor, getSignElement } from \"@/utils/astroUtils/index\";\n\ninterface Planet {\n  name: string;\n  sign?: string;\n  degree?: number;\n  retrograde?: boolean;\n  speed?: number;\n  [key: string]: any;\n}\n\ninterface ElementalBalanceProps {\n  planets?: Record<string, Planet>;\n}\n\nconst ElementalBalance: React.FC<ElementalBalanceProps> = ({ planets = {} }) => {\n  // Calculate elemental balance\n  const elementalCounts = React.useMemo(() => {\n    const counts = {\n      fire: 0,\n      earth: 0,\n      air: 0,\n      water: 0,\n    };\n\n    if (planets && typeof planets === \"object\") {\n      Object.values(planets).forEach((planet) => {\n        if (planet && planet.sign) {\n          const element = getSignElement(planet.sign);\n          if (element && element.toLowerCase() in counts) {\n            counts[element.toLowerCase() as keyof typeof counts] += 1;\n          }\n        }\n      });\n    }\n\n    return counts;\n  }, [planets]);\n\n  // Calculate total planets with valid signs\n  const totalPlanets = React.useMemo(() => {\n    return Object.values(elementalCounts).reduce((sum, count) => sum + count, 0);\n  }, [elementalCounts]);\n\n  // Calculate percentages\n  const elementalPercentages = React.useMemo(() => {\n    if (totalPlanets === 0) return { fire: 0, earth: 0, air: 0, water: 0 };\n    \n    return {\n      fire: (elementalCounts.fire / totalPlanets) * 100,\n      earth: (elementalCounts.earth / totalPlanets) * 100,\n      air: (elementalCounts.air / totalPlanets) * 100,\n      water: (elementalCounts.water / totalPlanets) * 100,\n    };\n  }, [elementalCounts, totalPlanets]);\n\n  // Determine dominant element\n  const dominantElement = React.useMemo(() => {\n    if (totalPlanets === 0) return null;\n    \n    const elements = [\"fire\", \"earth\", \"air\", \"water\"] as const;\n    return elements.reduce((max, element) => \n      elementalCounts[element] > elementalCounts[max] ? element : max\n    , elements[0]);\n  }, [elementalCounts, totalPlanets]);\n\n  // Element icons and descriptions\n  const elementInfo = {\n    fire: {\n      icon: <Flame className=\"h-5 w-5\" />,\n      color: \"text-red-500\",\n      bgColor: \"bg-red-500\",\n      lightBgColor: \"bg-red-100\",\n      description: \"Energetic, passionate, and action-oriented. Favors aggressive play and high-scoring games.\",\n    },\n    earth: {\n      icon: <Mountain className=\"h-5 w-5\" />,\n      color: \"text-green-600\",\n      bgColor: \"bg-green-600\",\n      lightBgColor: \"bg-green-100\",\n      description: \"Stable, practical, and reliable. Favors defensive strategies and consistent performance.\",\n    },\n    air: {\n      icon: <Wind className=\"h-5 w-5\" />,\n      color: \"text-blue-400\",\n      bgColor: \"bg-blue-400\",\n      lightBgColor: \"bg-blue-100\",\n      description: \"Intellectual, communicative, and adaptable. Favors strategic play and creative tactics.\",\n    },\n    water: {\n      icon: <Droplets className=\"h-5 w-5\" />,\n      color: \"text-indigo-500\",\n      bgColor: \"bg-indigo-500\",\n      lightBgColor: \"bg-indigo-100\",\n      description: \"Emotional, intuitive, and sensitive. Favors fluid play and emotional momentum.\",\n    },\n  };\n\n  return (\n    <div className=\"bg-white rounded-xl\">\n      <div className=\"pb-3 sm:pb-4 px-4 sm:px-6\">\n        <h3 className=\"text-base sm:text-lg font-semibold text-slate-800 flex items-center\">\n          <div className=\"flex space-x-1 mr-2\">\n            <Flame className=\"h-4 w-4 sm:h-5 sm:w-5 text-red-500\" />\n            <Droplets className=\"h-4 w-4 sm:h-5 sm:w-5 text-indigo-500\" />\n          </div>\n          Elemental Balance\n        </h3>\n        <p className=\"text-xs sm:text-sm text-slate-600\">\n          Current Elemental Distribution - Distribution of astrological elements affecting today's games\n        </p>\n      </div>\n\n      <div className=\"space-y-4 sm:space-y-6 px-4 sm:px-6 py-2 sm:py-4\">\n        {/* Elemental Distribution */}\n        <section>\n          <div className=\"h-2\"></div> {/* Spacer for consistent layout */}\n          \n          <div className=\"bg-gray-200 rounded-full h-6 sm:h-8 overflow-hidden shadow-sm mb-3 sm:mb-4\">\n            {[\"fire\", \"earth\", \"air\", \"water\"].map((element, index) => {\n              const elementPlanets = Object.entries(planets).filter(\n                ([_, planet]) => planet?.sign && getSignElement(planet.sign) === element.charAt(0).toUpperCase() + element.slice(1)\n              );\n              const count = elementPlanets.length;\n              const totalPlanets = Object.keys(planets).length || 1;\n              const percentage = (count / totalPlanets) * 100;\n              const width = `${percentage}%`;\n              \n              return (\n                <div\n                  key={element}\n                  className={`h-full inline-block transition-all duration-300 ${elementInfo[element].bgColor} ${\n                    index === 0 ? 'rounded-l-full' : index === 3 ? 'rounded-r-full' : ''\n                  }`}\n                  style={{ width }}\n                  aria-label={`${element} ${percentage.toFixed(0)}%`}\n                />\n              );\n            })}\n          </div>\n\n          <div className=\"grid grid-cols-2 gap-2 sm:flex sm:justify-between text-[10px] xs:text-xs text-slate-600 mb-2\">\n            {[\"fire\", \"earth\", \"air\", \"water\"].map((element) => {\n              const elementPlanets = Object.entries(planets).filter(\n                ([_, planet]) => planet?.sign && getSignElement(planet.sign) === element.charAt(0).toUpperCase() + element.slice(1)\n              );\n              const count = elementPlanets.length;\n              const totalPlanets = Object.keys(planets).length || 1;\n              const percentage = (count / totalPlanets) * 100;\n              \n              return (\n                <div key={element} className=\"flex items-center justify-center sm:justify-start\">\n                  <span className={`px-1.5 py-0.5 sm:px-2 sm:py-1 rounded ${elementInfo[element].color} whitespace-nowrap`}>\n                    <span className=\"font-bold\">{element.charAt(0).toUpperCase() + element.slice(1)}</span>: {count} ({percentage.toFixed(0)}%)\n                  </span>\n                </div>\n              );\n            })}\n          </div>\n          {/* Dominant element display removed as per user request */}\n        </section>\n\n        {/* Element Influence */}\n        <section>\n          <h3 className=\"text-sm sm:text-base font-semibold text-slate-800 mb-3 sm:mb-4\">\n            Element Influence Insights\n          </h3>\n          \n          {dominantElement ? (\n            <div className={`p-3 sm:p-4 rounded-lg ${elementInfo[dominantElement].lightBgColor}`}>\n              <div className=\"flex items-center mb-2 sm:mb-3\">\n                <div className={`p-1.5 sm:p-2 rounded-full ${elementInfo[dominantElement].bgColor} text-white mr-3`}>\n                  {React.cloneElement(elementInfo[dominantElement].icon, { className: 'h-4 w-4 sm:h-5 sm:w-5' })}\n                </div>\n                <h4 className={`text-sm sm:text-base font-semibold ${elementInfo[dominantElement].color}`}>\n                  {dominantElement.charAt(0).toUpperCase() + dominantElement.slice(1)} Dominant\n                </h4>\n              </div>\n              <p className=\"text-sm sm:text-base text-slate-800 leading-relaxed\">\n                {elementInfo[dominantElement].description}\n              </p>\n            </div>\n          ) : (\n            <div className=\"p-3 sm:p-4 rounded-lg bg-slate-50\">\n              <p className=\"text-sm sm:text-base text-slate-800\">\n                No dominant element detected or insufficient planetary data available.\n              </p>\n            </div>\n          )}\n\n          <div className=\"mt-4 sm:mt-5\">\n            <h4 className=\"text-xs sm:text-sm font-medium text-slate-600 mb-2 sm:mb-3\">\n              Planets by Element\n            </h4>\n            <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-3\">\n              {[\"fire\", \"earth\", \"air\", \"water\"].map((element) => (\n                <div \n                  key={element} \n                  className=\"bg-white p-1.5 sm:p-2 rounded-lg shadow-sm border border-slate-100 hover:shadow-md transition-shadow\"\n                >\n                  <div className={`flex items-center justify-center sm:justify-start mb-0.5 sm:mb-1 ${elementInfo[element].color}`}>\n                    <span className=\"text-xs sm:text-sm\">{elementInfo[element].icon}</span>\n                    <span className=\"ml-1 text-[10px] xs:text-xs font-medium capitalize\">\n                      {element}\n                    </span>\n                  </div>\n                  <div className=\"text-[10px] xs:text-xs text-slate-600 text-center sm:text-left line-clamp-2\">\n                    {Object.entries(planets)\n                      .filter(([_, planet]) => planet?.sign && getSignElement(planet.sign) === element.charAt(0).toUpperCase() + element.slice(1))\n                      .map(([name]) => name)\n                      .join(\", \") || \"None\"}\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        </section>\n      </div>\n    </div>\n  );\n};\n\nexport default ElementalBalance;\n","import React, {\n  useState,\n  useEffect,\n  useMemo,\n  useCallback,\n  Fragment,\n} from \"react\";\nimport {\n  Card,\n  CardHeader,\n  CardTitle,\n  CardContent,\n  CardDescription,\n  CardFooter,\n} from \"@/components/ui/card\";\nimport GameCard from \"@/components/GameCard\";\nimport { Alert, AlertDescription, AlertTitle } from \"@/components/ui/alert\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport { groupGamesByDate, formatGameDate } from \"@/utils/dateUtils\";\nimport { useTeams } from \"@/hooks/useTeams\";\nimport { useUpcomingGames } from \"@/hooks/useUpcomingGames\";\nimport { Progress } from \"@/components/ui/progress\";\nimport CosmicWaveProgress from \"@/components/CosmicWaveProgress\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Separator } from \"@/components/ui/separator\";\nimport {\n  TooltipProvider,\n  Tooltip,\n  TooltipTrigger,\n  TooltipContent,\n} from \"@/components/ui/tooltip\";\nimport { Button } from \"@/components/ui/button\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport {\n  Sparkles,\n  Newspaper,\n  ArrowRight,\n  Star,\n  Calendar,\n  Sun,\n  Moon,\n  Info,\n  Activity,\n  Zap,\n  BarChart,\n  BarChart2,\n  Lightbulb,\n  AlertCircle,\n  TrendingUp,\n  Globe,\n  CircleDot,\n  Heart,\n  Flame,\n  CircleOff,\n  Waves,\n  CircleX,\n  Trophy,\n} from \"lucide-react\";\nimport { format } from \"date-fns\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport { useAstroData } from \"@/hooks/useAstroData\";\nimport type { Team } from \"@/types\";\nimport type { Game } from \"@/types\";\nimport {\n  calculateSportsPredictions,\n  predictGameOutcome,\n} from \"@/utils/sportsPredictions\";\nimport type {\n  ModalBalance,\n  ElementalBalance as ElementalBalanceType,\n  ZodiacSign,\n  AspectType,\n  MoonPhaseInfo,\n  Aspect,\n  AstroData,\n} from \"@/types/astrology\";\nimport type { GamePredictionData } from \"@/types/gamePredictions\";\nimport type { Article } from \"../types/news\";\nimport { createDefaultCelestialBody } from \"@/types/gamePredictions\";\n\n// Extend the Team interface to include additional properties used in the component\ninterface ExtendedTeam extends Omit<Team, \"logo\" | \"logo_url\" | \"external_id\"> {\n  logo_url?: string;\n  logo?: string;\n  primary_color?: string;\n  secondary_color?: string;\n  record?: string;\n  wins?: number;\n  losses?: number;\n  external_id?: string | number;\n}\n\n// Helper type for aspect influence\ninterface AspectInfluence {\n  description: string;\n  strength: number;\n  area?: string[];\n}\n\n// Type definitions\ninterface AstrologyInfluence {\n  name: string;\n  impact: number;\n  description: string;\n  icon?: React.ReactNode;\n}\n\n// Renamed to avoid conflict with the imported component\ninterface ElementDistribution {\n  fire: number;\n  earth: number;\n  water: number;\n  air: number;\n}\n\n// Constants\nimport { Sport } from \"@/types\";\nimport LoadingScreen from \"@/components/LoadingScreen\";\nimport TopPlayersCarousel from \"@/components/dashboard/TopPlayersCarousel\";\nimport useTopPlayers from \"@/hooks/useTopPlayers\";\n\n// Helper function to calculate moon clip path based on illumination (0-1) and phase name\nconst getMoonClipPath = (illumination: number, phaseName?: string): string => {\n  // For testing/debugging\n  console.log(`[Moon Illustration] Generating clip path: illumination=${illumination}, phase=${phaseName}`);\n  \n  if (!illumination && illumination !== 0) return 'circle(50%)';\n  \n  // Handle edge cases\n  if (illumination >= 0.99) return 'circle(50%)'; // Full Moon (100% illuminated)\n  if (illumination <= 0.01) return 'circle(0%)';  // New Moon (0% illuminated)\n  \n  // Determine if we're in waxing (illumination increasing) or waning (illumination decreasing) phase\n  const isWaxing = phaseName?.toLowerCase().includes('waxing') || \n                  (phaseName?.toLowerCase().includes('first') && !phaseName.toLowerCase().includes('last')) ||\n                  (illumination > 0 && illumination <= 0.5);\n  \n  // For waxing phases (illumination increasing, right side lit)\n  if (isWaxing) {\n    if (illumination < 0.5) {\n      // Waxing Crescent: less than 50% illuminated, right side lit\n      const xPos = 50 + ((1 - (illumination * 2)) * 50);\n      return `inset(0 0 0 ${xPos}%)`;\n    } else {\n      // Waxing Gibbous: more than 50% illuminated, right side lit\n      const xPos = 50 - ((illumination - 0.5) * 100);\n      return `inset(0 0 0 0) polygon(${xPos}% 0, 100% 0, 100% 100%, ${xPos}% 100%)`;\n    }\n  } \n  // For waning phases (illumination decreasing, left side lit)\n  else {\n    if (illumination < 0.5) {\n      // Waning Crescent: less than 50% illuminated, left side lit\n      const xPos = 50 - ((1 - (illumination * 2)) * 50);\n      return `inset(0 ${xPos}% 0 0)`;\n    } else {\n      // Waning Gibbous: more than 50% illuminated, left side lit\n      const xPos = 50 + ((illumination - 0.5) * 100);\n      return `inset(0 0 0 0) polygon(${xPos}% 0, 100% 0, 100% 100%, ${xPos}% 100%)`;\n    }\n  }\n};\n\nconst MLB_LEAGUE_KEY: Sport = \"mlb\";\nconst DEFAULT_LOGO = \"/images/default-team-logo.svg\";\n\nimport AstroDisclosure from \"@/components/AstroDisclosure\";\n\n// Import refactored dashboard components\nimport KeyPlanetaryInfluences from \"@/components/dashboard/KeyPlanetaryInfluences\";\nimport LunarStatusCard from \"@/components/dashboard/LunarStatusCard\";\nimport SolarInfluenceInsights from \"@/components/dashboard/SolarInfluenceInsights\";\nimport ElementalBalance from \"@/components/dashboard/ElementalBalance\";\n\nconst Dashboard: React.FC = () => {\n  const navigate = useNavigate();\n  const [featuredArticle, setFeaturedArticle] = useState<Article | null>(null);\n  const [isLoadingArticle, setIsLoadingArticle] = useState(true);\n  const [articleError, setArticleError] = useState<string | null>(null);\n  const [astroInfluences, setAstroInfluences] = useState<AstrologyInfluence[]>(\n    [],\n  );\n\n  // Fetch the featured article from the news API\n  useEffect(() => {\n    const fetchFeaturedArticle = async () => {\n      try {\n        setIsLoadingArticle(true);\n        const response = await fetch(\"/news/index.json\");\n\n        if (!response.ok) {\n          throw new Error(\n            `Failed to fetch articles: ${response.status} ${response.statusText}`,\n          );\n        }\n\n        const data = await response.json();\n        const articles = Array.isArray(data) ? data : data.articles || [];\n\n        if (articles.length > 0) {\n          const latestArticle = articles[0];\n          // Map the article to match our Article interface\n          const mappedArticle: Article = {\n            slug: latestArticle.slug || `article-${Date.now()}`,\n            title: latestArticle.title || \"Latest News\",\n            subheading: latestArticle.description || \"\",\n            contentHtml:\n              latestArticle.content ||\n              `<p>${latestArticle.description || \"\"}</p>`,\n            featureImageUrl: latestArticle.image || \"\",\n            publishedAt: latestArticle.publishedAt || new Date().toISOString(),\n            author: latestArticle.author || \"AI Insights\",\n            tags: latestArticle.tags || [\"MLB\", \"News\"],\n          };\n          setFeaturedArticle(mappedArticle);\n        }\n      } catch (err) {\n        console.error(\"Error fetching featured article:\", err);\n        setArticleError(\n          \"Failed to load the latest news. Please try again later.\",\n        );\n      } finally {\n        setIsLoadingArticle(false);\n      }\n    };\n\n    fetchFeaturedArticle();\n  }, []);\n  // State for today's date\n  const today = useMemo(() => new Date(), []);\n  const [selectedDate, setSelectedDate] = useState<Date>(today);\n\n  // Memoize date string for API call\n  const dateString = useMemo(\n    () => selectedDate.toISOString().split(\"T\")[0],\n    [selectedDate],\n  );\n\n  // Fetch teams and games data\n  const {\n    teams,\n    teamMap,\n    teamByExternalId,\n    loading: teamsLoading,\n    error: teamsError,\n    resolvedLeagueId: mlbLeagueId, // Rename for clarity\n    isLeagueResolutionComplete: isMlbLeagueResolutionComplete,\n  } = useTeams(MLB_LEAGUE_KEY);\n\n  // Fetch upcoming games only when MLB league ID resolution is complete\n  const {\n    games,\n    loading: gamesLoading,\n    error: gamesError,\n  } = useUpcomingGames({\n    sport: MLB_LEAGUE_KEY,\n    limit: 12,\n    // Only pass leagueId if resolution is complete and ID is available\n    leagueId: isMlbLeagueResolutionComplete ? mlbLeagueId : null,\n    // Disable hook if resolution is not complete and we are targeting MLB\n    disabled: MLB_LEAGUE_KEY && !isMlbLeagueResolutionComplete,\n  });\n\n  // Memoized astro data hook call with stable date string\n  const stableDateString = useMemo(() => {\n    return new Date().toISOString().split(\"T\")[0];\n  }, []);\n\n  const {\n    astroData,\n    loading: astroLoading,\n    error: astroError,\n  } = useAstroData(stableDateString);\n\n  // Fetch top baseball players with highest astro influence\n  const {\n    players: topPlayers,\n    loading: topPlayersLoading,\n    error: topPlayersError\n  } = useTopPlayers(6); // Limit to top 6 players\n\n  // Memoize elements distribution\n  const elementsDistribution = useMemo(() => {\n    if (!astroData?.elements) return { fire: 0, earth: 0, water: 0, air: 0 };\n    \n    // Helper function to extract numeric value from element (handles both number and {score: number} types)\n    const getElementValue = (element: number | { score: number } | undefined): number => {\n      if (element === undefined) return 0;\n      return typeof element === 'number' ? element : element.score || 0;\n    };\n    \n    return {\n      fire: getElementValue(astroData?.elements?.fire),\n      earth: getElementValue(astroData?.elements?.earth),\n      water: getElementValue(astroData?.elements?.water),\n      air: getElementValue(astroData?.elements?.air),\n    };\n  }, [astroData]);\n\n  // Memoize game prediction data\n  const sportsPredictions = useMemo(() => {\n    if (!astroData) return null;\n    return calculateSportsPredictions(astroData);\n  }, [astroData]);\n\n  // Group games by date\n  const groupedGames = useMemo(() => {\n    if (!games || games.length === 0) return [];\n\n    const groups = games.reduce<Record<string, { date: Date; games: Game[] }>>(\n      (acc, game) => {\n        const dateKey = new Date(game.start_time || \"\")\n          .toISOString()\n          .split(\"T\")[0];\n        if (!acc[dateKey]) {\n          acc[dateKey] = { date: new Date(dateKey), games: [] };\n        }\n        acc[dateKey].games.push(game);\n        return acc;\n      },\n      {},\n    );\n\n    return Object.values(groups).sort(\n      (a, b) => a.date.getTime() - b.date.getTime(),\n    );\n  }, [games]);\n\n  // Single handler definition\n  const handleSeeMoreGames = useCallback(() => {\n    navigate(\"/games\");\n  }, [navigate]);\n\n  // Transform games data for display\n  const processedGames = useMemo(() => {\n    if (!games) return [];\n\n    return games.map((game) => ({\n      ...game,\n      // Add any game processing logic here\n    }));\n  }, [games]);\n\n  // Create a memoized function to get game-specific predictions\n  const getGamePrediction = useCallback(\n    (\n      game: Game,\n      homeTeam: Team | ExtendedTeam,\n      awayTeam: Team | ExtendedTeam,\n    ) => {\n      if (!sportsPredictions || !sportsPredictions.games) return null;\n\n      // Find prediction for this game\n      return (\n        sportsPredictions.games.find(\n          (pred: any) => pred && pred.gameId === game.id,\n        ) || null\n      );\n    },\n    [sportsPredictions],\n  );\n\n  // Helper function to find a team with proper type casting\n  const findTeam = (teamId: string): Team | undefined => {\n    const team = teamMap?.[teamId] as ExtendedTeam | undefined;\n    if (!team) return undefined;\n\n    const teamData: Team = {\n      id: team.id || teamId,\n      name: team.name || \"Unknown Team\",\n      abbreviation:\n        team.abbreviation || team.name?.substring(0, 3).toUpperCase() || \"TBD\",\n      logo_url: team.logo_url || team.logo || DEFAULT_LOGO,\n      sport: \"baseball_mlb\",\n    };\n    // Add external_id if it exists\n    if (team.external_id !== undefined) {\n      (teamData as any).external_id = String(team.external_id);\n    }\n\n    // Add optional properties if they exist\n    if (team.city) teamData.city = team.city;\n    if (team.primary_color) teamData.primary_color = team.primary_color;\n    if (team.secondary_color) teamData.secondary_color = team.secondary_color;\n\n    return teamData;\n  };\n\n  // Process astrological data when it's available\n  useEffect(() => {\n    if (astroData && !astroLoading) {\n      // Initialize element scores\n      let fireScore = 0;\n      let earthScore = 0;\n      let waterScore = 0;\n      let airScore = 0;\n\n      // Process elements from astroData\n      if (astroData.elements) {\n        const elements = astroData.elements as any;\n        if (typeof elements.fire === \"number\") {\n          fireScore = elements.fire || 0;\n          earthScore = elements.earth || 0;\n          waterScore = elements.water || 0;\n          airScore = elements.air || 0;\n        } else if (elements.fire && typeof elements.fire === \"object\") {\n          fireScore = elements.fire.score || 0;\n          earthScore = elements.earth?.score || 0;\n          waterScore = elements.water?.score || 0;\n          airScore = elements.air?.score || 0;\n        }\n      } // Closes if (astroData.elements)\n\n      const totalElements = fireScore + earthScore + waterScore + airScore;\n\n      // Format astrological influences\n      const influences: AstrologyInfluence[] = [];\n\n      // Safely get sun sign from astroData\n      const sunSign = astroData?.planets?.sun?.sign;\n\n      // Sun Position is now handled in a dedicated, visually distinct panel below the Moon & Void Status panel. Remove from influences.\n\n      // Add moon phase influence if available\n      const moonPhase =\n        astroData?.moon?.phase_name ||\n        (astroData?.planets?.moon as any)?.phase_name;\n      if (moonPhase) {\n        influences.push({\n          name: \"Lunar Influence\",\n          impact: 0.7,\n          description: `${moonPhase} Moon ${getMoonPhaseImpact(moonPhase)}`,\n          icon: <Moon className=\"h-5 w-5 text-slate-400\" />,\n        });\n      }\n\n      // Add retrograde planets if any\n      const retrogradePlanets = [];\n      if (astroData?.planets) {\n        Object.entries(astroData.planets).forEach(\n          ([planet, data]: [string, any]) => {\n            if (data?.retrograde) {\n              retrogradePlanets.push(planet);\n            }\n          },\n        );\n      }\n\n      if (retrogradePlanets.length > 0) {\n        const planetNames = retrogradePlanets\n          .map((p) => p.charAt(0).toUpperCase() + p.slice(1))\n          .join(\", \");\n        influences.push({\n          name: \"Retrograde Planets\",\n          impact: 0.6,\n          description: `${planetNames} ${retrogradePlanets.length > 1 ? \"are\" : \"is\"} retrograde, which may affect ${retrogradePlanets.length > 1 ? \"their\" : \"its\"} related aspects of the game`,\n          icon: <Info className=\"h-5 w-5 text-orange-500\" />,\n        });\n      }\n\n      // Add dominant element influence if we have element data\n      if (totalElements > 0) {\n        const elementScores = {\n          fire: fireScore,\n          earth: earthScore,\n          air: airScore,\n          water: waterScore,\n        };\n        const dominantEntry = Object.entries(elementScores).sort(\n          (a, b) => b[1] - a[1],\n        )[0];\n\n        if (dominantEntry && dominantEntry[1] > 0) {\n          const [dominantElement, score] = dominantEntry as [\n            keyof ElementDistribution,\n            number,\n          ];\n          influences.push({\n            name: \"Dominant Element\",\n            impact: Math.min(0.9, 0.5 + score / totalElements),\n            description: `Strong ${dominantElement} influence (${Math.round((score / totalElements) * 100)}%) affects player ${getElementImpact(dominantElement)}`,\n            icon: <Activity className=\"h-5 w-5 text-indigo-500\" />,\n          });\n        }\n      }\n\n      setAstroInfluences(influences);\n    }\n  }, [astroData]);\n\n  // Helper functions for astrological descriptions\n  function getSunSignImpact(sign: string): string {\n    const impacts: Record<string, string> = {\n      Aries: \"assertive and competitive\",\n      Taurus: \"consistent and determined\",\n      Gemini: \"adaptable and strategic\",\n      Cancer: \"intuitive and defensive\",\n      Leo: \"confident and dominant\",\n      Virgo: \"analytical and precise\",\n      Libra: \"balanced and fair\",\n      Scorpio: \"intense and tactical\",\n      Sagittarius: \"optimistic and risk-taking\",\n      Capricorn: \"disciplined and methodical\",\n      Aquarius: \"innovative and unpredictable\",\n      Pisces: \"intuitive and fluid\",\n    };\n    return impacts[sign] || \"influential\";\n  }\n\n  function getMoonPhaseImpact(phase: string): string {\n    const impacts: Record<string, string> = {\n      \"New Moon\": \"suggests fresh strategies and new beginnings\",\n      \"Waxing Crescent\": \"brings building momentum and growing confidence\",\n      \"First Quarter\": \"favors decisive action and breakthrough moments\",\n      \"Waxing Gibbous\": \"enhances skill refinement and preparation\",\n      \"Full Moon\": \"amplifies performance intensity and visibility\",\n      \"Waning Gibbous\": \"supports teamwork and collaborative efforts\",\n      \"Last Quarter\": \"indicates strategic adjustments and reassessment\",\n      \"Waning Crescent\": \"suggests introspection and renewal\",\n    };\n    return impacts[phase] || \"influences game dynamics\";\n  }\n\n  function getElementImpact(element: string): string {\n    const impacts: Record<string, string> = {\n      fire: \"aggression and risk-taking\",\n      earth: \"endurance and reliability\",\n      air: \"strategy and communication\",\n      water: \"intuition and flow\",\n    };\n    return impacts[element.toLowerCase()] || \"performance\";\n  }\n\n  function getSunElement(sign: string): string {\n    const elements: Record<string, string> = {\n      Aries: \"Fire\",\n      Taurus: \"Earth\",\n      Gemini: \"Air\",\n      Cancer: \"Water\",\n      Leo: \"Fire\",\n      Virgo: \"Earth\",\n      Libra: \"Air\",\n      Scorpio: \"Water\",\n      Sagittarius: \"Fire\",\n      Capricorn: \"Earth\",\n      Aquarius: \"Air\",\n      Pisces: \"Water\",\n    };\n    return elements[sign] || \"—\";\n  }\n\n  function getSunSportsInfluences(\n    astroData: any,\n  ): { text: string; color: string }[] {\n    const influences: { text: string; color: string }[] = [];\n\n    if (!astroData) return influences;\n\n    // Use the sunSign property directly from the API response\n    if (astroData?.sunSign) {\n      const sign = astroData.sunSign;\n      const element = getSunElement(sign);\n\n      influences.push({\n        text: `The Sun in ${sign} brings ${getSunSignImpact(sign)} energy to today's games`,\n        color:\n          element === \"Fire\"\n            ? \"bg-red-500\"\n            : element === \"Earth\"\n              ? \"bg-green-500\"\n              : element === \"Air\"\n                ? \"bg-sky-300\"\n                : \"bg-indigo-500\",\n      });\n    }\n\n    if (astroData.planets?.sun?.degree !== undefined) {\n      const degree = Math.floor(astroData.planets.sun.degree);\n      influences.push({\n        text: `The Sun is at ${degree}°, which may indicate ${getDegreeImpact(degree)} performance`,\n        color: \"bg-orange-500\",\n      });\n    }\n\n    return influences;\n  }\n\n  function getDegreeImpact(degree: number): string {\n    const impacts: Record<string, string> = {\n      \"0-10\": \"strong start\",\n      \"11-20\": \"building momentum\",\n      \"21-30\": \"peak performance\",\n    };\n    const range = Object.keys(impacts).find((r) => {\n      const [start, end] = r.split(\"-\").map((n) => parseInt(n));\n      return degree >= start && degree <= end;\n    });\n    return impacts[range] || \"variable\";\n  }\n\n  // Helper function to format degrees and minutes for display\n  function formatDegreesMinutes(degrees: number, minutes: number): string {\n    return `${Math.floor(degrees)}°${minutes ? ` ${minutes}'` : \"\"}`;\n  }\n\n  // Helper function to get moon aspect message based on phase and sign with sports focus\n  const getMoonAspectMessage = (\n    moonPhaseData: MoonPhaseInfo | undefined,\n    moonSign: ZodiacSign | undefined,\n  ): string => {\n    if (!moonPhaseData)\n      return \"Analyzing lunar influences on sports performance\";\n\n    const { name: phaseName, value: phaseValue, illumination } = moonPhaseData;\n\n    // Determine if waxing or waning based on value; names can sometimes be ambiguous or vary by source\n    // Standard phase values: New=0, FQ=0.25, Full=0.5, LQ=0.75, New=1 (or 0 again)\n    // Waxing: (0, 0.5), Waning: (0.5, 1)\n    const isWaxing = phaseValue > 0 && phaseValue < 0.5;\n    const isWaning = phaseValue > 0.5 && phaseValue < 1;\n\n    let description = `Current lunar phase (${phaseName}, ${Math.round(illumination * 100)}% illuminated) `;\n\n    if (isWaxing) {\n      description += \"favors teams building momentum. \";\n      description += \"Look for squads that improve as the game progresses. \";\n      if (illumination > 0.7) {\n        // Closer to Full Moon within waxing period\n        description += \"Peak performance conditions expected. \";\n      }\n    } else if (isWaning) {\n      description += \"may benefit experienced teams. \";\n      description += \"Watch for veteran players making key plays. \";\n      if (illumination < 0.3) {\n        // Closer to New Moon within waning period\n        description += \"Potential for unexpected outcomes increases. \";\n      }\n    } else if (phaseName === \"Full Moon\" || Math.abs(phaseValue - 0.5) < 0.05) {\n      // Check name or close value\n      description =\n        \"Peak intensity conditions (Full Moon). Expect high-energy performances \";\n      description += \"and potential for standout individual efforts. \";\n    } else if (\n      phaseName === \"New Moon\" ||\n      phaseValue < 0.05 ||\n      phaseValue > 0.95\n    ) {\n      // Check name or close value\n      description = \"Fresh start energy (New Moon). Underdogs may surprise, \";\n      description += \"and new strategies could prove effective. \";\n    }\n\n    if (moonSign) {\n      const signStrengths: Record<string, { traits: string; sports: string }> =\n        {\n          Aries: {\n            traits: \"aggressive play, strong starts, physicality\",\n            sports: \"football, hockey, sprinting\",\n          },\n          Taurus: {\n            traits: \"endurance, consistency, strong defense\",\n            sports: \"baseball, golf, wrestling\",\n          },\n          Gemini: {\n            traits: \"quick thinking, adaptability, fast breaks\",\n            sports: \"basketball, tennis, soccer midfielders\",\n          },\n          Cancer: {\n            traits: \"team chemistry, home advantage, emotional plays\",\n            sports: \"team sports, swimming, water polo\",\n          },\n          Leo: {\n            traits: \"leadership, clutch performances, showmanship\",\n            sports: \"basketball, gymnastics, figure skating\",\n          },\n          Virgo: {\n            traits: \"precision, technical skills, strategy\",\n            sports: \"baseball, golf, figure skating\",\n          },\n          Libra: {\n            traits: \"teamwork, fair play, balanced attack\",\n            sports: \"basketball, tennis doubles, volleyball\",\n          },\n          Scorpio: {\n            traits: \"intensity, comebacks, mental toughness\",\n            sports: \"boxing, martial arts, football defense\",\n          },\n          Sagittarius: {\n            traits: \"risk-taking, long shots, adventurous play\",\n            sports: \"basketball, horse racing, archery\",\n          },\n          Capricorn: {\n            traits: \"discipline, strong defense, late-game strength\",\n            sports: \"football, weightlifting, cycling\",\n          },\n          Aquarius: {\n            traits: \"unconventional strategies, surprise plays\",\n            sports: \"basketball, soccer, extreme sports\",\n          },\n          Pisces: {\n            traits: \"creativity, intuition, fluid movement\",\n            sports: \"soccer, swimming, figure skating\",\n          },\n        };\n\n      const signData = signStrengths[moonSign] || {\n        traits: \"competitive edge\",\n        sports: \"various sports\",\n      };\n      description += `\\n\\n${moonSign} Influence:\\n`;\n      description += `• Strengths: ${signData.traits}\\n`;\n      description += `• Favors: ${signData.sports}`;\n    }\n\n    return description;\n  };\n\n  // Helper function to get color class for element\n  const getElementColor = (element: keyof ElementDistribution): string => {\n    const colors: Record<keyof ElementDistribution, string> = {\n      fire: \"bg-red-500\",\n      earth: \"bg-green-500\",\n      air: \"bg-sky-400\",\n      water: \"bg-indigo-500\",\n    };\n    return colors[element] || \"bg-slate-400\";\n  };\n\n  // Simple team color palette for game cards\n  const teamColorPalette = {\n    getTeamColors: (team?: Team) => {\n      return {\n        primary: team?.primary_color || \"#4338ca\",\n        secondary: team?.secondary_color || \"#818cf8\",\n        text: \"#ffffff\",\n      };\n    },\n  };\n\n  // Update the daily recommendation to use real data\n  const dailyRecommendation = useMemo(() => {\n    if (!astroData) {\n      return \"\";\n    }\n\n    // First, check if we have a sports prediction\n    if (sportsPredictions?.prediction) {\n      return sportsPredictions.prediction;\n    }\n\n    // Fall back to astrological data\n    const elements = astroData?.elements;\n    let dominantElement = \"\";\n    let maxScore = 0;\n\n    // Find the dominant element\n    Object.entries(elements).forEach(([element, data]) => {\n      if (data.score > maxScore) {\n        maxScore = data.score;\n        dominantElement = element;\n      }\n    });\n\n    // Generate recommendation based on dominant element\n    let recommendation = \"\";\n\n    // Add moon phase influence if available\n    if (astroData?.moon?.phase_name) {\n      recommendation += `With the ${astroData?.moon?.phase_name} Moon, `;\n    }\n\n    // Add element-based recommendation\n    recommendation += `The strong ${dominantElement} influence suggests ${getElementImpact(dominantElement)}.`;\n\n    return recommendation;\n  }, [astroData, elementsDistribution, sportsPredictions]);\n\n  // Animation variants\n  const featuredArticleVariant = {\n    hidden: { opacity: 0, y: 20 },\n    visible: {\n      opacity: 1,\n      y: 0,\n      transition: { duration: 0.6, ease: \"easeOut\", delay: 0.2 },\n    },\n  };\n\n  const container = {\n    hidden: { opacity: 0 },\n    show: {\n      opacity: 1,\n      transition: {\n        staggerChildren: 0.1,\n        delayChildren: 0.2,\n      },\n    },\n  };\n\n  const item = {\n    hidden: { opacity: 0, y: 20 },\n    show: {\n      opacity: 1,\n      y: 0,\n      transition: {\n        type: \"spring\",\n        stiffness: 100,\n        damping: 15,\n      },\n    },\n    hover: {\n      y: -5,\n      transition: { duration: 0.2 },\n    },\n  };\n\n  const fadeIn = {\n    hidden: { opacity: 0 },\n    show: {\n      opacity: 1,\n      transition: {\n        duration: 0.6,\n        ease: \"easeOut\",\n      },\n    },\n  };\n\n  const slideUp = {\n    hidden: { opacity: 0, y: 30 },\n    show: {\n      opacity: 1,\n      y: 0,\n      transition: {\n        duration: 0.6,\n        ease: [0.16, 1, 0.3, 1],\n      },\n    },\n  };\n\n  const isLoading = astroLoading || teamsLoading || gamesLoading;\n\n  useEffect(() => {\n    if (astroData) {\n      console.log(\"Dashboard planets:\", astroData?.planets);\n      console.log(\"Dashboard aspects:\", astroData?.aspects?.slice(0, 5));\n      \n      // Log individual planets\n      topPlanets.forEach(planetName => {\n        const planetKey = planetName.toLowerCase();\n        console.log(`Dashboard planet ${planetName}:`, astroData?.planets?.[planetKey]);\n      });\n      \n      // Log individual aspects\n      astroData?.aspects?.slice(0, 5).forEach((aspect, index) => {\n        console.log(`Dashboard aspect ${index}:`, aspect);\n      });\n    }\n  }, [astroData]);\n\n  const topPlanets = [\"Sun\", \"Moon\", \"Mercury\", \"Venus\", \"Mars\", \"Jupiter\", \"Saturn\"];\n\n  // Helper functions for planetary influences\n  const SIGN_TO_ELEMENT: Record<string, string> = {\n    'aries': 'fire',\n    'taurus': 'earth',\n    'gemini': 'air',\n    'cancer': 'water',\n    'leo': 'fire',\n    'virgo': 'earth',\n    'libra': 'air',\n    'scorpio': 'water',\n    'sagittarius': 'fire',\n    'capricorn': 'earth',\n    'aquarius': 'air',\n    'pisces': 'water',\n  };\n\n  const getPlanetIcon = (planet: string) => {\n    const planetLower = planet.toLowerCase();\n    switch (planetLower) {\n      case 'sun': return <Sun className=\"h-4 w-4 text-yellow-500\" />;\n      case 'moon': return <Moon className=\"h-4 w-4 text-indigo-500\" />;\n      case 'mercury': return <CircleDot className=\"h-4 w-4 text-gray-500\" />;\n      case 'venus': return <Heart className=\"h-4 w-4 text-pink-500\" />;\n      case 'mars': return <Flame className=\"h-4 w-4 text-red-500\" />;\n      case 'jupiter': return <Zap className=\"h-4 w-4 text-purple-500\" />;\n      case 'saturn': return <CircleOff className=\"h-4 w-4 text-amber-700\" />;\n      case 'uranus': return <Sparkles className=\"h-4 w-4 text-blue-400\" />;\n      case 'neptune': return <Waves className=\"h-4 w-4 text-blue-600\" />;\n      case 'pluto': return <CircleX className=\"h-4 w-4 text-gray-700\" />;\n      default: return <CircleDot className=\"h-4 w-4 text-gray-400\" />;\n    }\n  };\n\n  if (isLoading) {\n    return <LoadingScreen fullScreen />;\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100 overflow-x-hidden\">\n      <div className=\"w-full max-w-[100vw] mx-auto px-4 sm:px-6 lg:px-8\">\n      {featuredArticle && (\n        <Link\n          to={`/news/${featuredArticle.slug}`}\n          className=\"block group relative overflow-hidden\"\n          onClick={() => window.scrollTo(0, 0)}\n        >\n          {/* Animated cosmic background */}\n          <div className=\"absolute inset-0 z-0 overflow-hidden\">\n            <div className=\"absolute inset-0 bg-gradient-to-br from-indigo-950 via-purple-950 to-indigo-950\">\n              {/* Animated stars */}\n              {[...Array(20)].map((_, i) => (\n                <motion.div\n                  key={`star-${i}`}\n                  className=\"absolute rounded-full bg-white/30\"\n                  style={{\n                    width: `${Math.random() * 3 + 1}px`,\n                    height: `${Math.random() * 3 + 1}px`,\n                    left: `${Math.random() * 100}%`,\n                    top: `${Math.random() * 100}%`,\n                    opacity: Math.random() * 0.5 + 0.1,\n                  }}\n                  animate={{\n                    opacity: [0.3, 0.8, 0.3],\n                  }}\n                  transition={{\n                    duration: Math.random() * 3 + 2,\n                    repeat: Infinity,\n                    ease: \"easeInOut\",\n                    delay: Math.random() * 2,\n                  }}\n                />\n              ))}\n\n              {/* Animated gradient orbs */}\n              <motion.div\n                className=\"absolute rounded-full w-64 h-64 -top-32 -right-32 bg-gradient-to-br from-purple-500/20 to-transparent blur-3xl\"\n                animate={{\n                  scale: [1, 1.1, 1],\n                }}\n                transition={{\n                  duration: 8,\n                  repeat: Infinity,\n                  ease: \"easeInOut\",\n                }}\n              />\n              <motion.div\n                className=\"absolute rounded-full w-96 h-96 -bottom-48 -left-48 bg-gradient-to-tr from-indigo-500/20 to-transparent blur-3xl\"\n                animate={{\n                  scale: [1, 1.2, 1],\n                }}\n                transition={{\n                  duration: 10,\n                  repeat: Infinity,\n                  ease: \"easeInOut\",\n                  delay: 2,\n                }}\n              />\n            </div>\n\n            {/* Main content image with overlay */}\n            <div className=\"absolute inset-0 z-10\">\n              {featuredArticle.featureImageUrl ? (\n                <img\n                  src={featuredArticle.featureImageUrl}\n                  alt={featuredArticle.title}\n                  className=\"w-full h-full object-cover transition-all duration-700 group-hover:scale-105\"\n                  onError={(e) => {\n                    const target = e.target as HTMLImageElement;\n                    target.src =\n                      \"https://images.unsplash.com/photo-1540747913346-19e32dc3e97e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80\";\n                  }}\n                />\n              ) : (\n                <div className=\"w-full h-full bg-gradient-to-br from-indigo-900 to-purple-900 flex items-center justify-center\">\n                  <Newspaper className=\"w-32 h-32 text-white/20\" />\n                </div>\n              )}\n              {/* Gradient Overlay */}\n              <div className=\"absolute inset-0 bg-gradient-to-t from-black/90 via-black/40 to-transparent\" />\n            </div>\n          </div>\n\n          {/* Content */}\n          <motion.article\n            variants={featuredArticleVariant}\n            initial=\"hidden\"\n            animate=\"visible\"\n            className=\"relative z-20 flex flex-col justify-end h-[300px] md:h-[350px] lg:h-[400px] p-8 md:p-12\"\n          >\n            <div className=\"max-w-4xl mx-auto w-full\">\n              {/* Decorative elements */}\n              <motion.div\n                className=\"absolute top-6 right-6 w-16 h-1 bg-gradient-to-r from-purple-400 to-indigo-400 rounded-full\"\n                initial={{ opacity: 0, x: 20 }}\n                animate={{ opacity: 1, x: 0 }}\n                transition={{ delay: 0.3, duration: 0.5 }}\n              />\n\n              <motion.div\n                initial={{ opacity: 0, y: 20 }}\n                animate={{ opacity: 1, y: 0 }}\n                transition={{ delay: 0.2 }}\n              >\n                <Badge\n                  variant=\"secondary\"\n                  className=\"mb-4 bg-gradient-to-r from-purple-600 to-indigo-600 text-white border-0 group-hover:from-purple-500 group-hover:to-indigo-500 transition-all duration-300 shadow-lg shadow-purple-500/20\"\n                >\n                  <Sparkles className=\"w-3.5 h-3.5 mr-1.5\" />\n                  Featured Insight\n                </Badge>\n\n                <motion.h2\n                  className=\"text-2xl md:text-3xl lg:text-4xl font-bold leading-tight text-white drop-shadow-lg bg-clip-text text-transparent bg-gradient-to-r from-white to-gray-200\"\n                  initial={{ opacity: 0, y: 10 }}\n                  animate={{ opacity: 1, y: 0 }}\n                  transition={{ delay: 0.3 }}\n                >\n                  {featuredArticle.title}\n                </motion.h2>\n\n                {featuredArticle.subheading && (\n                  <motion.p\n                    className=\"text-base md:text-lg text-white/90 max-w-3xl leading-relaxed line-clamp-2 font-light\"\n                    initial={{ opacity: 0, y: 10 }}\n                    animate={{ opacity: 1, y: 0 }}\n                    transition={{ delay: 0.4 }}\n                  >\n                    {featuredArticle.subheading}\n                  </motion.p>\n                )}\n\n                <motion.div\n                  className=\"flex items-center mt-6 space-x-3\"\n                  initial={{ opacity: 0, y: 10 }}\n                  animate={{ opacity: 1, y: 0 }}\n                  transition={{ delay: 0.5 }}\n                >\n                  <span className=\"inline-flex items-center px-5 py-2.5 rounded-full bg-gradient-to-r from-purple-600 to-indigo-600 text-white text-sm font-medium border-0 group-hover:from-purple-500 group-hover:to-indigo-500 transition-all duration-300 shadow-lg shadow-purple-500/20 hover:shadow-xl hover:shadow-purple-500/30\">\n                    Read Full Story\n                    <ArrowRight className=\"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform duration-300\" />\n                  </span>\n\n                  {featuredArticle.publishedAt && (\n                    <span className=\"text-sm text-white/70\">\n                      {new Date(featuredArticle.publishedAt).toLocaleDateString(\n                        \"en-US\",\n                        {\n                          year: \"numeric\",\n                          month: \"long\",\n                          day: \"numeric\",\n                        },\n                      )}\n                    </span>\n                  )}\n                </motion.div>\n              </motion.div>\n            </div>\n          </motion.article>\n        </Link>\n      )}\n\n      {/* Top Players Carousel moved to be directly after Daily Astro Tip */}\n\n      {/* Main Dashboard Content Starts Here */}\n      <motion.div\n        variants={container}\n        initial=\"hidden\"\n        animate=\"show\"\n        exit=\"hidden\"\n        className=\"space-y-8\"\n      >\n        <div className=\"space-y-8\">\n          {/* Main Content */}\n          {astroError ? (\n            <div className=\"text-center py-8\">\n              <AlertCircle className=\"h-12 w-12 text-red-400 mx-auto mb-4\" />\n              <p className=\"text-red-500 font-medium\">\n                Failed to load astrological data\n              </p>\n              <p className=\"text-gray-600 mt-2\">Please try again later</p>\n            </div>\n          ) : (\n            // No global error, proceed to render the main layout with individual section loading\n            <div className=\"grid grid-cols-1\">\n              {/* Upcoming Games Section (Full width) */}\n              <motion.div\n                variants={container}\n                initial=\"hidden\"\n                animate=\"show\"\n                className=\"space-y-4 bg-white\"\n              >\n                {gamesLoading && (!games || games.length === 0) ? (\n                  // Skeletons for Games section\n                  <div className=\"px-6 pt-6 bg-white\">\n                    <Skeleton className=\"h-8 w-48 mb-6\" />\n                    <div>\n                      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                        {Array.from({ length: 6 }).map((_, i) => (\n                          <Skeleton\n                            key={`game-skel-${i}`}\n                            className=\"h-64 rounded-xl\"\n                          />\n                        ))}\n                      </div>\n                    </div>\n                  </div>\n                ) : games && games.length > 0 ? (\n                  // Actual Games content\n                  <div className=\"px-6 pt-6 bg-white\">\n                    <h2 className=\"text-2xl font-bold text-gray-900 mb-6\">\n                      Upcoming Games\n                    </h2>\n                    <div>\n                      {groupedGames.map((group) => (\n                        <div key={group.date.toString()} className=\"mb-6\">\n                          <h3 className=\"text-lg font-semibold text-gray-800 mb-3 sticky top-0 bg-white py-2 z-10\">\n                            {format(group.date, \"EEEE, MMMM d\")}\n                          </h3>\n                          <div className=\"flex overflow-x-auto pb-4 gap-4 hide-scrollbar px-4\">\n                            {group.games.map((game) => {\n                              // Get team data with proper fallbacks\n                              const homeTeam =\n                                typeof game.home_team === \"string\"\n                                  ? { id: game.home_team_id, name: \"Home Team\" }\n                                  : game.home_team || {\n                                      id: game.home_team_id,\n                                      name: \"Home Team\",\n                                    };\n\n                              const awayTeam =\n                                typeof game.away_team === \"string\"\n                                  ? { id: game.away_team_id, name: \"Away Team\" }\n                                  : game.away_team || {\n                                      id: game.away_team_id,\n                                      name: \"Away Team\",\n                                    };\n\n                              const gamePrediction = getGamePrediction(\n                                game,\n                                homeTeam,\n                                awayTeam,\n                              );\n\n                              // Use memoized game prediction data directly\n                              const gameCardAstroData = sportsPredictions;\n\n                              // Merge game data with its prediction and team data for the GameCard\n                              const gameWithTeams = {\n                                ...game,\n                                prediction: gamePrediction ?? undefined, // Ensure undefined if null for type compatibility\n                              };\n\n                              // Ensure we have proper team objects with required properties\n                              const homeTeamData = {\n                                ...(typeof homeTeam === \"string\"\n                                  ? {}\n                                  : homeTeam || {}),\n                                id: game.home_team_id,\n                                name:\n                                  typeof homeTeam === \"string\"\n                                    ? homeTeam\n                                    : homeTeam?.name || \"Home Team\",\n                                // Try logo_url first, then logo, then empty string\n                                logo_url:\n                                  typeof homeTeam === \"string\"\n                                    ? \"\"\n                                    : homeTeam?.logo_url ||\n                                      homeTeam?.logo ||\n                                      \"\",\n                                // Also include the logo property for backward compatibility\n                                logo:\n                                  typeof homeTeam === \"string\"\n                                    ? \"\"\n                                    : homeTeam?.logo ||\n                                      homeTeam?.logo_url ||\n                                      \"\",\n                                record:\n                                  typeof homeTeam === \"string\"\n                                    ? \"0-0\"\n                                    : homeTeam?.record || \"0-0\",\n                              };\n\n                              const awayTeamData = {\n                                ...(typeof awayTeam === \"string\"\n                                  ? {}\n                                  : awayTeam || {}),\n                                id: game.away_team_id,\n                                name:\n                                  typeof awayTeam === \"string\"\n                                    ? awayTeam\n                                    : awayTeam?.name || \"Away Team\",\n                                // Try logo_url first, then logo, then empty string\n                                logo_url:\n                                  typeof awayTeam === \"string\"\n                                    ? \"\"\n                                    : awayTeam?.logo_url ||\n                                      awayTeam?.logo ||\n                                      \"\",\n                                // Also include the logo property for backward compatibility\n                                logo:\n                                  typeof awayTeam === \"string\"\n                                    ? \"\"\n                                    : awayTeam?.logo ||\n                                      awayTeam?.logo_url ||\n                                      \"\",\n                                record:\n                                  typeof awayTeam === \"string\"\n                                    ? \"0-0\"\n                                    : awayTeam?.record || \"0-0\",\n                              };\n\n                              return (\n                                <GameCard\n                                  key={game.id}\n                                  game={game}\n                                  homeTeam={homeTeamData}\n                                  awayTeam={awayTeamData}\n                                />\n                              );\n                            })}\n                          </div>\n                        </div>\n                      ))}\n                      {games.length === 0 && !gamesLoading ? (\n                        <p className=\"text-center text-gray-600 py-8\">\n                          No upcoming games scheduled for this league.\n                        </p>\n                      ) : (\n                        <div className=\"mt-8 mb-2 flex justify-center\">\n                          <Button\n                            variant=\"outline\"\n                            className=\"group relative inline-flex items-center justify-center px-6 py-3 overflow-hidden font-medium text-indigo-600 transition duration-300 ease-out border-2 border-indigo-500 rounded-full shadow-md group\"\n                            onClick={handleSeeMoreGames}\n                          >\n                            <span className=\"absolute inset-0 flex items-center justify-center w-full h-full text-white duration-300 -translate-x-full bg-indigo-500 group-hover:translate-x-0 ease\">\n                              <svg\n                                className=\"w-5 h-5\"\n                                fill=\"none\"\n                                stroke=\"currentColor\"\n                                viewBox=\"0 0 24 24\"\n                                xmlns=\"http://www.w3.org/2000/svg\"\n                              >\n                                <path\n                                  strokeLinecap=\"round\"\n                                  strokeLinejoin=\"round\"\n                                  strokeWidth=\"2\"\n                                  d=\"M14 5l7 7m0 0l-7 7m7-7H3\"\n                                ></path>\n                              </svg>\n                            </span>\n                            <span className=\"absolute flex items-center justify-center w-full h-full text-indigo-500 transition-all duration-300 transform group-hover:translate-x-full ease\">\n                              View All Games\n                            </span>\n                            <span className=\"relative invisible\">\n                              View All Games\n                            </span>\n                          </Button>\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                ) : !gamesLoading && (!games || games.length === 0) ? (\n                  // No games found message\n                  <div className=\"px-6 pt-6\">\n                    <h2 className=\"text-2xl font-bold text-gray-900 mb-6\">Upcoming Games</h2>\n                    <p className=\"text-gray-500\">No upcoming games found.</p>\n                  </div>\n                ) : null}\n              </motion.div>\n\n              {/* Astrological Insights Section */}\n              <motion.div\n                variants={slideUp}\n                initial=\"hidden\"\n                animate=\"show\"\n                className=\"bg-white p-6 rounded-t-none\"\n              >\n                {/* Astrological Insights Full-Width Banner */}\n                <div className=\"w-screen relative left-1/2 right-1/2 -mx-[50vw] my-16 py-20 bg-gradient-to-b from-[#0c0a1d] via-[#1a1339] to-[#1d1a3d] text-white overflow-hidden\">\n                  {/* Deep space background with multiple layers */}\n                  <div className=\"absolute inset-0 bg-[url('/stars.svg')] bg-repeat opacity-60\"></div>\n                  <div className=\"absolute inset-0 bg-[url('/galaxy.svg')] bg-center bg-no-repeat opacity-40 scale-150\"></div>\n                  \n                  {/* Animated stars */}\n                  <div className=\"absolute inset-0 overflow-hidden\">\n                    {/* Large bright star */}\n                    <motion.div \n                      className=\"absolute w-1 h-1 bg-white rounded-full shadow-[0_0_10px_2px_rgba(255,255,255,0.8)]\" \n                      style={{ top: '15%', left: '10%' }}\n                      animate={{ scale: [1, 1.5, 1], opacity: [0.7, 1, 0.7] }}\n                      transition={{ duration: 3, repeat: Infinity, ease: \"easeInOut\" }}\n                    />\n                    <motion.div \n                      className=\"absolute w-2 h-2 bg-blue-200 rounded-full shadow-[0_0_15px_5px_rgba(147,197,253,0.8)]\" \n                      style={{ top: '25%', right: '15%' }}\n                      animate={{ scale: [1, 1.3, 1], opacity: [0.6, 1, 0.6] }}\n                      transition={{ duration: 4, repeat: Infinity, ease: \"easeInOut\", delay: 1 }}\n                    />\n                    <motion.div \n                      className=\"absolute w-1.5 h-1.5 bg-amber-100 rounded-full shadow-[0_0_12px_4px_rgba(254,243,199,0.8)]\" \n                      style={{ bottom: '30%', left: '25%' }}\n                      animate={{ scale: [1, 1.4, 1], opacity: [0.5, 0.9, 0.5] }}\n                      transition={{ duration: 5, repeat: Infinity, ease: \"easeInOut\", delay: 0.5 }}\n                    />\n                    <motion.div \n                      className=\"absolute w-1 h-1 bg-purple-200 rounded-full shadow-[0_0_8px_2px_rgba(233,213,255,0.8)]\" \n                      style={{ bottom: '20%', right: '30%' }}\n                      animate={{ scale: [1, 1.5, 1], opacity: [0.4, 0.8, 0.4] }}\n                      transition={{ duration: 3.5, repeat: Infinity, ease: \"easeInOut\", delay: 1.5 }}\n                    />\n                  </div>\n                  \n                  {/* Subtle nebula effect */}\n                  <div className=\"absolute inset-0 bg-gradient-to-tr from-purple-900/20 via-transparent to-blue-900/20\"></div>\n                  \n                  {/* Content with enhanced animations */}\n                  <div className=\"relative max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 text-center z-10\">\n                    <motion.div\n                      initial={{ opacity: 0, y: 50 }}\n                      whileInView={{ opacity: 1, y: 0 }}\n                      transition={{ duration: 1, ease: \"easeOut\" }}\n                      viewport={{ once: true, margin: \"-100px\" }}\n                    >\n                      <h2 className=\"text-6xl md:text-8xl font-black tracking-tighter bg-clip-text text-transparent bg-gradient-to-r from-amber-200 via-amber-400 to-amber-200 [text-shadow:0_0_20px_rgba(255,165,0,0.5)]\">\n                        Astrological Insights\n                      </h2>\n                      \n                      {/* Animated underline */}\n                      <motion.div \n                        className=\"h-1 bg-gradient-to-r from-amber-400/0 via-amber-400 to-amber-400/0 rounded-full mx-auto mt-2\"\n                        initial={{ width: 0 }}\n                        whileInView={{ width: \"70%\" }}\n                        transition={{ duration: 1.2, delay: 0.3, ease: \"easeOut\" }}\n                        viewport={{ once: true, margin: \"-100px\" }}\n                      />\n                    </motion.div>\n                    \n                    <motion.div\n                      initial={{ opacity: 0, y: 30 }}\n                      whileInView={{ opacity: 1, y: 0 }}\n                      transition={{ duration: 0.8, delay: 0.5, ease: \"easeOut\" }}\n                      viewport={{ once: true, margin: \"-100px\" }}\n                    >\n                      <p className=\"mt-6 text-2xl md:text-3xl font-bold text-indigo-200 tracking-wide\">\n                        {format(selectedDate, \"MMMM d, yyyy\")}\n                      </p>\n                    </motion.div>\n                    \n                    {/* Constellation line connecting to content below */}\n                    <div className=\"absolute left-1/2 bottom-0 transform -translate-x-1/2 translate-y-1/2\">\n                      <motion.div \n                        className=\"w-px h-16 bg-gradient-to-b from-amber-400/80 to-transparent\"\n                        initial={{ height: 0, opacity: 0 }}\n                        whileInView={{ height: 64, opacity: 1 }}\n                        transition={{ duration: 0.8, delay: 0.8, ease: \"easeOut\" }}\n                        viewport={{ once: true, margin: \"-100px\" }}\n                      />\n                      <div className=\"w-2 h-2 rounded-full bg-amber-400 absolute -bottom-1 -left-1 shadow-[0_0_10px_2px_rgba(251,191,36,0.8)]\"></div>\n                    </div>\n                  </div>\n                </div>\n                {/* Elemental Balance Full-Width Card */}\n                <motion.div\n                  variants={fadeIn}\n                  initial=\"hidden\"\n                  animate=\"show\"\n                  className=\"w-full mb-8\"\n                >\n                  <ElementalBalance \n                    planets={astroData?.planets} \n                  />\n                  \n                  {/* Daily Astro Tip - Compact */}\n                  <div className=\"w-screen relative left-1/2 right-1/2 -mx-[50vw] my-6 py-6 bg-gradient-to-r from-indigo-900 via-purple-900 to-blue-900\">\n                    <div className=\"absolute inset-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-blue-600/20 via-transparent to-transparent\"></div>\n                    <div className=\"w-full max-w-[100vw] px-4 sm:px-6 lg:px-8 py-4 mx-auto\">\n                      <div className=\"max-w-4xl mx-auto text-center\">\n                        <div className=\"flex flex-col items-center mb-2\">\n                          <div className=\"bg-gradient-to-br from-amber-400 to-amber-600 p-1.5 rounded-lg shadow-md w-9 h-9 flex items-center justify-center mb-1.5\">\n                            <Lightbulb className=\"h-4 w-4 text-white\" />\n                          </div>\n                          <div className=\"text-center\">\n                            <h3 className=\"text-2xl md:text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-amber-300 to-amber-100\">\n                              Daily Astro Tip\n                            </h3>\n                            <div className=\"h-0.5 w-12 bg-gradient-to-r from-amber-400 to-amber-600 rounded-full mt-1 mx-auto\"></div>\n                          </div>\n                        </div>\n                        <p className=\"text-slate-100 text-lg leading-relaxed font-light max-w-3xl mx-auto\">\n                          {dailyRecommendation ||\n                            \"Versatile teams with good passing and communication will perform well. Rest and recovery strategies will be particularly important. Air's strong influence benefits teams with superior passing, communication, and strategic adaptability.\"}\n                        </p>\n                      </div>\n                    </div>\n                  </div>\n                  \n                  {/* Top Players Carousel */}\n                  <div className=\"px-4 pt-6\">\n                    <h3 className=\"text-xl font-bold text-slate-800 flex items-center\">\n                      <Trophy className=\"h-5 w-5 mr-3 text-amber-500\" />\n                      This Weeks' Astro Allstars\n                    </h3>\n                  </div>\n                  <TopPlayersCarousel \n                    players={topPlayers}\n                    loading={topPlayersLoading}\n                    error={topPlayersError}\n                    />\n                </motion.div>\n                {/* Other astrology cards below */}\n                <motion.div\n                  variants={container}\n                  initial=\"hidden\"\n                  animate=\"show\"\n                  className=\"space-y-6\"\n                >\n                  {astroLoading && !astroData ? (\n                    // Skeletons for Astro section\n                    <>\n                      <Skeleton className=\"h-48 rounded-xl\" />\n                      <Skeleton className=\"h-64 rounded-xl\" />\n                      <Skeleton className=\"h-56 rounded-xl md:col-span-2\" />\n                    </>\n                  ) : astroData ? (\n                    // Actual Astro content\n                    <>\n                      <motion.div \n                        variants={item}\n                      >\n                        <SolarInfluenceInsights \n                          sun={astroData?.planets?.sun} \n                          getSunSignImpact={getSunSignImpact}\n                          getSunElement={getSunElement}\n                          getElementImpact={getElementImpact}\n                          getDegreeImpact={getDegreeImpact}\n                          getSunSportsInfluences={() => getSunSportsInfluences(astroData)}\n                          sidereal={astroData?.sidereal}\n                          formattedDegree={formatDegreesMinutes(\n                            astroData?.planets?.sun?.degree || 0,\n                            astroData?.planets?.sun?.minute || 0\n                          )}\n                        />\n                      </motion.div>\n\n                      <motion.div\n                        variants={item}\n                        className=\"bg-white shadow-sm rounded-lg w-full\"\n                      >\n                        <CardHeader className=\"pb-2\">\n                          <div className=\"flex items-center justify-between\">\n                            <div className=\"flex items-center\">\n                              <Moon className=\"h-5 w-5 text-indigo-500\" />\n                            </div>\n                            <CardDescription className=\"text-slate-600\">\n                              {astroData?.voidMoon\n                                ? astroData.voidMoon.isVoid\n                                  ? \"Void of Course\"\n                                  : \"Not Void of Course\"\n                                : \"\"}\n                            </CardDescription>\n                          </div>\n                        </CardHeader>\n                        {/* Moon Phase Section with Visualization - Removed CardContent for full width */}\n                        <div className=\"w-full bg-gradient-to-r from-indigo-50 to-purple-50 p-6 rounded-xl shadow-sm\">\n                            <div className=\"flex flex-col items-center lg:flex-row lg:items-start\">\n                              <div className=\"relative w-48 h-48 md:w-56 md:h-56 lg:w-64 lg:h-64 xl:w-72 xl:h-72 bg-gradient-to-br from-slate-800 via-slate-900 to-indigo-900 rounded-full overflow-hidden mb-6 lg:mb-0 lg:mr-8 flex-shrink-0 border-[10px] border-indigo-600/90 shadow-xl transform hover:scale-[1.02] transition-transform duration-500\">\n                                {/* Moon phase visualization */}\n                                <div\n                                  className=\"absolute inset-0 bg-gradient-to-br from-slate-100 via-slate-50 to-blue-50 rounded-full transition-all duration-1000 ease-in-out\"\n                                  style={{\n                                    clipPath: getMoonClipPath(\n                                      astroData?.moonPhase?.illumination || 0, \n                                      astroData?.moonPhase?.phaseName\n                                    ),\n                                    opacity: 0.95,\n                                    boxShadow:\n                                      \"inset 0 0 40px rgba(255, 255, 255, 0.8)\",\n                                  }}\n                                >\n                                  {/* Add some subtle craters */}\n                                  <div className=\"absolute w-4 h-4 bg-slate-200/30 rounded-full top-1/3 left-1/4\"></div>\n                                  <div className=\"absolute w-5 h-5 bg-slate-300/40 rounded-full top-2/3 left-1/2\"></div>\n                                  <div className=\"absolute w-3 h-3 bg-slate-200/50 rounded-full top-1/4 left-3/4\"></div>\n                                  <div className=\"absolute w-6 h-6 bg-slate-300/30 rounded-full top-3/4 left-1/3\"></div>\n                                  <div className=\"absolute w-3.5 h-3.5 bg-slate-200/40 rounded-full top-1/5 left-1/2\"></div>\n                                </div>\n                                {/* Glow effect */}\n                                <div\n                                  className=\"absolute inset-0 rounded-full\"\n                                  style={{\n                                    boxShadow:\n                                      \"0 0 60px 15px rgba(99, 102, 241, 0.4)\",\n                                    pointerEvents: \"none\",\n                                    background:\n                                      \"radial-gradient(circle at 30% 30%, rgba(199, 210, 254, 0.3), transparent 60%)\",\n                                  }}\n                                />\n                              </div>\n                              <div className=\"w-full lg:flex-1\">\n                                <div className=\"flex flex-col lg:flex-row lg:items-center lg:justify-between mb-4\">\n                                  <div className=\"text-center lg:text-left\">\n                                    <h4 className=\"text-3xl md:text-4xl font-bold text-indigo-800 mb-2\">\n                                      Moon Phase\n                                    </h4>\n                                    <p className=\"text-xl md:text-2xl font-semibold text-indigo-700 mb-2 bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent\">\n                                      {astroData?.moonPhase?.name ||\n                                        \"Current phase unknown\"}\n                                    </p>\n                                  </div>\n                                  <div className=\"inline-block bg-gradient-to-r from-indigo-100 to-purple-100 text-indigo-800 text-sm font-medium px-4 py-1.5 rounded-full mb-3 lg:mb-0\">\n                                    {astroData?.moonPhase?.illumination !== null &&\n                                    astroData?.moonPhase?.illumination !== undefined\n                                      ? `${astroData?.moonPhase?.emoji || '🌕'} ${Math.round((astroData?.moonPhase?.illumination || 0) * 100)}% Illuminated`\n                                      : \"🌑 Illumination unknown\"}\n                                  </div>\n                                </div>\n\n                                <div className=\"bg-white p-5 rounded-xl mb-6\">\n                                  <p className=\"text-base text-slate-700 leading-relaxed\">\n                                    {astroData?.moonPhase?.name &&\n                                      getMoonPhaseImpact(\n                                        astroData?.moonPhase?.name || 'Unknown',\n                                      )}\n                                  </p>\n                                </div>\n\n                                <div className=\"flex flex-row flex-wrap items-stretch justify-between gap-3 mb-6\">\n                                  <div className=\"bg-white p-3 rounded-lg flex flex-col flex-1 min-w-[120px]\">\n                                    <div className=\"text-xs uppercase text-slate-500 font-medium mb-1\">Moon Sign</div>\n                                    <div className=\"font-semibold text-indigo-700 text-lg\">\n                                      {astroData?.planets?.moon?.sign || \"—\"}\n                                    </div>\n                                  </div>\n                                  <div className=\"bg-white p-3 rounded-lg flex flex-col flex-1 min-w-[120px]\">\n                                    <div className=\"text-xs uppercase text-slate-500 font-medium mb-1\">\n                                      Next Full Moon\n                                    </div>\n                                    <div className=\"font-semibold text-indigo-700 text-lg\">\n                                      {astroData?.moonPhase?.nextFullMoon\n                                        ? new Date(\n                                            astroData?.moonPhase?.nextFullMoon\n                                          ).toLocaleDateString(\"en-US\", {\n                                            month: \"short\",\n                                            day: \"numeric\",\n                                            year: \"2-digit\",\n                                          })\n                                        : \"—\"}\n                                    </div>\n                                  </div>\n                                  <div className=\"bg-white p-3 rounded-lg flex flex-col flex-1 min-w-[120px]\">\n                                    <div className=\"text-xs uppercase text-slate-500 font-medium mb-1\">\n                                      Zodiac Degree\n                                    </div>\n                                    <div className=\"font-semibold text-indigo-700 text-lg\">\n                                      {astroData?.planets?.moon?.degree\n                                        ? `${Math.floor(astroData?.planets?.moon?.degree || 0)}°`\n                                        : \"—\"}\n                                    </div>\n                                  </div>\n                                </div>\n\n                                {/* Void of Course Status */}\n                                <div className=\"w-full bg-gradient-to-br from-amber-50 to-yellow-50 rounded-xl overflow-hidden\">\n                                  <div className=\"p-3\">\n                                    <div className=\"flex items-center justify-between\">\n                                      <h4 className=\"font-medium text-slate-800 flex items-center text-sm\">\n                                        <div\n                                          className={`w-2.5 h-2.5 rounded-full mr-2 flex-shrink-0 ${astroData?.voidMoon?.isVoid ? \"bg-red-500\" : \"bg-green-500\"}`}\n                                        ></div>\n                                        Void of Course Status\n                                      </h4>\n                                      <span\n                                        className={`px-2 py-0.5 rounded-full text-xs font-medium ${astroData?.voidMoon?.isVoid ? \"bg-red-100 text-red-800\" : \"bg-red-50 text-red-700\"}`}\n                                      >\n                                        {astroData?.voidMoon?.isVoid\n                                          ? \"Active\"\n                                          : \"Inactive\"}\n                                      </span>\n                                    </div>\n                                  </div>\n\n                                  <div className=\"p-3\">\n                                  </div>\n                                </div>\n                              </div>\n                            </div>\n                          </div>\n                      </motion.div>\n\n                      {astroData && astroData.aspects && astroData.planets && (\n                        <motion.div \n                          variants={item}\n                          className=\"md:col-span-2\"\n                        >\n                          <KeyPlanetaryInfluences \n                            aspects={astroData.aspects} \n                            planets={astroData.planets} \n                          />\n                        </motion.div>\n                      )}\n\n                      {/* Daily Astro Tip moved to Elemental Balance section */}\n                    </>\n                  ) : !astroLoading && !astroData ? (\n                    // No Astro data message\n                    <Card className=\"bg-white backdrop-blur-sm shadow-none\">\n                      <CardHeader>\n                        <CardTitle>Astrological Insights</CardTitle>\n                      </CardHeader>\n                      <CardContent>\n                        <p className=\"text-center text-slate-500 py-8\">\n                          Astrological insights are currently unavailable.\n                        </p>\n                      </CardContent>\n                    </Card>\n                  ) : null}\n                </motion.div>\n              </motion.div>\n            </div>\n          )}\n        </div>\n      </motion.div>\n      </div>\n    </div>\n  );\n};\n\nexport default Dashboard;\n"],"names":["Activity","createLucideIcon","ArrowRight","CircleDashed","CircleDollarSign","Cloud","Droplets","Flame","Globe","Heart","Lightbulb","Moon","Mountain","Newspaper","Skull","Sparkle","Sparkles","Sun","Wind","util","_","assertIs","_arg","assertNever","_x","items","obj","item","validKeys","k","filtered","e","object","keys","key","arr","checker","val","joinValues","array","separator","value","objectUtil","first","second","ZodParsedType","getParsedType","data","ZodIssueCode","ZodError","issues","sub","subs","actualProto","_mapper","mapper","issue","fieldErrors","processError","error","curr","i","el","formErrors","errorMap","_ctx","message","overrideErrorMap","defaultErrorMap","getErrorMap","makeIssue","params","path","errorMaps","issueData","fullPath","fullIssue","errorMessage","maps","m","map","addIssueToContext","ctx","overrideMap","x","ParseStatus","status","results","arrayValue","s","INVALID","pairs","syncPairs","pair","finalObject","DIRTY","OK","isAborted","isDirty","isValid","isAsync","errorUtil","ParseInputLazyPath","parent","handleResult","result","processCreateParams","invalid_type_error","required_error","description","iss","ZodType","input","err","_b","_a","maybeAsyncResult","check","getIssueProperties","setError","refinementData","refinement","ZodEffects","ZodFirstPartyTypeKind","def","ZodOptional","ZodNullable","ZodArray","ZodPromise","option","ZodUnion","incoming","ZodIntersection","transform","defaultValueFunc","ZodDefault","ZodBranded","catchValueFunc","ZodCatch","This","target","ZodPipeline","ZodReadonly","cuidRegex","cuid2Regex","ulidRegex","uuidRegex","nanoidRegex","jwtRegex","durationRegex","emailRegex","_emojiRegex","emojiRegex","ipv4Regex","ipv4CidrRegex","ipv6Regex","ipv6CidrRegex","base64Regex","base64urlRegex","dateRegexSource","dateRegex","timeRegexSource","args","secondsRegexSource","secondsQuantifier","timeRegex","datetimeRegex","regex","opts","isValidIP","ip","version","isValidJWT","jwt","alg","header","base64","decoded","isValidCidr","ZodString","tooBig","tooSmall","validation","options","minLength","maxLength","len","ch","min","max","floatSafeRemainder","step","valDecCount","stepDecCount","decCount","valInt","stepInt","ZodNumber","kind","inclusive","ZodBigInt","ZodBoolean","ZodDate","minDate","maxDate","ZodSymbol","ZodUndefined","ZodNull","ZodAny","ZodUnknown","ZodNever","ZodVoid","schema","deepPartialify","ZodObject","newShape","fieldSchema","ZodTuple","shape","shapeKeys","extraKeys","keyValidator","unknownKeys","catchall","defaultError","augmentation","merging","index","mask","newField","createZodEnum","handleResults","unionErrors","childCtx","dirty","types","mergeValues","a","b","aType","bType","bKeys","sharedKeys","newObj","sharedValue","newArray","itemA","itemB","handleParsed","parsedLeft","parsedRight","merged","left","right","itemIndex","rest","schemas","ZodRecord","keyType","valueType","third","ZodMap","finalMap","ZodSet","finalizeSet","elements","parsedSet","element","minSize","maxSize","size","ZodLazy","getter","ZodLiteral","values","ZodEnum","expectedValues","enumValues","newDef","opt","ZodNativeEnum","nativeEnumValues","promisified","effect","checkCtx","arg","processed","executeRefinement","acc","inner","base","preprocess","type","newCtx","ZodNaN","inResult","freeze","stringType","numberType","booleanType","arrayType","objectType","recordType","ASPECT_INTERPRETATIONS","supabase","createClient","LUNAR_CYCLE_DAYS","getMoonPhase","date","knownNewMoon","getMoonPhaseInfo","phase","currentPhase","illumination","ageInDays","daysToNextFullMoon","nextFullMoon","name","emoji","phaseType","getProcessedMoonPhase","_apiMoonPhase","_apiMoon_Phase","moonInfo","useAstroData","dateParam","dateStr","swrKey","fetcher","baseApiUrl","urlToFetch","session","sessionError","headers","anonKey","response","errorText","refreshError","anonHeaders","anonResponse","retryHeaders","retryResponse","retryError","responseData","swrOptions","attemptIndex","apiData","isLoading","refetch","useQuery","isRefreshing","setIsRefreshing","useState","refreshData","useMemo","parseResult","z.object","z.string","z.boolean","z.number","z.record","z.array","query_time","sidereal","ayanamsa","observer","planets","moon_phase","moonPhase","void_of_course_moon","aspects","modalities","astro_weather","interpretations","cusps","planetData","planetKey","displayName","mappedAspects","rawAspect","p1Name","p2Name","planet1","planet2","aspectInterpretation","_d","_c","_e","_f","_g","_h","aspectType","aspect","planetInterpretations","anyInterpretations","planetInterp","calculateSportsPredictions","astroData","moonIllumination","sunSign","mercuryRetrograde","from","to","p","defaultElements","fireScore","earthScore","waterScore","airScore","totalElements","elementScores","dominantElement","prediction","getSunSignPrediction","getMoonPhasePrediction","getElementPrediction","sign","scores","TopPlayersCarousel","players","loading","jsxs","jsx","Skeleton","sum","player","Fragment","PlayerCardNew","SUPABASE_URL","SUPABASE_KEY","useTopPlayers","limit","setPlayers","setLoading","useEffect","playersData","processedPlayers","rawPlayer","playerId","firstName","lastName","fullName","getPlanetColor","planetName","getPlanetGradient","color","CosmicWaveProgress","startIcon","endIcon","startPlanet","endPlanet","startColorProp","endColorProp","height","className","label","startColor","endColor","windowSize","setWindowSize","handleResize","normalizedValue","indicatorPlanet","indicatorColor","indicatorSize","indicatorStyle","canvasRef","useRef","animationRef","time","setTime","canvas","dpr","rect","animate","gradient","amplitude","frequency","phaseShift","endX","y","glowGradient","prevTime","handleResizeCleanup","React","getSignElement","getElementColor","getPlanetIcon","baseClass","iconProps","KeyPlanetaryInfluences","currentPage","setCurrentPage","showAllPlanets","setShowAllPlanets","planetEntries","planetsPerPage","totalPages","visiblePlanets","startIndex","currentPlanets","validAspects","CardHeader","CardTitle","CardDescription","CardContent","influenceValue","strengthClass","planet1Name","planet2Name","planet","elementColor","planetIcon","ChevronLeft","ChevronRight","ChevronUp","ChevronDown","idx","SolarInfluenceInsights","sun","getSunSignImpact","getSunElement","getElementImpact","getDegreeImpact","getSunSportsInfluences","formattedDegree","sunElement","sunDegree","influences","influence","ElementalBalance","elementalCounts","counts","totalPlanets","count","elementInfo","percentage","width","getMoonClipPath","phaseName","xPos","MLB_LEAGUE_KEY","Dashboard","navigate","useNavigate","featuredArticle","setFeaturedArticle","isLoadingArticle","setIsLoadingArticle","articleError","setArticleError","astroInfluences","setAstroInfluences","articles","latestArticle","mappedArticle","today","selectedDate","setSelectedDate","teamsLoading","mlbLeagueId","isMlbLeagueResolutionComplete","useTeams","games","gamesLoading","useUpcomingGames","stableDateString","astroLoading","astroError","topPlayers","topPlayersLoading","topPlayersError","elementsDistribution","getElementValue","sportsPredictions","groupedGames","groups","game","dateKey","handleSeeMoreGames","useCallback","getGamePrediction","homeTeam","awayTeam","pred","getMoonPhaseImpact","retrogradePlanets","planetNames","Info","dominantEntry","score","degree","impacts","range","r","start","end","n","formatDegreesMinutes","degrees","minutes","dailyRecommendation","maxScore","recommendation","featuredArticleVariant","container","fadeIn","slideUp","topPlanets","LoadingScreen","Link","motion","Badge","AlertCircle","group","homeTeamData","awayTeamData","GameCard","Button","format","Trophy","_i","_j","_k","_l","_m","_n","_q","_r","_t","_s","_v","_u","_w","_y","Card"],"mappings":"4zBAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GASA,MAAMA,GAAWC,EAAiB,WAAY,CAC5C,CACE,OACA,CACE,EAAG,6HACH,IAAK,QACX,CACA,CACA,CAAC,ECjBD;AAAA;AAAA;AAAA;AAAA;AAAA,GASA,MAAMC,GAAaD,EAAiB,aAAc,CAChD,CAAC,OAAQ,CAAE,EAAG,WAAY,IAAK,QAAQ,CAAE,EACzC,CAAC,OAAQ,CAAE,EAAG,gBAAiB,IAAK,QAAU,CAAA,CAChD,CAAC,ECZD;AAAA;AAAA;AAAA;AAAA;AAAA,GASA,MAAME,GAAeF,EAAiB,eAAgB,CACpD,CAAC,OAAQ,CAAE,EAAG,gCAAiC,IAAK,QAAQ,CAAE,EAC9D,CAAC,OAAQ,CAAE,EAAG,iCAAkC,IAAK,QAAQ,CAAE,EAC/D,CAAC,OAAQ,CAAE,EAAG,qCAAsC,IAAK,QAAQ,CAAE,EACnE,CAAC,OAAQ,CAAE,EAAG,gCAAiC,IAAK,QAAQ,CAAE,EAC9D,CAAC,OAAQ,CAAE,EAAG,sCAAuC,IAAK,QAAQ,CAAE,EACpE,CAAC,OAAQ,CAAE,EAAG,iCAAkC,IAAK,QAAQ,CAAE,EAC/D,CAAC,OAAQ,CAAE,EAAG,oCAAqC,IAAK,QAAQ,CAAE,EAClE,CAAC,OAAQ,CAAE,EAAG,qCAAsC,IAAK,QAAU,CAAA,CACrE,CAAC,EClBD;AAAA;AAAA;AAAA;AAAA;AAAA,GASA,MAAMG,GAAmBH,EAAiB,mBAAoB,CAC5D,CAAC,SAAU,CAAE,GAAI,KAAM,GAAI,KAAM,EAAG,KAAM,IAAK,SAAU,EACzD,CAAC,OAAQ,CAAE,EAAG,2CAA4C,IAAK,QAAQ,CAAE,EACzE,CAAC,OAAQ,CAAE,EAAG,WAAY,IAAK,QAAU,CAAA,CAC3C,CAAC,ECbD;AAAA;AAAA;AAAA;AAAA;AAAA,GASA,MAAMI,GAAQJ,EAAiB,QAAS,CACtC,CAAC,OAAQ,CAAE,EAAG,sDAAuD,IAAK,QAAU,CAAA,CACtF,CAAC,ECXD;AAAA;AAAA;AAAA;AAAA;AAAA,GASA,MAAMK,GAAWL,EAAiB,WAAY,CAC5C,CACE,OACA,CACE,EAAG,6IACH,IAAK,QACX,CACG,EACD,CACE,OACA,CACE,EAAG,iGACH,IAAK,QACX,CACA,CACA,CAAC,ECxBD;AAAA;AAAA;AAAA;AAAA;AAAA,GASA,MAAMM,GAAQN,EAAiB,QAAS,CACtC,CACE,OACA,CACE,EAAG,4KACH,IAAK,QACX,CACA,CACA,CAAC,ECjBD;AAAA;AAAA;AAAA;AAAA;AAAA,GASA,MAAMO,GAAQP,EAAiB,QAAS,CACtC,CAAC,SAAU,CAAE,GAAI,KAAM,GAAI,KAAM,EAAG,KAAM,IAAK,SAAU,EACzD,CAAC,OAAQ,CAAE,EAAG,kDAAmD,IAAK,QAAQ,CAAE,EAChF,CAAC,OAAQ,CAAE,EAAG,WAAY,IAAK,QAAU,CAAA,CAC3C,CAAC,ECbD;AAAA;AAAA;AAAA;AAAA;AAAA,GASA,MAAMQ,GAAQR,EAAiB,QAAS,CACtC,CACE,OACA,CACE,EAAG,2IACH,IAAK,QACX,CACA,CACA,CAAC,ECjBD;AAAA;AAAA;AAAA;AAAA;AAAA,GASA,MAAMS,GAAYT,EAAiB,YAAa,CAC9C,CACE,OACA,CACE,EAAG,uGACH,IAAK,QACX,CACG,EACD,CAAC,OAAQ,CAAE,EAAG,UAAW,IAAK,QAAQ,CAAE,EACxC,CAAC,OAAQ,CAAE,EAAG,WAAY,IAAK,QAAU,CAAA,CAC3C,CAAC,ECnBD;AAAA;AAAA;AAAA;AAAA;AAAA,GASA,MAAMU,GAAOV,EAAiB,OAAQ,CACpC,CAAC,OAAQ,CAAE,EAAG,qCAAsC,IAAK,QAAU,CAAA,CACrE,CAAC,ECXD;AAAA;AAAA;AAAA;AAAA;AAAA,GASA,MAAMW,GAAWX,EAAiB,WAAY,CAC5C,CAAC,OAAQ,CAAE,EAAG,2BAA4B,IAAK,QAAU,CAAA,CAC3D,CAAC,ECXD;AAAA;AAAA;AAAA;AAAA;AAAA,GASA,MAAMY,GAAYZ,EAAiB,YAAa,CAC9C,CACE,OACA,CACE,EAAG,gHACH,IAAK,QACX,CACG,EACD,CAAC,OAAQ,CAAE,EAAG,YAAa,IAAK,QAAQ,CAAE,EAC1C,CAAC,OAAQ,CAAE,EAAG,YAAa,IAAK,QAAQ,CAAE,EAC1C,CAAC,OAAQ,CAAE,EAAG,kBAAmB,IAAK,QAAU,CAAA,CAClD,CAAC,ECpBD;AAAA;AAAA;AAAA;AAAA;AAAA,GASA,MAAMa,GAAQb,EAAiB,QAAS,CACtC,CAAC,OAAQ,CAAE,EAAG,wBAAyB,IAAK,QAAQ,CAAE,EACtD,CACE,OACA,CACE,EAAG,gGACH,IAAK,QACX,CACG,EACD,CAAC,SAAU,CAAE,GAAI,KAAM,GAAI,KAAM,EAAG,IAAK,IAAK,SAAU,EACxD,CAAC,SAAU,CAAE,GAAI,IAAK,GAAI,KAAM,EAAG,IAAK,IAAK,QAAU,CAAA,CACzD,CAAC,ECpBD;AAAA;AAAA;AAAA;AAAA;AAAA,GASA,MAAMc,GAAUd,EAAiB,UAAW,CAC1C,CACE,OACA,CACE,EAAG,8PACH,IAAK,QACX,CACA,CACA,CAAC,ECjBD;AAAA;AAAA;AAAA;AAAA;AAAA,GASA,MAAMe,GAAWf,EAAiB,WAAY,CAC5C,CACE,OACA,CACE,EAAG,8PACH,IAAK,QACX,CACG,EACD,CAAC,OAAQ,CAAE,EAAG,UAAW,IAAK,QAAQ,CAAE,EACxC,CAAC,OAAQ,CAAE,EAAG,WAAY,IAAK,QAAQ,CAAE,EACzC,CAAC,OAAQ,CAAE,EAAG,UAAW,IAAK,QAAQ,CAAE,EACxC,CAAC,OAAQ,CAAE,EAAG,UAAW,IAAK,QAAU,CAAA,CAC1C,CAAC,ECrBD;AAAA;AAAA;AAAA;AAAA;AAAA,GASA,MAAMgB,GAAMhB,EAAiB,MAAO,CAClC,CAAC,SAAU,CAAE,GAAI,KAAM,GAAI,KAAM,EAAG,IAAK,IAAK,SAAU,EACxD,CAAC,OAAQ,CAAE,EAAG,UAAW,IAAK,QAAQ,CAAE,EACxC,CAAC,OAAQ,CAAE,EAAG,WAAY,IAAK,QAAQ,CAAE,EACzC,CAAC,OAAQ,CAAE,EAAG,uBAAwB,IAAK,QAAQ,CAAE,EACrD,CAAC,OAAQ,CAAE,EAAG,yBAA0B,IAAK,QAAQ,CAAE,EACvD,CAAC,OAAQ,CAAE,EAAG,UAAW,IAAK,QAAQ,CAAE,EACxC,CAAC,OAAQ,CAAE,EAAG,WAAY,IAAK,QAAQ,CAAE,EACzC,CAAC,OAAQ,CAAE,EAAG,wBAAyB,IAAK,QAAQ,CAAE,EACtD,CAAC,OAAQ,CAAE,EAAG,wBAAyB,IAAK,QAAU,CAAA,CACxD,CAAC,ECnBD;AAAA;AAAA;AAAA;AAAA;AAAA,GASA,MAAMiB,GAAOjB,EAAiB,OAAQ,CACpC,CAAC,OAAQ,CAAE,EAAG,+BAAgC,IAAK,QAAQ,CAAE,EAC7D,CAAC,OAAQ,CAAE,EAAG,8BAA+B,IAAK,QAAQ,CAAE,EAC5D,CAAC,OAAQ,CAAE,EAAG,4BAA6B,IAAK,QAAU,CAAA,CAC5D,CAAC,ECbM,IAAIkB,GACV,SAAUA,EAAM,CACbA,EAAK,YAAeC,GAAM,CAAG,EAC7B,SAASC,EAASC,EAAM,CAAA,CACxBH,EAAK,SAAWE,EAChB,SAASE,EAAYC,EAAI,CACrB,MAAM,IAAI,KAClB,CACIL,EAAK,YAAcI,EACnBJ,EAAK,YAAeM,GAAU,CAC1B,MAAMC,EAAM,CAAE,EACd,UAAWC,KAAQF,EACfC,EAAIC,CAAI,EAAIA,EAEhB,OAAOD,CACV,EACDP,EAAK,mBAAsBO,GAAQ,CAC/B,MAAME,EAAYT,EAAK,WAAWO,CAAG,EAAE,OAAQG,GAAM,OAAOH,EAAIA,EAAIG,CAAC,CAAC,GAAM,QAAQ,EAC9EC,EAAW,CAAE,EACnB,UAAWD,KAAKD,EACZE,EAASD,CAAC,EAAIH,EAAIG,CAAC,EAEvB,OAAOV,EAAK,aAAaW,CAAQ,CACpC,EACDX,EAAK,aAAgBO,GACVP,EAAK,WAAWO,CAAG,EAAE,IAAI,SAAUK,EAAG,CACzC,OAAOL,EAAIK,CAAC,CACxB,CAAS,EAELZ,EAAK,WAAa,OAAO,OAAO,MAAS,WAClCO,GAAQ,OAAO,KAAKA,CAAG,EACvBM,GAAW,CACV,MAAMC,EAAO,CAAE,EACf,UAAWC,KAAOF,EACV,OAAO,UAAU,eAAe,KAAKA,EAAQE,CAAG,GAChDD,EAAK,KAAKC,CAAG,EAGrB,OAAOD,CACV,EACLd,EAAK,KAAO,CAACgB,EAAKC,IAAY,CAC1B,UAAWT,KAAQQ,EACf,GAAIC,EAAQT,CAAI,EACZ,OAAOA,CAGlB,EACDR,EAAK,UAAY,OAAO,OAAO,WAAc,WACtCkB,GAAQ,OAAO,UAAUA,CAAG,EAC5BA,GAAQ,OAAOA,GAAQ,UAAY,OAAO,SAASA,CAAG,GAAK,KAAK,MAAMA,CAAG,IAAMA,EACtF,SAASC,EAAWC,EAAOC,EAAY,MAAO,CAC1C,OAAOD,EAAM,IAAKF,GAAS,OAAOA,GAAQ,SAAW,IAAIA,CAAG,IAAMA,CAAI,EAAE,KAAKG,CAAS,CAC9F,CACIrB,EAAK,WAAamB,EAClBnB,EAAK,sBAAwB,CAACC,EAAGqB,IACzB,OAAOA,GAAU,SACVA,EAAM,SAAU,EAEpBA,CAEf,GAAGtB,IAASA,EAAO,CAAA,EAAG,EACf,IAAIuB,IACV,SAAUA,EAAY,CACnBA,EAAW,YAAc,CAACC,EAAOC,KACtB,CACH,GAAGD,EACH,GAAGC,CACN,EAET,GAAGF,KAAeA,GAAa,CAAA,EAAG,EAC3B,MAAMG,EAAgB1B,EAAK,YAAY,CAC1C,SACA,MACA,SACA,UACA,QACA,UACA,OACA,SACA,SACA,WACA,YACA,OACA,QACA,SACA,UACA,UACA,OACA,QACA,MACA,KACJ,CAAC,EACY2B,GAAiBC,GAAS,CAEnC,OADU,OAAOA,EACR,CACL,IAAK,YACD,OAAOF,EAAc,UACzB,IAAK,SACD,OAAOA,EAAc,OACzB,IAAK,SACD,OAAO,OAAO,MAAME,CAAI,EAAIF,EAAc,IAAMA,EAAc,OAClE,IAAK,UACD,OAAOA,EAAc,QACzB,IAAK,WACD,OAAOA,EAAc,SACzB,IAAK,SACD,OAAOA,EAAc,OACzB,IAAK,SACD,OAAOA,EAAc,OACzB,IAAK,SACD,OAAI,MAAM,QAAQE,CAAI,EACXF,EAAc,MAErBE,IAAS,KACFF,EAAc,KAErBE,EAAK,MAAQ,OAAOA,EAAK,MAAS,YAAcA,EAAK,OAAS,OAAOA,EAAK,OAAU,WAC7EF,EAAc,QAErB,OAAO,IAAQ,KAAeE,aAAgB,IACvCF,EAAc,IAErB,OAAO,IAAQ,KAAeE,aAAgB,IACvCF,EAAc,IAErB,OAAO,KAAS,KAAeE,aAAgB,KACxCF,EAAc,KAElBA,EAAc,OACzB,QACI,OAAOA,EAAc,OACjC,CACA,ECnIaG,EAAe7B,EAAK,YAAY,CACzC,eACA,kBACA,SACA,gBACA,8BACA,qBACA,oBACA,oBACA,sBACA,eACA,iBACA,YACA,UACA,6BACA,kBACA,YACJ,CAAC,EAKM,MAAM8B,WAAiB,KAAM,CAChC,IAAI,QAAS,CACT,OAAO,KAAK,MACpB,CACI,YAAYC,EAAQ,CAChB,MAAO,EACP,KAAK,OAAS,CAAE,EAChB,KAAK,SAAYC,GAAQ,CACrB,KAAK,OAAS,CAAC,GAAG,KAAK,OAAQA,CAAG,CACrC,EACD,KAAK,UAAY,CAACC,EAAO,KAAO,CAC5B,KAAK,OAAS,CAAC,GAAG,KAAK,OAAQ,GAAGA,CAAI,CACzC,EACD,MAAMC,EAAc,WAAW,UAC3B,OAAO,eAEP,OAAO,eAAe,KAAMA,CAAW,EAGvC,KAAK,UAAYA,EAErB,KAAK,KAAO,WACZ,KAAK,OAASH,CACtB,CACI,OAAOI,EAAS,CACZ,MAAMC,EAASD,GACX,SAAUE,EAAO,CACb,OAAOA,EAAM,OAChB,EACCC,EAAc,CAAE,QAAS,EAAI,EAC7BC,EAAgBC,GAAU,CAC5B,UAAWH,KAASG,EAAM,OACtB,GAAIH,EAAM,OAAS,gBACfA,EAAM,YAAY,IAAIE,CAAY,UAE7BF,EAAM,OAAS,sBACpBE,EAAaF,EAAM,eAAe,UAE7BA,EAAM,OAAS,oBACpBE,EAAaF,EAAM,cAAc,UAE5BA,EAAM,KAAK,SAAW,EAC3BC,EAAY,QAAQ,KAAKF,EAAOC,CAAK,CAAC,MAErC,CACD,IAAII,EAAOH,EACPI,EAAI,EACR,KAAOA,EAAIL,EAAM,KAAK,QAAQ,CAC1B,MAAMM,EAAKN,EAAM,KAAKK,CAAC,EACNA,IAAML,EAAM,KAAK,OAAS,GAYvCI,EAAKE,CAAE,EAAIF,EAAKE,CAAE,GAAK,CAAE,QAAS,EAAI,EACtCF,EAAKE,CAAE,EAAE,QAAQ,KAAKP,EAAOC,CAAK,CAAC,GAXnCI,EAAKE,CAAE,EAAIF,EAAKE,CAAE,GAAK,CAAE,QAAS,EAAI,EAa1CF,EAAOA,EAAKE,CAAE,EACdD,GACxB,CACA,CAES,EACD,OAAAH,EAAa,IAAI,EACVD,CACf,CACI,OAAO,OAAOhB,EAAO,CACjB,GAAI,EAAEA,aAAiBQ,IACnB,MAAM,IAAI,MAAM,mBAAmBR,CAAK,EAAE,CAEtD,CACI,UAAW,CACP,OAAO,KAAK,OACpB,CACI,IAAI,SAAU,CACV,OAAO,KAAK,UAAU,KAAK,OAAQtB,EAAK,sBAAuB,CAAC,CACxE,CACI,IAAI,SAAU,CACV,OAAO,KAAK,OAAO,SAAW,CACtC,CACI,QAAQoC,EAAUC,GAAUA,EAAM,QAAS,CACvC,MAAMC,EAAc,CAAE,EAChBM,EAAa,CAAE,EACrB,UAAWZ,KAAO,KAAK,OACfA,EAAI,KAAK,OAAS,GAClBM,EAAYN,EAAI,KAAK,CAAC,CAAC,EAAIM,EAAYN,EAAI,KAAK,CAAC,CAAC,GAAK,CAAE,EACzDM,EAAYN,EAAI,KAAK,CAAC,CAAC,EAAE,KAAKI,EAAOJ,CAAG,CAAC,GAGzCY,EAAW,KAAKR,EAAOJ,CAAG,CAAC,EAGnC,MAAO,CAAE,WAAAY,EAAY,YAAAN,CAAa,CAC1C,CACI,IAAI,YAAa,CACb,OAAO,KAAK,QAAS,CAC7B,CACA,CACAR,GAAS,OAAUC,GACD,IAAID,GAASC,CAAM,EC/HrC,MAAMc,GAAW,CAACR,EAAOS,IAAS,CAC9B,IAAIC,EACJ,OAAQV,EAAM,KAAI,CACd,KAAKR,EAAa,aACVQ,EAAM,WAAaX,EAAc,UACjCqB,EAAU,WAGVA,EAAU,YAAYV,EAAM,QAAQ,cAAcA,EAAM,QAAQ,GAEpE,MACJ,KAAKR,EAAa,gBACdkB,EAAU,mCAAmC,KAAK,UAAUV,EAAM,SAAUrC,EAAK,qBAAqB,CAAC,GACvG,MACJ,KAAK6B,EAAa,kBACdkB,EAAU,kCAAkC/C,EAAK,WAAWqC,EAAM,KAAM,IAAI,CAAC,GAC7E,MACJ,KAAKR,EAAa,cACdkB,EAAU,gBACV,MACJ,KAAKlB,EAAa,4BACdkB,EAAU,yCAAyC/C,EAAK,WAAWqC,EAAM,OAAO,CAAC,GACjF,MACJ,KAAKR,EAAa,mBACdkB,EAAU,gCAAgC/C,EAAK,WAAWqC,EAAM,OAAO,CAAC,eAAeA,EAAM,QAAQ,IACrG,MACJ,KAAKR,EAAa,kBACdkB,EAAU,6BACV,MACJ,KAAKlB,EAAa,oBACdkB,EAAU,+BACV,MACJ,KAAKlB,EAAa,aACdkB,EAAU,eACV,MACJ,KAAKlB,EAAa,eACV,OAAOQ,EAAM,YAAe,SACxB,aAAcA,EAAM,YACpBU,EAAU,gCAAgCV,EAAM,WAAW,QAAQ,IAC/D,OAAOA,EAAM,WAAW,UAAa,WACrCU,EAAU,GAAGA,CAAO,sDAAsDV,EAAM,WAAW,QAAQ,KAGlG,eAAgBA,EAAM,WAC3BU,EAAU,mCAAmCV,EAAM,WAAW,UAAU,IAEnE,aAAcA,EAAM,WACzBU,EAAU,iCAAiCV,EAAM,WAAW,QAAQ,IAGpErC,EAAK,YAAYqC,EAAM,UAAU,EAGhCA,EAAM,aAAe,QAC1BU,EAAU,WAAWV,EAAM,UAAU,GAGrCU,EAAU,UAEd,MACJ,KAAKlB,EAAa,UACVQ,EAAM,OAAS,QACfU,EAAU,sBAAsBV,EAAM,MAAQ,UAAYA,EAAM,UAAY,WAAa,WAAW,IAAIA,EAAM,OAAO,cAChHA,EAAM,OAAS,SACpBU,EAAU,uBAAuBV,EAAM,MAAQ,UAAYA,EAAM,UAAY,WAAa,MAAM,IAAIA,EAAM,OAAO,gBAC5GA,EAAM,OAAS,SACpBU,EAAU,kBAAkBV,EAAM,MAAQ,oBAAsBA,EAAM,UAAY,4BAA8B,eAAe,GAAGA,EAAM,OAAO,GAC1IA,EAAM,OAAS,OACpBU,EAAU,gBAAgBV,EAAM,MAAQ,oBAAsBA,EAAM,UAAY,4BAA8B,eAAe,GAAG,IAAI,KAAK,OAAOA,EAAM,OAAO,CAAC,CAAC,GAE/JU,EAAU,gBACd,MACJ,KAAKlB,EAAa,QACVQ,EAAM,OAAS,QACfU,EAAU,sBAAsBV,EAAM,MAAQ,UAAYA,EAAM,UAAY,UAAY,WAAW,IAAIA,EAAM,OAAO,cAC/GA,EAAM,OAAS,SACpBU,EAAU,uBAAuBV,EAAM,MAAQ,UAAYA,EAAM,UAAY,UAAY,OAAO,IAAIA,EAAM,OAAO,gBAC5GA,EAAM,OAAS,SACpBU,EAAU,kBAAkBV,EAAM,MAAQ,UAAYA,EAAM,UAAY,wBAA0B,WAAW,IAAIA,EAAM,OAAO,GACzHA,EAAM,OAAS,SACpBU,EAAU,kBAAkBV,EAAM,MAAQ,UAAYA,EAAM,UAAY,wBAA0B,WAAW,IAAIA,EAAM,OAAO,GACzHA,EAAM,OAAS,OACpBU,EAAU,gBAAgBV,EAAM,MAAQ,UAAYA,EAAM,UAAY,2BAA6B,cAAc,IAAI,IAAI,KAAK,OAAOA,EAAM,OAAO,CAAC,CAAC,GAEpJU,EAAU,gBACd,MACJ,KAAKlB,EAAa,OACdkB,EAAU,gBACV,MACJ,KAAKlB,EAAa,2BACdkB,EAAU,2CACV,MACJ,KAAKlB,EAAa,gBACdkB,EAAU,gCAAgCV,EAAM,UAAU,GAC1D,MACJ,KAAKR,EAAa,WACdkB,EAAU,wBACV,MACJ,QACIA,EAAUD,EAAK,aACf9C,EAAK,YAAYqC,CAAK,CAClC,CACI,MAAO,CAAE,QAAAU,CAAS,CACtB,ECxGA,IAAIC,GAAmBC,GAKhB,SAASC,IAAc,CAC1B,OAAOF,EACX,CCNO,MAAMG,GAAaC,GAAW,CACjC,KAAM,CAAE,KAAAxB,EAAM,KAAAyB,EAAM,UAAAC,EAAW,UAAAC,CAAW,EAAGH,EACvCI,EAAW,CAAC,GAAGH,EAAM,GAAIE,EAAU,MAAQ,CAAA,CAAG,EAC9CE,EAAY,CACd,GAAGF,EACH,KAAMC,CACT,EACD,GAAID,EAAU,UAAY,OACtB,MAAO,CACH,GAAGA,EACH,KAAMC,EACN,QAASD,EAAU,OACtB,EAEL,IAAIG,EAAe,GACnB,MAAMC,EAAOL,EACR,OAAQM,GAAM,CAAC,CAACA,CAAC,EACjB,MAAK,EACL,QAAS,EACd,UAAWC,KAAOF,EACdD,EAAeG,EAAIJ,EAAW,CAAE,KAAA7B,EAAM,aAAc8B,CAAc,CAAA,EAAE,QAExE,MAAO,CACH,GAAGH,EACH,KAAMC,EACN,QAASE,CACZ,CACL,EAEO,SAASI,EAAkBC,EAAKR,EAAW,CAC9C,MAAMS,EAAcd,GAAa,EAC3Bb,EAAQc,GAAU,CACpB,UAAWI,EACX,KAAMQ,EAAI,KACV,KAAMA,EAAI,KACV,UAAW,CACPA,EAAI,OAAO,mBACXA,EAAI,eACJC,EACAA,IAAgBf,GAAkB,OAAYA,EACjD,EAAC,OAAQgB,GAAM,CAAC,CAACA,CAAC,CAC3B,CAAK,EACDF,EAAI,OAAO,OAAO,KAAK1B,CAAK,CAChC,CACO,MAAM6B,EAAY,CACrB,aAAc,CACV,KAAK,MAAQ,OACrB,CACI,OAAQ,CACA,KAAK,QAAU,UACf,KAAK,MAAQ,QACzB,CACI,OAAQ,CACA,KAAK,QAAU,YACf,KAAK,MAAQ,UACzB,CACI,OAAO,WAAWC,EAAQC,EAAS,CAC/B,MAAMC,EAAa,CAAE,EACrB,UAAWC,KAAKF,EAAS,CACrB,GAAIE,EAAE,SAAW,UACb,OAAOC,EACPD,EAAE,SAAW,SACbH,EAAO,MAAO,EAClBE,EAAW,KAAKC,EAAE,KAAK,CACnC,CACQ,MAAO,CAAE,OAAQH,EAAO,MAAO,MAAOE,CAAY,CAC1D,CACI,aAAa,iBAAiBF,EAAQK,EAAO,CACzC,MAAMC,EAAY,CAAE,EACpB,UAAWC,KAAQF,EAAO,CACtB,MAAMzD,EAAM,MAAM2D,EAAK,IACjBpD,EAAQ,MAAMoD,EAAK,MACzBD,EAAU,KAAK,CACX,IAAA1D,EACA,MAAAO,CAChB,CAAa,CACb,CACQ,OAAO4C,GAAY,gBAAgBC,EAAQM,CAAS,CAC5D,CACI,OAAO,gBAAgBN,EAAQK,EAAO,CAClC,MAAMG,EAAc,CAAE,EACtB,UAAWD,KAAQF,EAAO,CACtB,KAAM,CAAE,IAAAzD,EAAK,MAAAO,CAAK,EAAKoD,EAGvB,GAFI3D,EAAI,SAAW,WAEfO,EAAM,SAAW,UACjB,OAAOiD,EACPxD,EAAI,SAAW,SACfoD,EAAO,MAAO,EACd7C,EAAM,SAAW,SACjB6C,EAAO,MAAO,EACdpD,EAAI,QAAU,cAAgB,OAAOO,EAAM,MAAU,KAAeoD,EAAK,aACzEC,EAAY5D,EAAI,KAAK,EAAIO,EAAM,MAE/C,CACQ,MAAO,CAAE,OAAQ6C,EAAO,MAAO,MAAOQ,CAAa,CAC3D,CACA,CACO,MAAMJ,EAAU,OAAO,OAAO,CACjC,OAAQ,SACZ,CAAC,EACYK,GAAStD,IAAW,CAAE,OAAQ,QAAS,MAAAA,CAAK,GAC5CuD,GAAMvD,IAAW,CAAE,OAAQ,QAAS,MAAAA,CAAK,GACzCwD,GAAab,GAAMA,EAAE,SAAW,UAChCc,GAAWd,GAAMA,EAAE,SAAW,QAC9Be,GAAWf,GAAMA,EAAE,SAAW,QAC9BgB,GAAWhB,GAAM,OAAO,QAAY,KAAeA,aAAa,QC5GtE,IAAIiB,GACV,SAAUA,EAAW,CAClBA,EAAU,SAAYnC,GAAY,OAAOA,GAAY,SAAW,CAAE,QAAAA,GAAYA,GAAW,CAAE,EAE3FmC,EAAU,SAAYnC,GAAY,OAAOA,GAAY,SAAWA,EAAUA,GAAA,YAAAA,EAAS,OACvF,GAAGmC,IAAcA,EAAY,CAAA,EAAG,ECAhC,MAAMC,EAAmB,CACrB,YAAYC,EAAQ9D,EAAO+B,EAAMtC,EAAK,CAClC,KAAK,YAAc,CAAE,EACrB,KAAK,OAASqE,EACd,KAAK,KAAO9D,EACZ,KAAK,MAAQ+B,EACb,KAAK,KAAOtC,CACpB,CACI,IAAI,MAAO,CACP,OAAK,KAAK,YAAY,SACd,MAAM,QAAQ,KAAK,IAAI,EACvB,KAAK,YAAY,KAAK,GAAG,KAAK,MAAO,GAAG,KAAK,IAAI,EAGjD,KAAK,YAAY,KAAK,GAAG,KAAK,MAAO,KAAK,IAAI,GAG/C,KAAK,WACpB,CACA,CACA,MAAMsE,GAAe,CAACtB,EAAKuB,IAAW,CAClC,GAAIN,GAAQM,CAAM,EACd,MAAO,CAAE,QAAS,GAAM,KAAMA,EAAO,KAAO,EAG5C,GAAI,CAACvB,EAAI,OAAO,OAAO,OACnB,MAAM,IAAI,MAAM,2CAA2C,EAE/D,MAAO,CACH,QAAS,GACT,IAAI,OAAQ,CACR,GAAI,KAAK,OACL,OAAO,KAAK,OAChB,MAAMvB,EAAQ,IAAIV,GAASiC,EAAI,OAAO,MAAM,EAC5C,YAAK,OAASvB,EACP,KAAK,MACf,CACJ,CAET,EACA,SAAS+C,EAAoBnC,EAAQ,CACjC,GAAI,CAACA,EACD,MAAO,CAAE,EACb,KAAM,CAAE,SAAAP,EAAU,mBAAA2C,EAAoB,eAAAC,EAAgB,YAAAC,CAAa,EAAGtC,EACtE,GAAIP,IAAa2C,GAAsBC,GACnC,MAAM,IAAI,MAAM,0FAA0F,EAE9G,OAAI5C,EACO,CAAE,SAAUA,EAAU,YAAA6C,CAAa,EAavC,CAAE,SAZS,CAACC,EAAK5B,IAAQ,CAC5B,KAAM,CAAE,QAAAhB,CAAO,EAAKK,EACpB,OAAIuC,EAAI,OAAS,qBACN,CAAE,QAAS5C,GAAWgB,EAAI,YAAc,EAE/C,OAAOA,EAAI,KAAS,IACb,CAAE,QAAShB,GAAW0C,GAAkB1B,EAAI,YAAc,EAEjE4B,EAAI,OAAS,eACN,CAAE,QAAS5B,EAAI,YAAc,EACjC,CAAE,QAAShB,GAAWyC,GAAsBzB,EAAI,YAAc,CACxE,EAC6B,YAAA2B,CAAa,CAC/C,CACO,MAAME,CAAQ,CACjB,IAAI,aAAc,CACd,OAAO,KAAK,KAAK,WACzB,CACI,SAASC,EAAO,CACZ,OAAOlE,GAAckE,EAAM,IAAI,CACvC,CACI,gBAAgBA,EAAO9B,EAAK,CACxB,OAAQA,GAAO,CACX,OAAQ8B,EAAM,OAAO,OACrB,KAAMA,EAAM,KACZ,WAAYlE,GAAckE,EAAM,IAAI,EACpC,eAAgB,KAAK,KAAK,SAC1B,KAAMA,EAAM,KACZ,OAAQA,EAAM,MACjB,CACT,CACI,oBAAoBA,EAAO,CACvB,MAAO,CACH,OAAQ,IAAI3B,GACZ,IAAK,CACD,OAAQ2B,EAAM,OAAO,OACrB,KAAMA,EAAM,KACZ,WAAYlE,GAAckE,EAAM,IAAI,EACpC,eAAgB,KAAK,KAAK,SAC1B,KAAMA,EAAM,KACZ,OAAQA,EAAM,MACjB,CACJ,CACT,CACI,WAAWA,EAAO,CACd,MAAMP,EAAS,KAAK,OAAOO,CAAK,EAChC,GAAIZ,GAAQK,CAAM,EACd,MAAM,IAAI,MAAM,wCAAwC,EAE5D,OAAOA,CACf,CACI,YAAYO,EAAO,CACf,MAAMP,EAAS,KAAK,OAAOO,CAAK,EAChC,OAAO,QAAQ,QAAQP,CAAM,CACrC,CACI,MAAM1D,EAAMwB,EAAQ,CAChB,MAAMkC,EAAS,KAAK,UAAU1D,EAAMwB,CAAM,EAC1C,GAAIkC,EAAO,QACP,OAAOA,EAAO,KAClB,MAAMA,EAAO,KACrB,CACI,UAAU1D,EAAMwB,EAAQ,CACpB,MAAMW,EAAM,CACR,OAAQ,CACJ,OAAQ,CAAE,EACV,OAAOX,GAAA,YAAAA,EAAQ,QAAS,GACxB,mBAAoBA,GAAA,YAAAA,EAAQ,QAC/B,EACD,MAAMA,GAAA,YAAAA,EAAQ,OAAQ,CAAE,EACxB,eAAgB,KAAK,KAAK,SAC1B,OAAQ,KACR,KAAAxB,EACA,WAAYD,GAAcC,CAAI,CACjC,EACK0D,EAAS,KAAK,WAAW,CAAE,KAAA1D,EAAM,KAAMmC,EAAI,KAAM,OAAQA,EAAK,EACpE,OAAOsB,GAAatB,EAAKuB,CAAM,CACvC,CACI,YAAY1D,EAAM,SACd,MAAMmC,EAAM,CACR,OAAQ,CACJ,OAAQ,CAAE,EACV,MAAO,CAAC,CAAC,KAAK,WAAW,EAAE,KAC9B,EACD,KAAM,CAAE,EACR,eAAgB,KAAK,KAAK,SAC1B,OAAQ,KACR,KAAAnC,EACA,WAAYD,GAAcC,CAAI,CACjC,EACD,GAAI,CAAC,KAAK,WAAW,EAAE,MACnB,GAAI,CACA,MAAM0D,EAAS,KAAK,WAAW,CAAE,KAAA1D,EAAM,KAAM,CAAE,EAAE,OAAQmC,EAAK,EAC9D,OAAOiB,GAAQM,CAAM,EACf,CACE,MAAOA,EAAO,KACtC,EACsB,CACE,OAAQvB,EAAI,OAAO,MACtB,CACrB,OACmB+B,EAAK,EACJC,GAAAC,EAAAF,GAAA,YAAAA,EAAK,UAAL,YAAAE,EAAc,gBAAd,MAAAD,EAA6B,SAAS,iBACtC,KAAK,WAAW,EAAE,MAAQ,IAE9BhC,EAAI,OAAS,CACT,OAAQ,CAAE,EACV,MAAO,EACV,CACjB,CAEQ,OAAO,KAAK,YAAY,CAAE,KAAAnC,EAAM,KAAM,CAAE,EAAE,OAAQmC,CAAK,CAAA,EAAE,KAAMuB,GAAWN,GAAQM,CAAM,EAClF,CACE,MAAOA,EAAO,KAC9B,EACc,CACE,OAAQvB,EAAI,OAAO,MACnC,CAAa,CACb,CACI,MAAM,WAAWnC,EAAMwB,EAAQ,CAC3B,MAAMkC,EAAS,MAAM,KAAK,eAAe1D,EAAMwB,CAAM,EACrD,GAAIkC,EAAO,QACP,OAAOA,EAAO,KAClB,MAAMA,EAAO,KACrB,CACI,MAAM,eAAe1D,EAAMwB,EAAQ,CAC/B,MAAMW,EAAM,CACR,OAAQ,CACJ,OAAQ,CAAE,EACV,mBAAoBX,GAAA,YAAAA,EAAQ,SAC5B,MAAO,EACV,EACD,MAAMA,GAAA,YAAAA,EAAQ,OAAQ,CAAE,EACxB,eAAgB,KAAK,KAAK,SAC1B,OAAQ,KACR,KAAAxB,EACA,WAAYD,GAAcC,CAAI,CACjC,EACKqE,EAAmB,KAAK,OAAO,CAAE,KAAArE,EAAM,KAAMmC,EAAI,KAAM,OAAQA,EAAK,EACpEuB,EAAS,MAAOL,GAAQgB,CAAgB,EAAIA,EAAmB,QAAQ,QAAQA,CAAgB,GACrG,OAAOZ,GAAatB,EAAKuB,CAAM,CACvC,CACI,OAAOY,EAAOnD,EAAS,CACnB,MAAMoD,EAAsBjF,GACpB,OAAO6B,GAAY,UAAY,OAAOA,EAAY,IAC3C,CAAE,QAAAA,CAAS,EAEb,OAAOA,GAAY,WACjBA,EAAQ7B,CAAG,EAGX6B,EAGf,OAAO,KAAK,YAAY,CAAC7B,EAAK6C,IAAQ,CAClC,MAAMuB,EAASY,EAAMhF,CAAG,EAClBkF,EAAW,IAAMrC,EAAI,SAAS,CAChC,KAAMlC,EAAa,OACnB,GAAGsE,EAAmBjF,CAAG,CACzC,CAAa,EACD,OAAI,OAAO,QAAY,KAAeoE,aAAkB,QAC7CA,EAAO,KAAM1D,GACXA,EAKM,IAJPwE,EAAU,EACH,GAKd,EAEAd,EAKM,IAJPc,EAAU,EACH,GAKvB,CAAS,CACT,CACI,WAAWF,EAAOG,EAAgB,CAC9B,OAAO,KAAK,YAAY,CAACnF,EAAK6C,IACrBmC,EAAMhF,CAAG,EAKH,IAJP6C,EAAI,SAAS,OAAOsC,GAAmB,WAAaA,EAAenF,EAAK6C,CAAG,EAAIsC,CAAc,EACtF,GAKd,CACT,CACI,YAAYC,EAAY,CACpB,OAAO,IAAIC,GAAW,CAClB,OAAQ,KACR,SAAUC,EAAsB,WAChC,OAAQ,CAAE,KAAM,aAAc,WAAAF,CAAY,CACtD,CAAS,CACT,CACI,YAAYA,EAAY,CACpB,OAAO,KAAK,YAAYA,CAAU,CAC1C,CACI,YAAYG,EAAK,CAEb,KAAK,IAAM,KAAK,eAChB,KAAK,KAAOA,EACZ,KAAK,MAAQ,KAAK,MAAM,KAAK,IAAI,EACjC,KAAK,UAAY,KAAK,UAAU,KAAK,IAAI,EACzC,KAAK,WAAa,KAAK,WAAW,KAAK,IAAI,EAC3C,KAAK,eAAiB,KAAK,eAAe,KAAK,IAAI,EACnD,KAAK,IAAM,KAAK,IAAI,KAAK,IAAI,EAC7B,KAAK,OAAS,KAAK,OAAO,KAAK,IAAI,EACnC,KAAK,WAAa,KAAK,WAAW,KAAK,IAAI,EAC3C,KAAK,YAAc,KAAK,YAAY,KAAK,IAAI,EAC7C,KAAK,SAAW,KAAK,SAAS,KAAK,IAAI,EACvC,KAAK,SAAW,KAAK,SAAS,KAAK,IAAI,EACvC,KAAK,QAAU,KAAK,QAAQ,KAAK,IAAI,EACrC,KAAK,MAAQ,KAAK,MAAM,KAAK,IAAI,EACjC,KAAK,QAAU,KAAK,QAAQ,KAAK,IAAI,EACrC,KAAK,GAAK,KAAK,GAAG,KAAK,IAAI,EAC3B,KAAK,IAAM,KAAK,IAAI,KAAK,IAAI,EAC7B,KAAK,UAAY,KAAK,UAAU,KAAK,IAAI,EACzC,KAAK,MAAQ,KAAK,MAAM,KAAK,IAAI,EACjC,KAAK,QAAU,KAAK,QAAQ,KAAK,IAAI,EACrC,KAAK,MAAQ,KAAK,MAAM,KAAK,IAAI,EACjC,KAAK,SAAW,KAAK,SAAS,KAAK,IAAI,EACvC,KAAK,KAAO,KAAK,KAAK,KAAK,IAAI,EAC/B,KAAK,SAAW,KAAK,SAAS,KAAK,IAAI,EACvC,KAAK,WAAa,KAAK,WAAW,KAAK,IAAI,EAC3C,KAAK,WAAa,KAAK,WAAW,KAAK,IAAI,EAC3C,KAAK,WAAW,EAAI,CAChB,QAAS,EACT,OAAQ,MACR,SAAW7E,GAAS,KAAK,WAAW,EAAEA,CAAI,CAC7C,CACT,CACI,UAAW,CACP,OAAO8E,GAAY,OAAO,KAAM,KAAK,IAAI,CACjD,CACI,UAAW,CACP,OAAOC,GAAY,OAAO,KAAM,KAAK,IAAI,CACjD,CACI,SAAU,CACN,OAAO,KAAK,SAAU,EAAC,SAAU,CACzC,CACI,OAAQ,CACJ,OAAOC,GAAS,OAAO,IAAI,CACnC,CACI,SAAU,CACN,OAAOC,GAAW,OAAO,KAAM,KAAK,IAAI,CAChD,CACI,GAAGC,EAAQ,CACP,OAAOC,GAAS,OAAO,CAAC,KAAMD,CAAM,EAAG,KAAK,IAAI,CACxD,CACI,IAAIE,EAAU,CACV,OAAOC,GAAgB,OAAO,KAAMD,EAAU,KAAK,IAAI,CAC/D,CACI,UAAUE,EAAW,CACjB,OAAO,IAAIX,GAAW,CAClB,GAAGhB,EAAoB,KAAK,IAAI,EAChC,OAAQ,KACR,SAAUiB,EAAsB,WAChC,OAAQ,CAAE,KAAM,YAAa,UAAAU,CAAW,CACpD,CAAS,CACT,CACI,QAAQT,EAAK,CACT,MAAMU,EAAmB,OAAOV,GAAQ,WAAaA,EAAM,IAAMA,EACjE,OAAO,IAAIW,GAAW,CAClB,GAAG7B,EAAoB,KAAK,IAAI,EAChC,UAAW,KACX,aAAc4B,EACd,SAAUX,EAAsB,UAC5C,CAAS,CACT,CACI,OAAQ,CACJ,OAAO,IAAIa,GAAW,CAClB,SAAUb,EAAsB,WAChC,KAAM,KACN,GAAGjB,EAAoB,KAAK,IAAI,CAC5C,CAAS,CACT,CACI,MAAMkB,EAAK,CACP,MAAMa,EAAiB,OAAOb,GAAQ,WAAaA,EAAM,IAAMA,EAC/D,OAAO,IAAIc,GAAS,CAChB,GAAGhC,EAAoB,KAAK,IAAI,EAChC,UAAW,KACX,WAAY+B,EACZ,SAAUd,EAAsB,QAC5C,CAAS,CACT,CACI,SAASd,EAAa,CAClB,MAAM8B,EAAO,KAAK,YAClB,OAAO,IAAIA,EAAK,CACZ,GAAG,KAAK,KACR,YAAA9B,CACZ,CAAS,CACT,CACI,KAAK+B,EAAQ,CACT,OAAOC,GAAY,OAAO,KAAMD,CAAM,CAC9C,CACI,UAAW,CACP,OAAOE,GAAY,OAAO,IAAI,CACtC,CACI,YAAa,CACT,OAAO,KAAK,UAAU,MAAS,EAAE,OACzC,CACI,YAAa,CACT,OAAO,KAAK,UAAU,IAAI,EAAE,OACpC,CACA,CACA,MAAMC,GAAY,iBACZC,GAAa,cACbC,GAAY,4BAGZC,GAAY,yFACZC,GAAc,oBACdC,GAAW,mDACXC,GAAgB,2SAahBC,GAAa,qFAIbC,GAAc,uDACpB,IAAIC,GAEJ,MAAMC,GAAY,sHACZC,GAAgB,2IAGhBC,GAAY,wpBACZC,GAAgB,0rBAEhBC,GAAc,mEAEdC,GAAiB,yEAMjBC,GAAkB,oMAClBC,GAAY,IAAI,OAAO,IAAID,EAAe,GAAG,EACnD,SAASE,GAAgBC,EAAM,CAC3B,IAAIC,EAAqB,WACrBD,EAAK,UACLC,EAAqB,GAAGA,CAAkB,UAAUD,EAAK,SAAS,IAE7DA,EAAK,WAAa,OACvBC,EAAqB,GAAGA,CAAkB,cAE9C,MAAMC,EAAoBF,EAAK,UAAY,IAAM,IACjD,MAAO,8BAA8BC,CAAkB,IAAIC,CAAiB,EAChF,CACA,SAASC,GAAUH,EAAM,CACrB,OAAO,IAAI,OAAO,IAAID,GAAgBC,CAAI,CAAC,GAAG,CAClD,CAEO,SAASI,GAAcJ,EAAM,CAChC,IAAIK,EAAQ,GAAGR,EAAe,IAAIE,GAAgBC,CAAI,CAAC,GACvD,MAAMM,EAAO,CAAE,EACf,OAAAA,EAAK,KAAKN,EAAK,MAAQ,KAAO,GAAG,EAC7BA,EAAK,QACLM,EAAK,KAAK,sBAAsB,EACpCD,EAAQ,GAAGA,CAAK,IAAIC,EAAK,KAAK,GAAG,CAAC,IAC3B,IAAI,OAAO,IAAID,CAAK,GAAG,CAClC,CACA,SAASE,GAAUC,EAAIC,EAAS,CAI5B,MAHK,IAAAA,IAAY,MAAQ,CAACA,IAAYlB,GAAU,KAAKiB,CAAE,IAGlDC,IAAY,MAAQ,CAACA,IAAYhB,GAAU,KAAKe,CAAE,EAI3D,CACA,SAASE,GAAWC,EAAKC,EAAK,CAC1B,GAAI,CAAC1B,GAAS,KAAKyB,CAAG,EAClB,MAAO,GACX,GAAI,CACA,KAAM,CAACE,CAAM,EAAIF,EAAI,MAAM,GAAG,EAExBG,EAASD,EACV,QAAQ,KAAM,GAAG,EACjB,QAAQ,KAAM,GAAG,EACjB,OAAOA,EAAO,QAAW,EAAKA,EAAO,OAAS,GAAM,EAAI,GAAG,EAC1DE,EAAU,KAAK,MAAM,KAAKD,CAAM,CAAC,EAOvC,MANI,SAAOC,GAAY,UAAYA,IAAY,MAE3C,QAASA,IAAWA,GAAA,YAAAA,EAAS,OAAQ,OAErC,CAACA,EAAQ,KAETH,GAAOG,EAAQ,MAAQH,EAGnC,MACU,CACF,MAAO,EACf,CACA,CACA,SAASI,GAAYR,EAAIC,EAAS,CAI9B,MAHK,IAAAA,IAAY,MAAQ,CAACA,IAAYjB,GAAc,KAAKgB,CAAE,IAGtDC,IAAY,MAAQ,CAACA,IAAYf,GAAc,KAAKc,CAAE,EAI/D,CACO,MAAMS,WAAkBpE,CAAQ,CACnC,OAAOC,EAAO,CAKV,GAJI,KAAK,KAAK,SACVA,EAAM,KAAO,OAAOA,EAAM,IAAI,GAEf,KAAK,SAASA,CAAK,IACnBnE,EAAc,OAAQ,CACrC,MAAMqC,EAAM,KAAK,gBAAgB8B,CAAK,EACtC,OAAA/B,EAAkBC,EAAK,CACnB,KAAMlC,EAAa,aACnB,SAAUH,EAAc,OACxB,SAAUqC,EAAI,UAC9B,CAAa,EACMQ,CACnB,CACQ,MAAMJ,EAAS,IAAID,GACnB,IAAIH,EACJ,UAAWmC,KAAS,KAAK,KAAK,OAC1B,GAAIA,EAAM,OAAS,MACXL,EAAM,KAAK,OAASK,EAAM,QAC1BnC,EAAM,KAAK,gBAAgB8B,EAAO9B,CAAG,EACrCD,EAAkBC,EAAK,CACnB,KAAMlC,EAAa,UACnB,QAASqE,EAAM,MACf,KAAM,SACN,UAAW,GACX,MAAO,GACP,QAASA,EAAM,OACvC,CAAqB,EACD/B,EAAO,MAAO,WAGb+B,EAAM,OAAS,MAChBL,EAAM,KAAK,OAASK,EAAM,QAC1BnC,EAAM,KAAK,gBAAgB8B,EAAO9B,CAAG,EACrCD,EAAkBC,EAAK,CACnB,KAAMlC,EAAa,QACnB,QAASqE,EAAM,MACf,KAAM,SACN,UAAW,GACX,MAAO,GACP,QAASA,EAAM,OACvC,CAAqB,EACD/B,EAAO,MAAO,WAGb+B,EAAM,OAAS,SAAU,CAC9B,MAAM+D,EAASpE,EAAM,KAAK,OAASK,EAAM,MACnCgE,EAAWrE,EAAM,KAAK,OAASK,EAAM,OACvC+D,GAAUC,KACVnG,EAAM,KAAK,gBAAgB8B,EAAO9B,CAAG,EACjCkG,EACAnG,EAAkBC,EAAK,CACnB,KAAMlC,EAAa,QACnB,QAASqE,EAAM,MACf,KAAM,SACN,UAAW,GACX,MAAO,GACP,QAASA,EAAM,OAC3C,CAAyB,EAEIgE,GACLpG,EAAkBC,EAAK,CACnB,KAAMlC,EAAa,UACnB,QAASqE,EAAM,MACf,KAAM,SACN,UAAW,GACX,MAAO,GACP,QAASA,EAAM,OAC3C,CAAyB,EAEL/B,EAAO,MAAO,EAElC,SACqB+B,EAAM,OAAS,QACfiC,GAAW,KAAKtC,EAAM,IAAI,IAC3B9B,EAAM,KAAK,gBAAgB8B,EAAO9B,CAAG,EACrCD,EAAkBC,EAAK,CACnB,WAAY,QACZ,KAAMlC,EAAa,eACnB,QAASqE,EAAM,OACvC,CAAqB,EACD/B,EAAO,MAAO,WAGb+B,EAAM,OAAS,QACfmC,KACDA,GAAa,IAAI,OAAOD,GAAa,GAAG,GAEvCC,GAAW,KAAKxC,EAAM,IAAI,IAC3B9B,EAAM,KAAK,gBAAgB8B,EAAO9B,CAAG,EACrCD,EAAkBC,EAAK,CACnB,WAAY,QACZ,KAAMlC,EAAa,eACnB,QAASqE,EAAM,OACvC,CAAqB,EACD/B,EAAO,MAAO,WAGb+B,EAAM,OAAS,OACf6B,GAAU,KAAKlC,EAAM,IAAI,IAC1B9B,EAAM,KAAK,gBAAgB8B,EAAO9B,CAAG,EACrCD,EAAkBC,EAAK,CACnB,WAAY,OACZ,KAAMlC,EAAa,eACnB,QAASqE,EAAM,OACvC,CAAqB,EACD/B,EAAO,MAAO,WAGb+B,EAAM,OAAS,SACf8B,GAAY,KAAKnC,EAAM,IAAI,IAC5B9B,EAAM,KAAK,gBAAgB8B,EAAO9B,CAAG,EACrCD,EAAkBC,EAAK,CACnB,WAAY,SACZ,KAAMlC,EAAa,eACnB,QAASqE,EAAM,OACvC,CAAqB,EACD/B,EAAO,MAAO,WAGb+B,EAAM,OAAS,OACf0B,GAAU,KAAK/B,EAAM,IAAI,IAC1B9B,EAAM,KAAK,gBAAgB8B,EAAO9B,CAAG,EACrCD,EAAkBC,EAAK,CACnB,WAAY,OACZ,KAAMlC,EAAa,eACnB,QAASqE,EAAM,OACvC,CAAqB,EACD/B,EAAO,MAAO,WAGb+B,EAAM,OAAS,QACf2B,GAAW,KAAKhC,EAAM,IAAI,IAC3B9B,EAAM,KAAK,gBAAgB8B,EAAO9B,CAAG,EACrCD,EAAkBC,EAAK,CACnB,WAAY,QACZ,KAAMlC,EAAa,eACnB,QAASqE,EAAM,OACvC,CAAqB,EACD/B,EAAO,MAAO,WAGb+B,EAAM,OAAS,OACf4B,GAAU,KAAKjC,EAAM,IAAI,IAC1B9B,EAAM,KAAK,gBAAgB8B,EAAO9B,CAAG,EACrCD,EAAkBC,EAAK,CACnB,WAAY,OACZ,KAAMlC,EAAa,eACnB,QAASqE,EAAM,OACvC,CAAqB,EACD/B,EAAO,MAAO,WAGb+B,EAAM,OAAS,MACpB,GAAI,CACA,IAAI,IAAIL,EAAM,IAAI,CACtC,MACsB,CACF9B,EAAM,KAAK,gBAAgB8B,EAAO9B,CAAG,EACrCD,EAAkBC,EAAK,CACnB,WAAY,MACZ,KAAMlC,EAAa,eACnB,QAASqE,EAAM,OACvC,CAAqB,EACD/B,EAAO,MAAO,CAClC,MAEqB+B,EAAM,OAAS,SACpBA,EAAM,MAAM,UAAY,EACLA,EAAM,MAAM,KAAKL,EAAM,IAAI,IAE1C9B,EAAM,KAAK,gBAAgB8B,EAAO9B,CAAG,EACrCD,EAAkBC,EAAK,CACnB,WAAY,QACZ,KAAMlC,EAAa,eACnB,QAASqE,EAAM,OACvC,CAAqB,EACD/B,EAAO,MAAO,IAGb+B,EAAM,OAAS,OACpBL,EAAM,KAAOA,EAAM,KAAK,KAAM,EAEzBK,EAAM,OAAS,WACfL,EAAM,KAAK,SAASK,EAAM,MAAOA,EAAM,QAAQ,IAChDnC,EAAM,KAAK,gBAAgB8B,EAAO9B,CAAG,EACrCD,EAAkBC,EAAK,CACnB,KAAMlC,EAAa,eACnB,WAAY,CAAE,SAAUqE,EAAM,MAAO,SAAUA,EAAM,QAAU,EAC/D,QAASA,EAAM,OACvC,CAAqB,EACD/B,EAAO,MAAO,GAGb+B,EAAM,OAAS,cACpBL,EAAM,KAAOA,EAAM,KAAK,YAAa,EAEhCK,EAAM,OAAS,cACpBL,EAAM,KAAOA,EAAM,KAAK,YAAa,EAEhCK,EAAM,OAAS,aACfL,EAAM,KAAK,WAAWK,EAAM,KAAK,IAClCnC,EAAM,KAAK,gBAAgB8B,EAAO9B,CAAG,EACrCD,EAAkBC,EAAK,CACnB,KAAMlC,EAAa,eACnB,WAAY,CAAE,WAAYqE,EAAM,KAAO,EACvC,QAASA,EAAM,OACvC,CAAqB,EACD/B,EAAO,MAAO,GAGb+B,EAAM,OAAS,WACfL,EAAM,KAAK,SAASK,EAAM,KAAK,IAChCnC,EAAM,KAAK,gBAAgB8B,EAAO9B,CAAG,EACrCD,EAAkBC,EAAK,CACnB,KAAMlC,EAAa,eACnB,WAAY,CAAE,SAAUqE,EAAM,KAAO,EACrC,QAASA,EAAM,OACvC,CAAqB,EACD/B,EAAO,MAAO,GAGb+B,EAAM,OAAS,WACNiD,GAAcjD,CAAK,EACtB,KAAKL,EAAM,IAAI,IACtB9B,EAAM,KAAK,gBAAgB8B,EAAO9B,CAAG,EACrCD,EAAkBC,EAAK,CACnB,KAAMlC,EAAa,eACnB,WAAY,WACZ,QAASqE,EAAM,OACvC,CAAqB,EACD/B,EAAO,MAAO,GAGb+B,EAAM,OAAS,OACN2C,GACH,KAAKhD,EAAM,IAAI,IACtB9B,EAAM,KAAK,gBAAgB8B,EAAO9B,CAAG,EACrCD,EAAkBC,EAAK,CACnB,KAAMlC,EAAa,eACnB,WAAY,OACZ,QAASqE,EAAM,OACvC,CAAqB,EACD/B,EAAO,MAAO,GAGb+B,EAAM,OAAS,OACNgD,GAAUhD,CAAK,EAClB,KAAKL,EAAM,IAAI,IACtB9B,EAAM,KAAK,gBAAgB8B,EAAO9B,CAAG,EACrCD,EAAkBC,EAAK,CACnB,KAAMlC,EAAa,eACnB,WAAY,OACZ,QAASqE,EAAM,OACvC,CAAqB,EACD/B,EAAO,MAAO,GAGb+B,EAAM,OAAS,WACfgC,GAAc,KAAKrC,EAAM,IAAI,IAC9B9B,EAAM,KAAK,gBAAgB8B,EAAO9B,CAAG,EACrCD,EAAkBC,EAAK,CACnB,WAAY,WACZ,KAAMlC,EAAa,eACnB,QAASqE,EAAM,OACvC,CAAqB,EACD/B,EAAO,MAAO,GAGb+B,EAAM,OAAS,KACfoD,GAAUzD,EAAM,KAAMK,EAAM,OAAO,IACpCnC,EAAM,KAAK,gBAAgB8B,EAAO9B,CAAG,EACrCD,EAAkBC,EAAK,CACnB,WAAY,KACZ,KAAMlC,EAAa,eACnB,QAASqE,EAAM,OACvC,CAAqB,EACD/B,EAAO,MAAO,GAGb+B,EAAM,OAAS,MACfuD,GAAW5D,EAAM,KAAMK,EAAM,GAAG,IACjCnC,EAAM,KAAK,gBAAgB8B,EAAO9B,CAAG,EACrCD,EAAkBC,EAAK,CACnB,WAAY,MACZ,KAAMlC,EAAa,eACnB,QAASqE,EAAM,OACvC,CAAqB,EACD/B,EAAO,MAAO,GAGb+B,EAAM,OAAS,OACf6D,GAAYlE,EAAM,KAAMK,EAAM,OAAO,IACtCnC,EAAM,KAAK,gBAAgB8B,EAAO9B,CAAG,EACrCD,EAAkBC,EAAK,CACnB,WAAY,OACZ,KAAMlC,EAAa,eACnB,QAASqE,EAAM,OACvC,CAAqB,EACD/B,EAAO,MAAO,GAGb+B,EAAM,OAAS,SACfwC,GAAY,KAAK7C,EAAM,IAAI,IAC5B9B,EAAM,KAAK,gBAAgB8B,EAAO9B,CAAG,EACrCD,EAAkBC,EAAK,CACnB,WAAY,SACZ,KAAMlC,EAAa,eACnB,QAASqE,EAAM,OACvC,CAAqB,EACD/B,EAAO,MAAO,GAGb+B,EAAM,OAAS,YACfyC,GAAe,KAAK9C,EAAM,IAAI,IAC/B9B,EAAM,KAAK,gBAAgB8B,EAAO9B,CAAG,EACrCD,EAAkBC,EAAK,CACnB,WAAY,YACZ,KAAMlC,EAAa,eACnB,QAASqE,EAAM,OACvC,CAAqB,EACD/B,EAAO,MAAO,GAIlBnE,EAAK,YAAYkG,CAAK,EAG9B,MAAO,CAAE,OAAQ/B,EAAO,MAAO,MAAO0B,EAAM,IAAM,CAC1D,CACI,OAAOuD,EAAOe,EAAYpH,EAAS,CAC/B,OAAO,KAAK,WAAYnB,GAASwH,EAAM,KAAKxH,CAAI,EAAG,CAC/C,WAAAuI,EACA,KAAMtI,EAAa,eACnB,GAAGqD,EAAU,SAASnC,CAAO,CACzC,CAAS,CACT,CACI,UAAUmD,EAAO,CACb,OAAO,IAAI8D,GAAU,CACjB,GAAG,KAAK,KACR,OAAQ,CAAC,GAAG,KAAK,KAAK,OAAQ9D,CAAK,CAC/C,CAAS,CACT,CACI,MAAMnD,EAAS,CACX,OAAO,KAAK,UAAU,CAAE,KAAM,QAAS,GAAGmC,EAAU,SAASnC,CAAO,EAAG,CAC/E,CACI,IAAIA,EAAS,CACT,OAAO,KAAK,UAAU,CAAE,KAAM,MAAO,GAAGmC,EAAU,SAASnC,CAAO,EAAG,CAC7E,CACI,MAAMA,EAAS,CACX,OAAO,KAAK,UAAU,CAAE,KAAM,QAAS,GAAGmC,EAAU,SAASnC,CAAO,EAAG,CAC/E,CACI,KAAKA,EAAS,CACV,OAAO,KAAK,UAAU,CAAE,KAAM,OAAQ,GAAGmC,EAAU,SAASnC,CAAO,EAAG,CAC9E,CACI,OAAOA,EAAS,CACZ,OAAO,KAAK,UAAU,CAAE,KAAM,SAAU,GAAGmC,EAAU,SAASnC,CAAO,EAAG,CAChF,CACI,KAAKA,EAAS,CACV,OAAO,KAAK,UAAU,CAAE,KAAM,OAAQ,GAAGmC,EAAU,SAASnC,CAAO,EAAG,CAC9E,CACI,MAAMA,EAAS,CACX,OAAO,KAAK,UAAU,CAAE,KAAM,QAAS,GAAGmC,EAAU,SAASnC,CAAO,EAAG,CAC/E,CACI,KAAKA,EAAS,CACV,OAAO,KAAK,UAAU,CAAE,KAAM,OAAQ,GAAGmC,EAAU,SAASnC,CAAO,EAAG,CAC9E,CACI,OAAOA,EAAS,CACZ,OAAO,KAAK,UAAU,CAAE,KAAM,SAAU,GAAGmC,EAAU,SAASnC,CAAO,EAAG,CAChF,CACI,UAAUA,EAAS,CAEf,OAAO,KAAK,UAAU,CAClB,KAAM,YACN,GAAGmC,EAAU,SAASnC,CAAO,CACzC,CAAS,CACT,CACI,IAAIqH,EAAS,CACT,OAAO,KAAK,UAAU,CAAE,KAAM,MAAO,GAAGlF,EAAU,SAASkF,CAAO,EAAG,CAC7E,CACI,GAAGA,EAAS,CACR,OAAO,KAAK,UAAU,CAAE,KAAM,KAAM,GAAGlF,EAAU,SAASkF,CAAO,EAAG,CAC5E,CACI,KAAKA,EAAS,CACV,OAAO,KAAK,UAAU,CAAE,KAAM,OAAQ,GAAGlF,EAAU,SAASkF,CAAO,EAAG,CAC9E,CACI,SAASA,EAAS,CACd,OAAI,OAAOA,GAAY,SACZ,KAAK,UAAU,CAClB,KAAM,WACN,UAAW,KACX,OAAQ,GACR,MAAO,GACP,QAASA,CACzB,CAAa,EAEE,KAAK,UAAU,CAClB,KAAM,WACN,UAAW,OAAOA,GAAA,YAAAA,EAAS,WAAc,IAAc,KAAOA,GAAA,YAAAA,EAAS,UACvE,QAAQA,GAAA,YAAAA,EAAS,SAAU,GAC3B,OAAOA,GAAA,YAAAA,EAAS,QAAS,GACzB,GAAGlF,EAAU,SAASkF,GAAA,YAAAA,EAAS,OAAO,CAClD,CAAS,CACT,CACI,KAAKrH,EAAS,CACV,OAAO,KAAK,UAAU,CAAE,KAAM,OAAQ,QAAAA,CAAO,CAAE,CACvD,CACI,KAAKqH,EAAS,CACV,OAAI,OAAOA,GAAY,SACZ,KAAK,UAAU,CAClB,KAAM,OACN,UAAW,KACX,QAASA,CACzB,CAAa,EAEE,KAAK,UAAU,CAClB,KAAM,OACN,UAAW,OAAOA,GAAA,YAAAA,EAAS,WAAc,IAAc,KAAOA,GAAA,YAAAA,EAAS,UACvE,GAAGlF,EAAU,SAASkF,GAAA,YAAAA,EAAS,OAAO,CAClD,CAAS,CACT,CACI,SAASrH,EAAS,CACd,OAAO,KAAK,UAAU,CAAE,KAAM,WAAY,GAAGmC,EAAU,SAASnC,CAAO,EAAG,CAClF,CACI,MAAMqG,EAAOrG,EAAS,CAClB,OAAO,KAAK,UAAU,CAClB,KAAM,QACN,MAAOqG,EACP,GAAGlE,EAAU,SAASnC,CAAO,CACzC,CAAS,CACT,CACI,SAASzB,EAAO8I,EAAS,CACrB,OAAO,KAAK,UAAU,CAClB,KAAM,WACN,MAAO9I,EACP,SAAU8I,GAAA,YAAAA,EAAS,SACnB,GAAGlF,EAAU,SAASkF,GAAA,YAAAA,EAAS,OAAO,CAClD,CAAS,CACT,CACI,WAAW9I,EAAOyB,EAAS,CACvB,OAAO,KAAK,UAAU,CAClB,KAAM,aACN,MAAOzB,EACP,GAAG4D,EAAU,SAASnC,CAAO,CACzC,CAAS,CACT,CACI,SAASzB,EAAOyB,EAAS,CACrB,OAAO,KAAK,UAAU,CAClB,KAAM,WACN,MAAOzB,EACP,GAAG4D,EAAU,SAASnC,CAAO,CACzC,CAAS,CACT,CACI,IAAIsH,EAAWtH,EAAS,CACpB,OAAO,KAAK,UAAU,CAClB,KAAM,MACN,MAAOsH,EACP,GAAGnF,EAAU,SAASnC,CAAO,CACzC,CAAS,CACT,CACI,IAAIuH,EAAWvH,EAAS,CACpB,OAAO,KAAK,UAAU,CAClB,KAAM,MACN,MAAOuH,EACP,GAAGpF,EAAU,SAASnC,CAAO,CACzC,CAAS,CACT,CACI,OAAOwH,EAAKxH,EAAS,CACjB,OAAO,KAAK,UAAU,CAClB,KAAM,SACN,MAAOwH,EACP,GAAGrF,EAAU,SAASnC,CAAO,CACzC,CAAS,CACT,CAII,SAASA,EAAS,CACd,OAAO,KAAK,IAAI,EAAGmC,EAAU,SAASnC,CAAO,CAAC,CACtD,CACI,MAAO,CACH,OAAO,IAAIiH,GAAU,CACjB,GAAG,KAAK,KACR,OAAQ,CAAC,GAAG,KAAK,KAAK,OAAQ,CAAE,KAAM,OAAQ,CAC1D,CAAS,CACT,CACI,aAAc,CACV,OAAO,IAAIA,GAAU,CACjB,GAAG,KAAK,KACR,OAAQ,CAAC,GAAG,KAAK,KAAK,OAAQ,CAAE,KAAM,cAAe,CACjE,CAAS,CACT,CACI,aAAc,CACV,OAAO,IAAIA,GAAU,CACjB,GAAG,KAAK,KACR,OAAQ,CAAC,GAAG,KAAK,KAAK,OAAQ,CAAE,KAAM,cAAe,CACjE,CAAS,CACT,CACI,IAAI,YAAa,CACb,MAAO,CAAC,CAAC,KAAK,KAAK,OAAO,KAAMQ,GAAOA,EAAG,OAAS,UAAU,CACrE,CACI,IAAI,QAAS,CACT,MAAO,CAAC,CAAC,KAAK,KAAK,OAAO,KAAMA,GAAOA,EAAG,OAAS,MAAM,CACjE,CACI,IAAI,QAAS,CACT,MAAO,CAAC,CAAC,KAAK,KAAK,OAAO,KAAMA,GAAOA,EAAG,OAAS,MAAM,CACjE,CACI,IAAI,YAAa,CACb,MAAO,CAAC,CAAC,KAAK,KAAK,OAAO,KAAMA,GAAOA,EAAG,OAAS,UAAU,CACrE,CACI,IAAI,SAAU,CACV,MAAO,CAAC,CAAC,KAAK,KAAK,OAAO,KAAMA,GAAOA,EAAG,OAAS,OAAO,CAClE,CACI,IAAI,OAAQ,CACR,MAAO,CAAC,CAAC,KAAK,KAAK,OAAO,KAAMA,GAAOA,EAAG,OAAS,KAAK,CAChE,CACI,IAAI,SAAU,CACV,MAAO,CAAC,CAAC,KAAK,KAAK,OAAO,KAAMA,GAAOA,EAAG,OAAS,OAAO,CAClE,CACI,IAAI,QAAS,CACT,MAAO,CAAC,CAAC,KAAK,KAAK,OAAO,KAAMA,GAAOA,EAAG,OAAS,MAAM,CACjE,CACI,IAAI,UAAW,CACX,MAAO,CAAC,CAAC,KAAK,KAAK,OAAO,KAAMA,GAAOA,EAAG,OAAS,QAAQ,CACnE,CACI,IAAI,QAAS,CACT,MAAO,CAAC,CAAC,KAAK,KAAK,OAAO,KAAMA,GAAOA,EAAG,OAAS,MAAM,CACjE,CACI,IAAI,SAAU,CACV,MAAO,CAAC,CAAC,KAAK,KAAK,OAAO,KAAMA,GAAOA,EAAG,OAAS,OAAO,CAClE,CACI,IAAI,QAAS,CACT,MAAO,CAAC,CAAC,KAAK,KAAK,OAAO,KAAMA,GAAOA,EAAG,OAAS,MAAM,CACjE,CACI,IAAI,MAAO,CACP,MAAO,CAAC,CAAC,KAAK,KAAK,OAAO,KAAMA,GAAOA,EAAG,OAAS,IAAI,CAC/D,CACI,IAAI,QAAS,CACT,MAAO,CAAC,CAAC,KAAK,KAAK,OAAO,KAAMA,GAAOA,EAAG,OAAS,MAAM,CACjE,CACI,IAAI,UAAW,CACX,MAAO,CAAC,CAAC,KAAK,KAAK,OAAO,KAAMA,GAAOA,EAAG,OAAS,QAAQ,CACnE,CACI,IAAI,aAAc,CAEd,MAAO,CAAC,CAAC,KAAK,KAAK,OAAO,KAAMA,GAAOA,EAAG,OAAS,WAAW,CACtE,CACI,IAAI,WAAY,CACZ,IAAIC,EAAM,KACV,UAAWD,KAAM,KAAK,KAAK,OACnBA,EAAG,OAAS,QACRC,IAAQ,MAAQD,EAAG,MAAQC,KAC3BA,EAAMD,EAAG,OAGrB,OAAOC,CACf,CACI,IAAI,WAAY,CACZ,IAAIC,EAAM,KACV,UAAWF,KAAM,KAAK,KAAK,OACnBA,EAAG,OAAS,QACRE,IAAQ,MAAQF,EAAG,MAAQE,KAC3BA,EAAMF,EAAG,OAGrB,OAAOE,CACf,CACA,CACAV,GAAU,OAAU5G,GACT,IAAI4G,GAAU,CACjB,OAAQ,CAAE,EACV,SAAUxD,EAAsB,UAChC,QAAQpD,GAAA,YAAAA,EAAQ,SAAU,GAC1B,GAAGmC,EAAoBnC,CAAM,CACrC,CAAK,EAGL,SAASuH,GAAmBzJ,EAAK0J,EAAM,CACnC,MAAMC,GAAe3J,EAAI,SAAU,EAAC,MAAM,GAAG,EAAE,CAAC,GAAK,IAAI,OACnD4J,GAAgBF,EAAK,SAAU,EAAC,MAAM,GAAG,EAAE,CAAC,GAAK,IAAI,OACrDG,EAAWF,EAAcC,EAAeD,EAAcC,EACtDE,EAAS,OAAO,SAAS9J,EAAI,QAAQ6J,CAAQ,EAAE,QAAQ,IAAK,EAAE,CAAC,EAC/DE,EAAU,OAAO,SAASL,EAAK,QAAQG,CAAQ,EAAE,QAAQ,IAAK,EAAE,CAAC,EACvE,OAAQC,EAASC,EAAW,IAAMF,CACtC,CACO,MAAMG,WAAkBtF,CAAQ,CACnC,aAAc,CACV,MAAM,GAAG,SAAS,EAClB,KAAK,IAAM,KAAK,IAChB,KAAK,IAAM,KAAK,IAChB,KAAK,KAAO,KAAK,UACzB,CACI,OAAOC,EAAO,CAKV,GAJI,KAAK,KAAK,SACVA,EAAM,KAAO,OAAOA,EAAM,IAAI,GAEf,KAAK,SAASA,CAAK,IACnBnE,EAAc,OAAQ,CACrC,MAAMqC,EAAM,KAAK,gBAAgB8B,CAAK,EACtC,OAAA/B,EAAkBC,EAAK,CACnB,KAAMlC,EAAa,aACnB,SAAUH,EAAc,OACxB,SAAUqC,EAAI,UAC9B,CAAa,EACMQ,CACnB,CACQ,IAAIR,EACJ,MAAMI,EAAS,IAAID,GACnB,UAAWgC,KAAS,KAAK,KAAK,OACtBA,EAAM,OAAS,MACVlG,EAAK,UAAU6F,EAAM,IAAI,IAC1B9B,EAAM,KAAK,gBAAgB8B,EAAO9B,CAAG,EACrCD,EAAkBC,EAAK,CACnB,KAAMlC,EAAa,aACnB,SAAU,UACV,SAAU,QACV,QAASqE,EAAM,OACvC,CAAqB,EACD/B,EAAO,MAAO,GAGb+B,EAAM,OAAS,OACHA,EAAM,UAAYL,EAAM,KAAOK,EAAM,MAAQL,EAAM,MAAQK,EAAM,SAE9EnC,EAAM,KAAK,gBAAgB8B,EAAO9B,CAAG,EACrCD,EAAkBC,EAAK,CACnB,KAAMlC,EAAa,UACnB,QAASqE,EAAM,MACf,KAAM,SACN,UAAWA,EAAM,UACjB,MAAO,GACP,QAASA,EAAM,OACvC,CAAqB,EACD/B,EAAO,MAAO,GAGb+B,EAAM,OAAS,OACLA,EAAM,UAAYL,EAAM,KAAOK,EAAM,MAAQL,EAAM,MAAQK,EAAM,SAE5EnC,EAAM,KAAK,gBAAgB8B,EAAO9B,CAAG,EACrCD,EAAkBC,EAAK,CACnB,KAAMlC,EAAa,QACnB,QAASqE,EAAM,MACf,KAAM,SACN,UAAWA,EAAM,UACjB,MAAO,GACP,QAASA,EAAM,OACvC,CAAqB,EACD/B,EAAO,MAAO,GAGb+B,EAAM,OAAS,aAChByE,GAAmB9E,EAAM,KAAMK,EAAM,KAAK,IAAM,IAChDnC,EAAM,KAAK,gBAAgB8B,EAAO9B,CAAG,EACrCD,EAAkBC,EAAK,CACnB,KAAMlC,EAAa,gBACnB,WAAYqE,EAAM,MAClB,QAASA,EAAM,OACvC,CAAqB,EACD/B,EAAO,MAAO,GAGb+B,EAAM,OAAS,SACf,OAAO,SAASL,EAAM,IAAI,IAC3B9B,EAAM,KAAK,gBAAgB8B,EAAO9B,CAAG,EACrCD,EAAkBC,EAAK,CACnB,KAAMlC,EAAa,WACnB,QAASqE,EAAM,OACvC,CAAqB,EACD/B,EAAO,MAAO,GAIlBnE,EAAK,YAAYkG,CAAK,EAG9B,MAAO,CAAE,OAAQ/B,EAAO,MAAO,MAAO0B,EAAM,IAAM,CAC1D,CACI,IAAIvE,EAAOyB,EAAS,CAChB,OAAO,KAAK,SAAS,MAAOzB,EAAO,GAAM4D,EAAU,SAASnC,CAAO,CAAC,CAC5E,CACI,GAAGzB,EAAOyB,EAAS,CACf,OAAO,KAAK,SAAS,MAAOzB,EAAO,GAAO4D,EAAU,SAASnC,CAAO,CAAC,CAC7E,CACI,IAAIzB,EAAOyB,EAAS,CAChB,OAAO,KAAK,SAAS,MAAOzB,EAAO,GAAM4D,EAAU,SAASnC,CAAO,CAAC,CAC5E,CACI,GAAGzB,EAAOyB,EAAS,CACf,OAAO,KAAK,SAAS,MAAOzB,EAAO,GAAO4D,EAAU,SAASnC,CAAO,CAAC,CAC7E,CACI,SAASoI,EAAM7J,EAAO8J,EAAWrI,EAAS,CACtC,OAAO,IAAImI,GAAU,CACjB,GAAG,KAAK,KACR,OAAQ,CACJ,GAAG,KAAK,KAAK,OACb,CACI,KAAAC,EACA,MAAA7J,EACA,UAAA8J,EACA,QAASlG,EAAU,SAASnC,CAAO,CACtC,CACJ,CACb,CAAS,CACT,CACI,UAAUmD,EAAO,CACb,OAAO,IAAIgF,GAAU,CACjB,GAAG,KAAK,KACR,OAAQ,CAAC,GAAG,KAAK,KAAK,OAAQhF,CAAK,CAC/C,CAAS,CACT,CACI,IAAInD,EAAS,CACT,OAAO,KAAK,UAAU,CAClB,KAAM,MACN,QAASmC,EAAU,SAASnC,CAAO,CAC/C,CAAS,CACT,CACI,SAASA,EAAS,CACd,OAAO,KAAK,UAAU,CAClB,KAAM,MACN,MAAO,EACP,UAAW,GACX,QAASmC,EAAU,SAASnC,CAAO,CAC/C,CAAS,CACT,CACI,SAASA,EAAS,CACd,OAAO,KAAK,UAAU,CAClB,KAAM,MACN,MAAO,EACP,UAAW,GACX,QAASmC,EAAU,SAASnC,CAAO,CAC/C,CAAS,CACT,CACI,YAAYA,EAAS,CACjB,OAAO,KAAK,UAAU,CAClB,KAAM,MACN,MAAO,EACP,UAAW,GACX,QAASmC,EAAU,SAASnC,CAAO,CAC/C,CAAS,CACT,CACI,YAAYA,EAAS,CACjB,OAAO,KAAK,UAAU,CAClB,KAAM,MACN,MAAO,EACP,UAAW,GACX,QAASmC,EAAU,SAASnC,CAAO,CAC/C,CAAS,CACT,CACI,WAAWzB,EAAOyB,EAAS,CACvB,OAAO,KAAK,UAAU,CAClB,KAAM,aACN,MAAOzB,EACP,QAAS4D,EAAU,SAASnC,CAAO,CAC/C,CAAS,CACT,CACI,OAAOA,EAAS,CACZ,OAAO,KAAK,UAAU,CAClB,KAAM,SACN,QAASmC,EAAU,SAASnC,CAAO,CAC/C,CAAS,CACT,CACI,KAAKA,EAAS,CACV,OAAO,KAAK,UAAU,CAClB,KAAM,MACN,UAAW,GACX,MAAO,OAAO,iBACd,QAASmC,EAAU,SAASnC,CAAO,CACtC,CAAA,EAAE,UAAU,CACT,KAAM,MACN,UAAW,GACX,MAAO,OAAO,iBACd,QAASmC,EAAU,SAASnC,CAAO,CAC/C,CAAS,CACT,CACI,IAAI,UAAW,CACX,IAAI0H,EAAM,KACV,UAAWD,KAAM,KAAK,KAAK,OACnBA,EAAG,OAAS,QACRC,IAAQ,MAAQD,EAAG,MAAQC,KAC3BA,EAAMD,EAAG,OAGrB,OAAOC,CACf,CACI,IAAI,UAAW,CACX,IAAIC,EAAM,KACV,UAAWF,KAAM,KAAK,KAAK,OACnBA,EAAG,OAAS,QACRE,IAAQ,MAAQF,EAAG,MAAQE,KAC3BA,EAAMF,EAAG,OAGrB,OAAOE,CACf,CACI,IAAI,OAAQ,CACR,MAAO,CAAC,CAAC,KAAK,KAAK,OAAO,KAAMF,GAAOA,EAAG,OAAS,OAAUA,EAAG,OAAS,cAAgBxK,EAAK,UAAUwK,EAAG,KAAK,CAAE,CAC1H,CACI,IAAI,UAAW,CACX,IAAIE,EAAM,KACND,EAAM,KACV,UAAWD,KAAM,KAAK,KAAK,OAAQ,CAC/B,GAAIA,EAAG,OAAS,UAAYA,EAAG,OAAS,OAASA,EAAG,OAAS,aACzD,MAAO,GAEFA,EAAG,OAAS,OACbC,IAAQ,MAAQD,EAAG,MAAQC,KAC3BA,EAAMD,EAAG,OAERA,EAAG,OAAS,QACbE,IAAQ,MAAQF,EAAG,MAAQE,KAC3BA,EAAMF,EAAG,MAE7B,CACQ,OAAO,OAAO,SAASC,CAAG,GAAK,OAAO,SAASC,CAAG,CAC1D,CACA,CACAQ,GAAU,OAAU9H,GACT,IAAI8H,GAAU,CACjB,OAAQ,CAAE,EACV,SAAU1E,EAAsB,UAChC,QAAQpD,GAAA,YAAAA,EAAQ,SAAU,GAC1B,GAAGmC,EAAoBnC,CAAM,CACrC,CAAK,EAEE,MAAMiI,WAAkBzF,CAAQ,CACnC,aAAc,CACV,MAAM,GAAG,SAAS,EAClB,KAAK,IAAM,KAAK,IAChB,KAAK,IAAM,KAAK,GACxB,CACI,OAAOC,EAAO,CACV,GAAI,KAAK,KAAK,OACV,GAAI,CACAA,EAAM,KAAO,OAAOA,EAAM,IAAI,CAC9C,MACkB,CACF,OAAO,KAAK,iBAAiBA,CAAK,CAClD,CAGQ,GADmB,KAAK,SAASA,CAAK,IACnBnE,EAAc,OAC7B,OAAO,KAAK,iBAAiBmE,CAAK,EAEtC,IAAI9B,EACJ,MAAMI,EAAS,IAAID,GACnB,UAAWgC,KAAS,KAAK,KAAK,OACtBA,EAAM,OAAS,OACEA,EAAM,UAAYL,EAAM,KAAOK,EAAM,MAAQL,EAAM,MAAQK,EAAM,SAE9EnC,EAAM,KAAK,gBAAgB8B,EAAO9B,CAAG,EACrCD,EAAkBC,EAAK,CACnB,KAAMlC,EAAa,UACnB,KAAM,SACN,QAASqE,EAAM,MACf,UAAWA,EAAM,UACjB,QAASA,EAAM,OACvC,CAAqB,EACD/B,EAAO,MAAO,GAGb+B,EAAM,OAAS,OACLA,EAAM,UAAYL,EAAM,KAAOK,EAAM,MAAQL,EAAM,MAAQK,EAAM,SAE5EnC,EAAM,KAAK,gBAAgB8B,EAAO9B,CAAG,EACrCD,EAAkBC,EAAK,CACnB,KAAMlC,EAAa,QACnB,KAAM,SACN,QAASqE,EAAM,MACf,UAAWA,EAAM,UACjB,QAASA,EAAM,OACvC,CAAqB,EACD/B,EAAO,MAAO,GAGb+B,EAAM,OAAS,aAChBL,EAAM,KAAOK,EAAM,QAAU,OAAO,CAAC,IACrCnC,EAAM,KAAK,gBAAgB8B,EAAO9B,CAAG,EACrCD,EAAkBC,EAAK,CACnB,KAAMlC,EAAa,gBACnB,WAAYqE,EAAM,MAClB,QAASA,EAAM,OACvC,CAAqB,EACD/B,EAAO,MAAO,GAIlBnE,EAAK,YAAYkG,CAAK,EAG9B,MAAO,CAAE,OAAQ/B,EAAO,MAAO,MAAO0B,EAAM,IAAM,CAC1D,CACI,iBAAiBA,EAAO,CACpB,MAAM9B,EAAM,KAAK,gBAAgB8B,CAAK,EACtC,OAAA/B,EAAkBC,EAAK,CACnB,KAAMlC,EAAa,aACnB,SAAUH,EAAc,OACxB,SAAUqC,EAAI,UAC1B,CAAS,EACMQ,CACf,CACI,IAAIjD,EAAOyB,EAAS,CAChB,OAAO,KAAK,SAAS,MAAOzB,EAAO,GAAM4D,EAAU,SAASnC,CAAO,CAAC,CAC5E,CACI,GAAGzB,EAAOyB,EAAS,CACf,OAAO,KAAK,SAAS,MAAOzB,EAAO,GAAO4D,EAAU,SAASnC,CAAO,CAAC,CAC7E,CACI,IAAIzB,EAAOyB,EAAS,CAChB,OAAO,KAAK,SAAS,MAAOzB,EAAO,GAAM4D,EAAU,SAASnC,CAAO,CAAC,CAC5E,CACI,GAAGzB,EAAOyB,EAAS,CACf,OAAO,KAAK,SAAS,MAAOzB,EAAO,GAAO4D,EAAU,SAASnC,CAAO,CAAC,CAC7E,CACI,SAASoI,EAAM7J,EAAO8J,EAAWrI,EAAS,CACtC,OAAO,IAAIsI,GAAU,CACjB,GAAG,KAAK,KACR,OAAQ,CACJ,GAAG,KAAK,KAAK,OACb,CACI,KAAAF,EACA,MAAA7J,EACA,UAAA8J,EACA,QAASlG,EAAU,SAASnC,CAAO,CACtC,CACJ,CACb,CAAS,CACT,CACI,UAAUmD,EAAO,CACb,OAAO,IAAImF,GAAU,CACjB,GAAG,KAAK,KACR,OAAQ,CAAC,GAAG,KAAK,KAAK,OAAQnF,CAAK,CAC/C,CAAS,CACT,CACI,SAASnD,EAAS,CACd,OAAO,KAAK,UAAU,CAClB,KAAM,MACN,MAAO,OAAO,CAAC,EACf,UAAW,GACX,QAASmC,EAAU,SAASnC,CAAO,CAC/C,CAAS,CACT,CACI,SAASA,EAAS,CACd,OAAO,KAAK,UAAU,CAClB,KAAM,MACN,MAAO,OAAO,CAAC,EACf,UAAW,GACX,QAASmC,EAAU,SAASnC,CAAO,CAC/C,CAAS,CACT,CACI,YAAYA,EAAS,CACjB,OAAO,KAAK,UAAU,CAClB,KAAM,MACN,MAAO,OAAO,CAAC,EACf,UAAW,GACX,QAASmC,EAAU,SAASnC,CAAO,CAC/C,CAAS,CACT,CACI,YAAYA,EAAS,CACjB,OAAO,KAAK,UAAU,CAClB,KAAM,MACN,MAAO,OAAO,CAAC,EACf,UAAW,GACX,QAASmC,EAAU,SAASnC,CAAO,CAC/C,CAAS,CACT,CACI,WAAWzB,EAAOyB,EAAS,CACvB,OAAO,KAAK,UAAU,CAClB,KAAM,aACN,MAAAzB,EACA,QAAS4D,EAAU,SAASnC,CAAO,CAC/C,CAAS,CACT,CACI,IAAI,UAAW,CACX,IAAI0H,EAAM,KACV,UAAWD,KAAM,KAAK,KAAK,OACnBA,EAAG,OAAS,QACRC,IAAQ,MAAQD,EAAG,MAAQC,KAC3BA,EAAMD,EAAG,OAGrB,OAAOC,CACf,CACI,IAAI,UAAW,CACX,IAAIC,EAAM,KACV,UAAWF,KAAM,KAAK,KAAK,OACnBA,EAAG,OAAS,QACRE,IAAQ,MAAQF,EAAG,MAAQE,KAC3BA,EAAMF,EAAG,OAGrB,OAAOE,CACf,CACA,CACAW,GAAU,OAAUjI,GACT,IAAIiI,GAAU,CACjB,OAAQ,CAAE,EACV,SAAU7E,EAAsB,UAChC,QAAQpD,GAAA,YAAAA,EAAQ,SAAU,GAC1B,GAAGmC,EAAoBnC,CAAM,CACrC,CAAK,EAEE,MAAMkI,WAAmB1F,CAAQ,CACpC,OAAOC,EAAO,CAKV,GAJI,KAAK,KAAK,SACVA,EAAM,KAAO,EAAQA,EAAM,MAEZ,KAAK,SAASA,CAAK,IACnBnE,EAAc,QAAS,CACtC,MAAMqC,EAAM,KAAK,gBAAgB8B,CAAK,EACtC,OAAA/B,EAAkBC,EAAK,CACnB,KAAMlC,EAAa,aACnB,SAAUH,EAAc,QACxB,SAAUqC,EAAI,UAC9B,CAAa,EACMQ,CACnB,CACQ,OAAOM,GAAGgB,EAAM,IAAI,CAC5B,CACA,CACAyF,GAAW,OAAUlI,GACV,IAAIkI,GAAW,CAClB,SAAU9E,EAAsB,WAChC,QAAQpD,GAAA,YAAAA,EAAQ,SAAU,GAC1B,GAAGmC,EAAoBnC,CAAM,CACrC,CAAK,EAEE,MAAMmI,WAAgB3F,CAAQ,CACjC,OAAOC,EAAO,CAKV,GAJI,KAAK,KAAK,SACVA,EAAM,KAAO,IAAI,KAAKA,EAAM,IAAI,GAEjB,KAAK,SAASA,CAAK,IACnBnE,EAAc,KAAM,CACnC,MAAMqC,EAAM,KAAK,gBAAgB8B,CAAK,EACtC,OAAA/B,EAAkBC,EAAK,CACnB,KAAMlC,EAAa,aACnB,SAAUH,EAAc,KACxB,SAAUqC,EAAI,UAC9B,CAAa,EACMQ,CACnB,CACQ,GAAI,OAAO,MAAMsB,EAAM,KAAK,QAAS,CAAA,EAAG,CACpC,MAAM9B,EAAM,KAAK,gBAAgB8B,CAAK,EACtC,OAAA/B,EAAkBC,EAAK,CACnB,KAAMlC,EAAa,YACnC,CAAa,EACM0C,CACnB,CACQ,MAAMJ,EAAS,IAAID,GACnB,IAAIH,EACJ,UAAWmC,KAAS,KAAK,KAAK,OACtBA,EAAM,OAAS,MACXL,EAAM,KAAK,QAAO,EAAKK,EAAM,QAC7BnC,EAAM,KAAK,gBAAgB8B,EAAO9B,CAAG,EACrCD,EAAkBC,EAAK,CACnB,KAAMlC,EAAa,UACnB,QAASqE,EAAM,QACf,UAAW,GACX,MAAO,GACP,QAASA,EAAM,MACf,KAAM,MAC9B,CAAqB,EACD/B,EAAO,MAAO,GAGb+B,EAAM,OAAS,MAChBL,EAAM,KAAK,QAAO,EAAKK,EAAM,QAC7BnC,EAAM,KAAK,gBAAgB8B,EAAO9B,CAAG,EACrCD,EAAkBC,EAAK,CACnB,KAAMlC,EAAa,QACnB,QAASqE,EAAM,QACf,UAAW,GACX,MAAO,GACP,QAASA,EAAM,MACf,KAAM,MAC9B,CAAqB,EACD/B,EAAO,MAAO,GAIlBnE,EAAK,YAAYkG,CAAK,EAG9B,MAAO,CACH,OAAQ/B,EAAO,MACf,MAAO,IAAI,KAAK0B,EAAM,KAAK,QAAO,CAAE,CACvC,CACT,CACI,UAAUK,EAAO,CACb,OAAO,IAAIqF,GAAQ,CACf,GAAG,KAAK,KACR,OAAQ,CAAC,GAAG,KAAK,KAAK,OAAQrF,CAAK,CAC/C,CAAS,CACT,CACI,IAAIsF,EAASzI,EAAS,CAClB,OAAO,KAAK,UAAU,CAClB,KAAM,MACN,MAAOyI,EAAQ,QAAS,EACxB,QAAStG,EAAU,SAASnC,CAAO,CAC/C,CAAS,CACT,CACI,IAAI0I,EAAS1I,EAAS,CAClB,OAAO,KAAK,UAAU,CAClB,KAAM,MACN,MAAO0I,EAAQ,QAAS,EACxB,QAASvG,EAAU,SAASnC,CAAO,CAC/C,CAAS,CACT,CACI,IAAI,SAAU,CACV,IAAI0H,EAAM,KACV,UAAWD,KAAM,KAAK,KAAK,OACnBA,EAAG,OAAS,QACRC,IAAQ,MAAQD,EAAG,MAAQC,KAC3BA,EAAMD,EAAG,OAGrB,OAAOC,GAAO,KAAO,IAAI,KAAKA,CAAG,EAAI,IAC7C,CACI,IAAI,SAAU,CACV,IAAIC,EAAM,KACV,UAAWF,KAAM,KAAK,KAAK,OACnBA,EAAG,OAAS,QACRE,IAAQ,MAAQF,EAAG,MAAQE,KAC3BA,EAAMF,EAAG,OAGrB,OAAOE,GAAO,KAAO,IAAI,KAAKA,CAAG,EAAI,IAC7C,CACA,CACAa,GAAQ,OAAUnI,GACP,IAAImI,GAAQ,CACf,OAAQ,CAAE,EACV,QAAQnI,GAAA,YAAAA,EAAQ,SAAU,GAC1B,SAAUoD,EAAsB,QAChC,GAAGjB,EAAoBnC,CAAM,CACrC,CAAK,EAEE,MAAMsI,WAAkB9F,CAAQ,CACnC,OAAOC,EAAO,CAEV,GADmB,KAAK,SAASA,CAAK,IACnBnE,EAAc,OAAQ,CACrC,MAAMqC,EAAM,KAAK,gBAAgB8B,CAAK,EACtC,OAAA/B,EAAkBC,EAAK,CACnB,KAAMlC,EAAa,aACnB,SAAUH,EAAc,OACxB,SAAUqC,EAAI,UAC9B,CAAa,EACMQ,CACnB,CACQ,OAAOM,GAAGgB,EAAM,IAAI,CAC5B,CACA,CACA6F,GAAU,OAAUtI,GACT,IAAIsI,GAAU,CACjB,SAAUlF,EAAsB,UAChC,GAAGjB,EAAoBnC,CAAM,CACrC,CAAK,EAEE,MAAMuI,WAAqB/F,CAAQ,CACtC,OAAOC,EAAO,CAEV,GADmB,KAAK,SAASA,CAAK,IACnBnE,EAAc,UAAW,CACxC,MAAMqC,EAAM,KAAK,gBAAgB8B,CAAK,EACtC,OAAA/B,EAAkBC,EAAK,CACnB,KAAMlC,EAAa,aACnB,SAAUH,EAAc,UACxB,SAAUqC,EAAI,UAC9B,CAAa,EACMQ,CACnB,CACQ,OAAOM,GAAGgB,EAAM,IAAI,CAC5B,CACA,CACA8F,GAAa,OAAUvI,GACZ,IAAIuI,GAAa,CACpB,SAAUnF,EAAsB,aAChC,GAAGjB,EAAoBnC,CAAM,CACrC,CAAK,EAEE,MAAMwI,WAAgBhG,CAAQ,CACjC,OAAOC,EAAO,CAEV,GADmB,KAAK,SAASA,CAAK,IACnBnE,EAAc,KAAM,CACnC,MAAMqC,EAAM,KAAK,gBAAgB8B,CAAK,EACtC,OAAA/B,EAAkBC,EAAK,CACnB,KAAMlC,EAAa,aACnB,SAAUH,EAAc,KACxB,SAAUqC,EAAI,UAC9B,CAAa,EACMQ,CACnB,CACQ,OAAOM,GAAGgB,EAAM,IAAI,CAC5B,CACA,CACA+F,GAAQ,OAAUxI,GACP,IAAIwI,GAAQ,CACf,SAAUpF,EAAsB,QAChC,GAAGjB,EAAoBnC,CAAM,CACrC,CAAK,EAEE,MAAMyI,WAAejG,CAAQ,CAChC,aAAc,CACV,MAAM,GAAG,SAAS,EAElB,KAAK,KAAO,EACpB,CACI,OAAOC,EAAO,CACV,OAAOhB,GAAGgB,EAAM,IAAI,CAC5B,CACA,CACAgG,GAAO,OAAUzI,GACN,IAAIyI,GAAO,CACd,SAAUrF,EAAsB,OAChC,GAAGjB,EAAoBnC,CAAM,CACrC,CAAK,EAEE,MAAM0I,WAAmBlG,CAAQ,CACpC,aAAc,CACV,MAAM,GAAG,SAAS,EAElB,KAAK,SAAW,EACxB,CACI,OAAOC,EAAO,CACV,OAAOhB,GAAGgB,EAAM,IAAI,CAC5B,CACA,CACAiG,GAAW,OAAU1I,GACV,IAAI0I,GAAW,CAClB,SAAUtF,EAAsB,WAChC,GAAGjB,EAAoBnC,CAAM,CACrC,CAAK,EAEE,MAAM2I,WAAiBnG,CAAQ,CAClC,OAAOC,EAAO,CACV,MAAM9B,EAAM,KAAK,gBAAgB8B,CAAK,EACtC,OAAA/B,EAAkBC,EAAK,CACnB,KAAMlC,EAAa,aACnB,SAAUH,EAAc,MACxB,SAAUqC,EAAI,UAC1B,CAAS,EACMQ,CACf,CACA,CACAwH,GAAS,OAAU3I,GACR,IAAI2I,GAAS,CAChB,SAAUvF,EAAsB,SAChC,GAAGjB,EAAoBnC,CAAM,CACrC,CAAK,EAEE,MAAM4I,WAAgBpG,CAAQ,CACjC,OAAOC,EAAO,CAEV,GADmB,KAAK,SAASA,CAAK,IACnBnE,EAAc,UAAW,CACxC,MAAMqC,EAAM,KAAK,gBAAgB8B,CAAK,EACtC,OAAA/B,EAAkBC,EAAK,CACnB,KAAMlC,EAAa,aACnB,SAAUH,EAAc,KACxB,SAAUqC,EAAI,UAC9B,CAAa,EACMQ,CACnB,CACQ,OAAOM,GAAGgB,EAAM,IAAI,CAC5B,CACA,CACAmG,GAAQ,OAAU5I,GACP,IAAI4I,GAAQ,CACf,SAAUxF,EAAsB,QAChC,GAAGjB,EAAoBnC,CAAM,CACrC,CAAK,EAEE,MAAMwD,WAAiBhB,CAAQ,CAClC,OAAOC,EAAO,CACV,KAAM,CAAE,IAAA9B,EAAK,OAAAI,CAAM,EAAK,KAAK,oBAAoB0B,CAAK,EAChDY,EAAM,KAAK,KACjB,GAAI1C,EAAI,aAAerC,EAAc,MACjC,OAAAoC,EAAkBC,EAAK,CACnB,KAAMlC,EAAa,aACnB,SAAUH,EAAc,MACxB,SAAUqC,EAAI,UAC9B,CAAa,EACMQ,EAEX,GAAIkC,EAAI,cAAgB,KAAM,CAC1B,MAAMwD,EAASlG,EAAI,KAAK,OAAS0C,EAAI,YAAY,MAC3CyD,EAAWnG,EAAI,KAAK,OAAS0C,EAAI,YAAY,OAC/CwD,GAAUC,KACVpG,EAAkBC,EAAK,CACnB,KAAMkG,EAASpI,EAAa,QAAUA,EAAa,UACnD,QAAUqI,EAAWzD,EAAI,YAAY,MAAQ,OAC7C,QAAUwD,EAASxD,EAAI,YAAY,MAAQ,OAC3C,KAAM,QACN,UAAW,GACX,MAAO,GACP,QAASA,EAAI,YAAY,OAC7C,CAAiB,EACDtC,EAAO,MAAO,EAE9B,CA2BQ,GA1BIsC,EAAI,YAAc,MACd1C,EAAI,KAAK,OAAS0C,EAAI,UAAU,QAChC3C,EAAkBC,EAAK,CACnB,KAAMlC,EAAa,UACnB,QAAS4E,EAAI,UAAU,MACvB,KAAM,QACN,UAAW,GACX,MAAO,GACP,QAASA,EAAI,UAAU,OAC3C,CAAiB,EACDtC,EAAO,MAAO,GAGlBsC,EAAI,YAAc,MACd1C,EAAI,KAAK,OAAS0C,EAAI,UAAU,QAChC3C,EAAkBC,EAAK,CACnB,KAAMlC,EAAa,QACnB,QAAS4E,EAAI,UAAU,MACvB,KAAM,QACN,UAAW,GACX,MAAO,GACP,QAASA,EAAI,UAAU,OAC3C,CAAiB,EACDtC,EAAO,MAAO,GAGlBJ,EAAI,OAAO,MACX,OAAO,QAAQ,IAAI,CAAC,GAAGA,EAAI,IAAI,EAAE,IAAI,CAACvD,EAAMkC,IACjC+D,EAAI,KAAK,YAAY,IAAItB,GAAmBpB,EAAKvD,EAAMuD,EAAI,KAAMrB,CAAC,CAAC,CAC7E,CAAC,EAAE,KAAM4C,GACCpB,GAAY,WAAWC,EAAQmB,CAAM,CAC/C,EAEL,MAAMA,EAAS,CAAC,GAAGvB,EAAI,IAAI,EAAE,IAAI,CAACvD,EAAMkC,IAC7B+D,EAAI,KAAK,WAAW,IAAItB,GAAmBpB,EAAKvD,EAAMuD,EAAI,KAAMrB,CAAC,CAAC,CAC5E,EACD,OAAOwB,GAAY,WAAWC,EAAQmB,CAAM,CACpD,CACI,IAAI,SAAU,CACV,OAAO,KAAK,KAAK,IACzB,CACI,IAAI+E,EAAWtH,EAAS,CACpB,OAAO,IAAI6D,GAAS,CAChB,GAAG,KAAK,KACR,UAAW,CAAE,MAAOyD,EAAW,QAASnF,EAAU,SAASnC,CAAO,CAAG,CACjF,CAAS,CACT,CACI,IAAIuH,EAAWvH,EAAS,CACpB,OAAO,IAAI6D,GAAS,CAChB,GAAG,KAAK,KACR,UAAW,CAAE,MAAO0D,EAAW,QAASpF,EAAU,SAASnC,CAAO,CAAG,CACjF,CAAS,CACT,CACI,OAAOwH,EAAKxH,EAAS,CACjB,OAAO,IAAI6D,GAAS,CAChB,GAAG,KAAK,KACR,YAAa,CAAE,MAAO2D,EAAK,QAASrF,EAAU,SAASnC,CAAO,CAAG,CAC7E,CAAS,CACT,CACI,SAASA,EAAS,CACd,OAAO,KAAK,IAAI,EAAGA,CAAO,CAClC,CACA,CACA6D,GAAS,OAAS,CAACqF,EAAQ7I,IAChB,IAAIwD,GAAS,CAChB,KAAMqF,EACN,UAAW,KACX,UAAW,KACX,YAAa,KACb,SAAUzF,EAAsB,SAChC,GAAGjB,EAAoBnC,CAAM,CACrC,CAAK,EAEL,SAAS8I,GAAeD,EAAQ,CAC5B,GAAIA,aAAkBE,EAAW,CAC7B,MAAMC,EAAW,CAAE,EACnB,UAAWrL,KAAOkL,EAAO,MAAO,CAC5B,MAAMI,EAAcJ,EAAO,MAAMlL,CAAG,EACpCqL,EAASrL,CAAG,EAAI2F,GAAY,OAAOwF,GAAeG,CAAW,CAAC,CAC1E,CACQ,OAAO,IAAIF,EAAU,CACjB,GAAGF,EAAO,KACV,MAAO,IAAMG,CACzB,CAAS,CACT,KACS,QAAIH,aAAkBrF,GAChB,IAAIA,GAAS,CAChB,GAAGqF,EAAO,KACV,KAAMC,GAAeD,EAAO,OAAO,CAC/C,CAAS,EAEIA,aAAkBvF,GAChBA,GAAY,OAAOwF,GAAeD,EAAO,OAAQ,CAAA,CAAC,EAEpDA,aAAkBtF,GAChBA,GAAY,OAAOuF,GAAeD,EAAO,OAAQ,CAAA,CAAC,EAEpDA,aAAkBK,GAChBA,GAAS,OAAOL,EAAO,MAAM,IAAKzL,GAAS0L,GAAe1L,CAAI,CAAC,CAAC,EAGhEyL,CAEf,CACO,MAAME,UAAkBvG,CAAQ,CACnC,aAAc,CACV,MAAM,GAAG,SAAS,EAClB,KAAK,QAAU,KAKf,KAAK,UAAY,KAAK,YAqCtB,KAAK,QAAU,KAAK,MAC5B,CACI,YAAa,CACT,GAAI,KAAK,UAAY,KACjB,OAAO,KAAK,QAChB,MAAM2G,EAAQ,KAAK,KAAK,MAAO,EACzBzL,EAAOd,EAAK,WAAWuM,CAAK,EAClC,YAAK,QAAU,CAAE,MAAAA,EAAO,KAAAzL,CAAM,EACvB,KAAK,OACpB,CACI,OAAO+E,EAAO,CAEV,GADmB,KAAK,SAASA,CAAK,IACnBnE,EAAc,OAAQ,CACrC,MAAMqC,EAAM,KAAK,gBAAgB8B,CAAK,EACtC,OAAA/B,EAAkBC,EAAK,CACnB,KAAMlC,EAAa,aACnB,SAAUH,EAAc,OACxB,SAAUqC,EAAI,UAC9B,CAAa,EACMQ,CACnB,CACQ,KAAM,CAAE,OAAAJ,EAAQ,IAAAJ,CAAG,EAAK,KAAK,oBAAoB8B,CAAK,EAChD,CAAE,MAAA0G,EAAO,KAAMC,CAAS,EAAK,KAAK,WAAY,EAC9CC,EAAY,CAAE,EACpB,GAAI,EAAE,KAAK,KAAK,oBAAoBV,IAAY,KAAK,KAAK,cAAgB,SACtE,UAAWhL,KAAOgD,EAAI,KACbyI,EAAU,SAASzL,CAAG,GACvB0L,EAAU,KAAK1L,CAAG,EAI9B,MAAMyD,EAAQ,CAAE,EAChB,UAAWzD,KAAOyL,EAAW,CACzB,MAAME,EAAeH,EAAMxL,CAAG,EACxBO,EAAQyC,EAAI,KAAKhD,CAAG,EAC1ByD,EAAM,KAAK,CACP,IAAK,CAAE,OAAQ,QAAS,MAAOzD,CAAK,EACpC,MAAO2L,EAAa,OAAO,IAAIvH,GAAmBpB,EAAKzC,EAAOyC,EAAI,KAAMhD,CAAG,CAAC,EAC5E,UAAWA,KAAOgD,EAAI,IACtC,CAAa,CACb,CACQ,GAAI,KAAK,KAAK,oBAAoBgI,GAAU,CACxC,MAAMY,EAAc,KAAK,KAAK,YAC9B,GAAIA,IAAgB,cAChB,UAAW5L,KAAO0L,EACdjI,EAAM,KAAK,CACP,IAAK,CAAE,OAAQ,QAAS,MAAOzD,CAAK,EACpC,MAAO,CAAE,OAAQ,QAAS,MAAOgD,EAAI,KAAKhD,CAAG,CAAG,CACxE,CAAqB,UAGA4L,IAAgB,SACjBF,EAAU,OAAS,IACnB3I,EAAkBC,EAAK,CACnB,KAAMlC,EAAa,kBACnB,KAAM4K,CAC9B,CAAqB,EACDtI,EAAO,MAAO,WAGbwI,IAAgB,QAGrB,MAAM,IAAI,MAAM,sDAAsD,CAEtF,KACa,CAED,MAAMC,EAAW,KAAK,KAAK,SAC3B,UAAW7L,KAAO0L,EAAW,CACzB,MAAMnL,EAAQyC,EAAI,KAAKhD,CAAG,EAC1ByD,EAAM,KAAK,CACP,IAAK,CAAE,OAAQ,QAAS,MAAOzD,CAAK,EACpC,MAAO6L,EAAS,OAAO,IAAIzH,GAAmBpB,EAAKzC,EAAOyC,EAAI,KAAMhD,CAAG,CACtE,EACD,UAAWA,KAAOgD,EAAI,IAC1C,CAAiB,CACjB,CACA,CACQ,OAAIA,EAAI,OAAO,MACJ,QAAQ,QAAO,EACjB,KAAK,SAAY,CAClB,MAAMU,EAAY,CAAE,EACpB,UAAWC,KAAQF,EAAO,CACtB,MAAMzD,EAAM,MAAM2D,EAAK,IACjBpD,EAAQ,MAAMoD,EAAK,MACzBD,EAAU,KAAK,CACX,IAAA1D,EACA,MAAAO,EACA,UAAWoD,EAAK,SACxC,CAAqB,CACrB,CACgB,OAAOD,CACV,CAAA,EACI,KAAMA,GACAP,GAAY,gBAAgBC,EAAQM,CAAS,CACvD,EAGMP,GAAY,gBAAgBC,EAAQK,CAAK,CAE5D,CACI,IAAI,OAAQ,CACR,OAAO,KAAK,KAAK,MAAO,CAChC,CACI,OAAOzB,EAAS,CACZ,OAAAmC,EAAU,SACH,IAAIiH,EAAU,CACjB,GAAG,KAAK,KACR,YAAa,SACb,GAAIpJ,IAAY,OACV,CACE,SAAU,CAACV,EAAO0B,IAAQ,SACtB,MAAM8I,IAAe9G,GAAAC,EAAA,KAAK,MAAK,WAAV,YAAAD,EAAA,KAAAC,EAAqB3D,EAAO0B,GAAK,UAAWA,EAAI,aACrE,OAAI1B,EAAM,OAAS,oBACR,CACH,QAAS6C,EAAU,SAASnC,CAAO,EAAE,SAAW8J,CACnD,EACE,CACH,QAASA,CACZ,CACJ,CACrB,EACkB,EAClB,CAAS,CACT,CACI,OAAQ,CACJ,OAAO,IAAIV,EAAU,CACjB,GAAG,KAAK,KACR,YAAa,OACzB,CAAS,CACT,CACI,aAAc,CACV,OAAO,IAAIA,EAAU,CACjB,GAAG,KAAK,KACR,YAAa,aACzB,CAAS,CACT,CAkBI,OAAOW,EAAc,CACjB,OAAO,IAAIX,EAAU,CACjB,GAAG,KAAK,KACR,MAAO,KAAO,CACV,GAAG,KAAK,KAAK,MAAO,EACpB,GAAGW,CACnB,EACA,CAAS,CACT,CAMI,MAAMC,EAAS,CAUX,OATe,IAAIZ,EAAU,CACzB,YAAaY,EAAQ,KAAK,YAC1B,SAAUA,EAAQ,KAAK,SACvB,MAAO,KAAO,CACV,GAAG,KAAK,KAAK,MAAO,EACpB,GAAGA,EAAQ,KAAK,MAAO,CACvC,GACY,SAAUvG,EAAsB,SAC5C,CAAS,CAET,CAoCI,OAAOzF,EAAKkL,EAAQ,CAChB,OAAO,KAAK,QAAQ,CAAE,CAAClL,CAAG,EAAGkL,CAAM,CAAE,CAC7C,CAsBI,SAASe,EAAO,CACZ,OAAO,IAAIb,EAAU,CACjB,GAAG,KAAK,KACR,SAAUa,CACtB,CAAS,CACT,CACI,KAAKC,EAAM,CACP,MAAMV,EAAQ,CAAE,EAChB,UAAWxL,KAAOf,EAAK,WAAWiN,CAAI,EAC9BA,EAAKlM,CAAG,GAAK,KAAK,MAAMA,CAAG,IAC3BwL,EAAMxL,CAAG,EAAI,KAAK,MAAMA,CAAG,GAGnC,OAAO,IAAIoL,EAAU,CACjB,GAAG,KAAK,KACR,MAAO,IAAMI,CACzB,CAAS,CACT,CACI,KAAKU,EAAM,CACP,MAAMV,EAAQ,CAAE,EAChB,UAAWxL,KAAOf,EAAK,WAAW,KAAK,KAAK,EACnCiN,EAAKlM,CAAG,IACTwL,EAAMxL,CAAG,EAAI,KAAK,MAAMA,CAAG,GAGnC,OAAO,IAAIoL,EAAU,CACjB,GAAG,KAAK,KACR,MAAO,IAAMI,CACzB,CAAS,CACT,CAII,aAAc,CACV,OAAOL,GAAe,IAAI,CAClC,CACI,QAAQe,EAAM,CACV,MAAMb,EAAW,CAAE,EACnB,UAAWrL,KAAOf,EAAK,WAAW,KAAK,KAAK,EAAG,CAC3C,MAAMqM,EAAc,KAAK,MAAMtL,CAAG,EAC9BkM,GAAQ,CAACA,EAAKlM,CAAG,EACjBqL,EAASrL,CAAG,EAAIsL,EAGhBD,EAASrL,CAAG,EAAIsL,EAAY,SAAU,CAEtD,CACQ,OAAO,IAAIF,EAAU,CACjB,GAAG,KAAK,KACR,MAAO,IAAMC,CACzB,CAAS,CACT,CACI,SAASa,EAAM,CACX,MAAMb,EAAW,CAAE,EACnB,UAAWrL,KAAOf,EAAK,WAAW,KAAK,KAAK,EACxC,GAAIiN,GAAQ,CAACA,EAAKlM,CAAG,EACjBqL,EAASrL,CAAG,EAAI,KAAK,MAAMA,CAAG,MAE7B,CAED,IAAImM,EADgB,KAAK,MAAMnM,CAAG,EAElC,KAAOmM,aAAoBxG,IACvBwG,EAAWA,EAAS,KAAK,UAE7Bd,EAASrL,CAAG,EAAImM,CAChC,CAEQ,OAAO,IAAIf,EAAU,CACjB,GAAG,KAAK,KACR,MAAO,IAAMC,CACzB,CAAS,CACT,CACI,OAAQ,CACJ,OAAOe,GAAcnN,EAAK,WAAW,KAAK,KAAK,CAAC,CACxD,CACA,CACAmM,EAAU,OAAS,CAACI,EAAOnJ,IAChB,IAAI+I,EAAU,CACjB,MAAO,IAAMI,EACb,YAAa,QACb,SAAUR,GAAS,OAAQ,EAC3B,SAAUvF,EAAsB,UAChC,GAAGjB,EAAoBnC,CAAM,CACrC,CAAK,EAEL+I,EAAU,aAAe,CAACI,EAAOnJ,IACtB,IAAI+I,EAAU,CACjB,MAAO,IAAMI,EACb,YAAa,SACb,SAAUR,GAAS,OAAQ,EAC3B,SAAUvF,EAAsB,UAChC,GAAGjB,EAAoBnC,CAAM,CACrC,CAAK,EAEL+I,EAAU,WAAa,CAACI,EAAOnJ,IACpB,IAAI+I,EAAU,CACjB,MAAAI,EACA,YAAa,QACb,SAAUR,GAAS,OAAQ,EAC3B,SAAUvF,EAAsB,UAChC,GAAGjB,EAAoBnC,CAAM,CACrC,CAAK,EAEE,MAAM2D,WAAiBnB,CAAQ,CAClC,OAAOC,EAAO,CACV,KAAM,CAAE,IAAA9B,CAAK,EAAG,KAAK,oBAAoB8B,CAAK,EACxCuE,EAAU,KAAK,KAAK,QAC1B,SAASgD,EAAchJ,EAAS,CAE5B,UAAWkB,KAAUlB,EACjB,GAAIkB,EAAO,OAAO,SAAW,QACzB,OAAOA,EAAO,OAGtB,UAAWA,KAAUlB,EACjB,GAAIkB,EAAO,OAAO,SAAW,QAEzB,OAAAvB,EAAI,OAAO,OAAO,KAAK,GAAGuB,EAAO,IAAI,OAAO,MAAM,EAC3CA,EAAO,OAItB,MAAM+H,EAAcjJ,EAAQ,IAAKkB,GAAW,IAAIxD,GAASwD,EAAO,IAAI,OAAO,MAAM,CAAC,EAClF,OAAAxB,EAAkBC,EAAK,CACnB,KAAMlC,EAAa,cACnB,YAAAwL,CAChB,CAAa,EACM9I,CACnB,CACQ,GAAIR,EAAI,OAAO,MACX,OAAO,QAAQ,IAAIqG,EAAQ,IAAI,MAAOtD,GAAW,CAC7C,MAAMwG,EAAW,CACb,GAAGvJ,EACH,OAAQ,CACJ,GAAGA,EAAI,OACP,OAAQ,CAAE,CACb,EACD,OAAQ,IACX,EACD,MAAO,CACH,OAAQ,MAAM+C,EAAO,YAAY,CAC7B,KAAM/C,EAAI,KACV,KAAMA,EAAI,KACV,OAAQuJ,CAChC,CAAqB,EACD,IAAKA,CACR,CACjB,CAAa,CAAC,EAAE,KAAKF,CAAa,EAErB,CACD,IAAIG,EACJ,MAAMxL,EAAS,CAAE,EACjB,UAAW+E,KAAUsD,EAAS,CAC1B,MAAMkD,EAAW,CACb,GAAGvJ,EACH,OAAQ,CACJ,GAAGA,EAAI,OACP,OAAQ,CAAE,CACb,EACD,OAAQ,IACX,EACKuB,EAASwB,EAAO,WAAW,CAC7B,KAAM/C,EAAI,KACV,KAAMA,EAAI,KACV,OAAQuJ,CAC5B,CAAiB,EACD,GAAIhI,EAAO,SAAW,QAClB,OAAOA,EAEFA,EAAO,SAAW,SAAW,CAACiI,IACnCA,EAAQ,CAAE,OAAAjI,EAAQ,IAAKgI,CAAU,GAEjCA,EAAS,OAAO,OAAO,QACvBvL,EAAO,KAAKuL,EAAS,OAAO,MAAM,CAEtD,CACY,GAAIC,EACA,OAAAxJ,EAAI,OAAO,OAAO,KAAK,GAAGwJ,EAAM,IAAI,OAAO,MAAM,EAC1CA,EAAM,OAEjB,MAAMF,EAActL,EAAO,IAAKA,GAAW,IAAID,GAASC,CAAM,CAAC,EAC/D,OAAA+B,EAAkBC,EAAK,CACnB,KAAMlC,EAAa,cACnB,YAAAwL,CAChB,CAAa,EACM9I,CACnB,CACA,CACI,IAAI,SAAU,CACV,OAAO,KAAK,KAAK,OACzB,CACA,CACAwC,GAAS,OAAS,CAACyG,EAAOpK,IACf,IAAI2D,GAAS,CAChB,QAASyG,EACT,SAAUhH,EAAsB,SAChC,GAAGjB,EAAoBnC,CAAM,CACrC,CAAK,EAqIL,SAASqK,GAAYC,EAAGC,EAAG,CACvB,MAAMC,EAAQjM,GAAc+L,CAAC,EACvBG,EAAQlM,GAAcgM,CAAC,EAC7B,GAAID,IAAMC,EACN,MAAO,CAAE,MAAO,GAAM,KAAMD,CAAG,EAE9B,GAAIE,IAAUlM,EAAc,QAAUmM,IAAUnM,EAAc,OAAQ,CACvE,MAAMoM,EAAQ9N,EAAK,WAAW2N,CAAC,EACzBI,EAAa/N,EAAK,WAAW0N,CAAC,EAAE,OAAQ3M,GAAQ+M,EAAM,QAAQ/M,CAAG,IAAM,EAAE,EACzEiN,EAAS,CAAE,GAAGN,EAAG,GAAGC,CAAG,EAC7B,UAAW5M,KAAOgN,EAAY,CAC1B,MAAME,EAAcR,GAAYC,EAAE3M,CAAG,EAAG4M,EAAE5M,CAAG,CAAC,EAC9C,GAAI,CAACkN,EAAY,MACb,MAAO,CAAE,MAAO,EAAO,EAE3BD,EAAOjN,CAAG,EAAIkN,EAAY,IACtC,CACQ,MAAO,CAAE,MAAO,GAAM,KAAMD,CAAQ,CAC5C,SACaJ,IAAUlM,EAAc,OAASmM,IAAUnM,EAAc,MAAO,CACrE,GAAIgM,EAAE,SAAWC,EAAE,OACf,MAAO,CAAE,MAAO,EAAO,EAE3B,MAAMO,EAAW,CAAE,EACnB,QAASlB,EAAQ,EAAGA,EAAQU,EAAE,OAAQV,IAAS,CAC3C,MAAMmB,EAAQT,EAAEV,CAAK,EACfoB,EAAQT,EAAEX,CAAK,EACfiB,EAAcR,GAAYU,EAAOC,CAAK,EAC5C,GAAI,CAACH,EAAY,MACb,MAAO,CAAE,MAAO,EAAO,EAE3BC,EAAS,KAAKD,EAAY,IAAI,CAC1C,CACQ,MAAO,CAAE,MAAO,GAAM,KAAMC,CAAU,CAC9C,KACS,QAAIN,IAAUlM,EAAc,MAAQmM,IAAUnM,EAAc,MAAQ,CAACgM,GAAM,CAACC,EACtE,CAAE,MAAO,GAAM,KAAMD,CAAG,EAGxB,CAAE,MAAO,EAAO,CAE/B,CACO,MAAMzG,WAAwBrB,CAAQ,CACzC,OAAOC,EAAO,CACV,KAAM,CAAE,OAAA1B,EAAQ,IAAAJ,CAAG,EAAK,KAAK,oBAAoB8B,CAAK,EAChDwI,EAAe,CAACC,EAAYC,IAAgB,CAC9C,GAAIzJ,GAAUwJ,CAAU,GAAKxJ,GAAUyJ,CAAW,EAC9C,OAAOhK,EAEX,MAAMiK,EAASf,GAAYa,EAAW,MAAOC,EAAY,KAAK,EAC9D,OAAKC,EAAO,QAMRzJ,GAAQuJ,CAAU,GAAKvJ,GAAQwJ,CAAW,IAC1CpK,EAAO,MAAO,EAEX,CAAE,OAAQA,EAAO,MAAO,MAAOqK,EAAO,IAAM,IAR/C1K,EAAkBC,EAAK,CACnB,KAAMlC,EAAa,0BACvC,CAAiB,EACM0C,EAMd,EACD,OAAIR,EAAI,OAAO,MACJ,QAAQ,IAAI,CACf,KAAK,KAAK,KAAK,YAAY,CACvB,KAAMA,EAAI,KACV,KAAMA,EAAI,KACV,OAAQA,CAC5B,CAAiB,EACD,KAAK,KAAK,MAAM,YAAY,CACxB,KAAMA,EAAI,KACV,KAAMA,EAAI,KACV,OAAQA,CAC5B,CAAiB,CACjB,CAAa,EAAE,KAAK,CAAC,CAAC0K,EAAMC,CAAK,IAAML,EAAaI,EAAMC,CAAK,CAAC,EAG7CL,EAAa,KAAK,KAAK,KAAK,WAAW,CAC1C,KAAMtK,EAAI,KACV,KAAMA,EAAI,KACV,OAAQA,CACX,CAAA,EAAG,KAAK,KAAK,MAAM,WAAW,CAC3B,KAAMA,EAAI,KACV,KAAMA,EAAI,KACV,OAAQA,CACxB,CAAa,CAAC,CAEd,CACA,CACAkD,GAAgB,OAAS,CAACwH,EAAMC,EAAOtL,IAC5B,IAAI6D,GAAgB,CACvB,KAAMwH,EACN,MAAOC,EACP,SAAUlI,EAAsB,gBAChC,GAAGjB,EAAoBnC,CAAM,CACrC,CAAK,EAGE,MAAMkJ,WAAiB1G,CAAQ,CAClC,OAAOC,EAAO,CACV,KAAM,CAAE,OAAA1B,EAAQ,IAAAJ,CAAG,EAAK,KAAK,oBAAoB8B,CAAK,EACtD,GAAI9B,EAAI,aAAerC,EAAc,MACjC,OAAAoC,EAAkBC,EAAK,CACnB,KAAMlC,EAAa,aACnB,SAAUH,EAAc,MACxB,SAAUqC,EAAI,UAC9B,CAAa,EACMQ,EAEX,GAAIR,EAAI,KAAK,OAAS,KAAK,KAAK,MAAM,OAClC,OAAAD,EAAkBC,EAAK,CACnB,KAAMlC,EAAa,UACnB,QAAS,KAAK,KAAK,MAAM,OACzB,UAAW,GACX,MAAO,GACP,KAAM,OACtB,CAAa,EACM0C,EAGP,CADS,KAAK,KAAK,MACVR,EAAI,KAAK,OAAS,KAAK,KAAK,MAAM,SAC3CD,EAAkBC,EAAK,CACnB,KAAMlC,EAAa,QACnB,QAAS,KAAK,KAAK,MAAM,OACzB,UAAW,GACX,MAAO,GACP,KAAM,OACtB,CAAa,EACDsC,EAAO,MAAO,GAElB,MAAM7D,EAAQ,CAAC,GAAGyD,EAAI,IAAI,EACrB,IAAI,CAACvD,EAAMmO,IAAc,CAC1B,MAAM1C,EAAS,KAAK,KAAK,MAAM0C,CAAS,GAAK,KAAK,KAAK,KACvD,OAAK1C,EAEEA,EAAO,OAAO,IAAI9G,GAAmBpB,EAAKvD,EAAMuD,EAAI,KAAM4K,CAAS,CAAC,EADhE,IAEd,CAAA,EACI,OAAQ1K,GAAM,CAAC,CAACA,CAAC,EACtB,OAAIF,EAAI,OAAO,MACJ,QAAQ,IAAIzD,CAAK,EAAE,KAAM8D,GACrBF,GAAY,WAAWC,EAAQC,CAAO,CAChD,EAGMF,GAAY,WAAWC,EAAQ7D,CAAK,CAEvD,CACI,IAAI,OAAQ,CACR,OAAO,KAAK,KAAK,KACzB,CACI,KAAKsO,EAAM,CACP,OAAO,IAAItC,GAAS,CAChB,GAAG,KAAK,KACR,KAAAsC,CACZ,CAAS,CACT,CACA,CACAtC,GAAS,OAAS,CAACuC,EAASzL,IAAW,CACnC,GAAI,CAAC,MAAM,QAAQyL,CAAO,EACtB,MAAM,IAAI,MAAM,uDAAuD,EAE3E,OAAO,IAAIvC,GAAS,CAChB,MAAOuC,EACP,SAAUrI,EAAsB,SAChC,KAAM,KACN,GAAGjB,EAAoBnC,CAAM,CACrC,CAAK,CACL,EACO,MAAM0L,WAAkBlJ,CAAQ,CACnC,IAAI,WAAY,CACZ,OAAO,KAAK,KAAK,OACzB,CACI,IAAI,aAAc,CACd,OAAO,KAAK,KAAK,SACzB,CACI,OAAOC,EAAO,CACV,KAAM,CAAE,OAAA1B,EAAQ,IAAAJ,CAAG,EAAK,KAAK,oBAAoB8B,CAAK,EACtD,GAAI9B,EAAI,aAAerC,EAAc,OACjC,OAAAoC,EAAkBC,EAAK,CACnB,KAAMlC,EAAa,aACnB,SAAUH,EAAc,OACxB,SAAUqC,EAAI,UAC9B,CAAa,EACMQ,EAEX,MAAMC,EAAQ,CAAE,EACVuK,EAAU,KAAK,KAAK,QACpBC,EAAY,KAAK,KAAK,UAC5B,UAAWjO,KAAOgD,EAAI,KAClBS,EAAM,KAAK,CACP,IAAKuK,EAAQ,OAAO,IAAI5J,GAAmBpB,EAAKhD,EAAKgD,EAAI,KAAMhD,CAAG,CAAC,EACnE,MAAOiO,EAAU,OAAO,IAAI7J,GAAmBpB,EAAKA,EAAI,KAAKhD,CAAG,EAAGgD,EAAI,KAAMhD,CAAG,CAAC,EACjF,UAAWA,KAAOgD,EAAI,IACtC,CAAa,EAEL,OAAIA,EAAI,OAAO,MACJG,GAAY,iBAAiBC,EAAQK,CAAK,EAG1CN,GAAY,gBAAgBC,EAAQK,CAAK,CAE5D,CACI,IAAI,SAAU,CACV,OAAO,KAAK,KAAK,SACzB,CACI,OAAO,OAAOhD,EAAOC,EAAQwN,EAAO,CAChC,OAAIxN,aAAkBmE,EACX,IAAIkJ,GAAU,CACjB,QAAStN,EACT,UAAWC,EACX,SAAU+E,EAAsB,UAChC,GAAGjB,EAAoB0J,CAAK,CAC5C,CAAa,EAEE,IAAIH,GAAU,CACjB,QAAS9E,GAAU,OAAQ,EAC3B,UAAWxI,EACX,SAAUgF,EAAsB,UAChC,GAAGjB,EAAoB9D,CAAM,CACzC,CAAS,CACT,CACA,CACO,MAAMyN,WAAetJ,CAAQ,CAChC,IAAI,WAAY,CACZ,OAAO,KAAK,KAAK,OACzB,CACI,IAAI,aAAc,CACd,OAAO,KAAK,KAAK,SACzB,CACI,OAAOC,EAAO,CACV,KAAM,CAAE,OAAA1B,EAAQ,IAAAJ,CAAG,EAAK,KAAK,oBAAoB8B,CAAK,EACtD,GAAI9B,EAAI,aAAerC,EAAc,IACjC,OAAAoC,EAAkBC,EAAK,CACnB,KAAMlC,EAAa,aACnB,SAAUH,EAAc,IACxB,SAAUqC,EAAI,UAC9B,CAAa,EACMQ,EAEX,MAAMwK,EAAU,KAAK,KAAK,QACpBC,EAAY,KAAK,KAAK,UACtBxK,EAAQ,CAAC,GAAGT,EAAI,KAAK,QAAO,CAAE,EAAE,IAAI,CAAC,CAAChD,EAAKO,CAAK,EAAG0L,KAC9C,CACH,IAAK+B,EAAQ,OAAO,IAAI5J,GAAmBpB,EAAKhD,EAAKgD,EAAI,KAAM,CAACiJ,EAAO,KAAK,CAAC,CAAC,EAC9E,MAAOgC,EAAU,OAAO,IAAI7J,GAAmBpB,EAAKzC,EAAOyC,EAAI,KAAM,CAACiJ,EAAO,OAAO,CAAC,CAAC,CACzF,EACJ,EACD,GAAIjJ,EAAI,OAAO,MAAO,CAClB,MAAMoL,EAAW,IAAI,IACrB,OAAO,QAAQ,UAAU,KAAK,SAAY,CACtC,UAAWzK,KAAQF,EAAO,CACtB,MAAMzD,EAAM,MAAM2D,EAAK,IACjBpD,EAAQ,MAAMoD,EAAK,MACzB,GAAI3D,EAAI,SAAW,WAAaO,EAAM,SAAW,UAC7C,OAAOiD,GAEPxD,EAAI,SAAW,SAAWO,EAAM,SAAW,UAC3C6C,EAAO,MAAO,EAElBgL,EAAS,IAAIpO,EAAI,MAAOO,EAAM,KAAK,CACvD,CACgB,MAAO,CAAE,OAAQ6C,EAAO,MAAO,MAAOgL,CAAU,CAChE,CAAa,CACb,KACa,CACD,MAAMA,EAAW,IAAI,IACrB,UAAWzK,KAAQF,EAAO,CACtB,MAAMzD,EAAM2D,EAAK,IACXpD,EAAQoD,EAAK,MACnB,GAAI3D,EAAI,SAAW,WAAaO,EAAM,SAAW,UAC7C,OAAOiD,GAEPxD,EAAI,SAAW,SAAWO,EAAM,SAAW,UAC3C6C,EAAO,MAAO,EAElBgL,EAAS,IAAIpO,EAAI,MAAOO,EAAM,KAAK,CACnD,CACY,MAAO,CAAE,OAAQ6C,EAAO,MAAO,MAAOgL,CAAU,CAC5D,CACA,CACA,CACAD,GAAO,OAAS,CAACH,EAASC,EAAW5L,IAC1B,IAAI8L,GAAO,CACd,UAAAF,EACA,QAAAD,EACA,SAAUvI,EAAsB,OAChC,GAAGjB,EAAoBnC,CAAM,CACrC,CAAK,EAEE,MAAMgM,WAAexJ,CAAQ,CAChC,OAAOC,EAAO,CACV,KAAM,CAAE,OAAA1B,EAAQ,IAAAJ,CAAG,EAAK,KAAK,oBAAoB8B,CAAK,EACtD,GAAI9B,EAAI,aAAerC,EAAc,IACjC,OAAAoC,EAAkBC,EAAK,CACnB,KAAMlC,EAAa,aACnB,SAAUH,EAAc,IACxB,SAAUqC,EAAI,UAC9B,CAAa,EACMQ,EAEX,MAAMkC,EAAM,KAAK,KACbA,EAAI,UAAY,MACZ1C,EAAI,KAAK,KAAO0C,EAAI,QAAQ,QAC5B3C,EAAkBC,EAAK,CACnB,KAAMlC,EAAa,UACnB,QAAS4E,EAAI,QAAQ,MACrB,KAAM,MACN,UAAW,GACX,MAAO,GACP,QAASA,EAAI,QAAQ,OACzC,CAAiB,EACDtC,EAAO,MAAO,GAGlBsC,EAAI,UAAY,MACZ1C,EAAI,KAAK,KAAO0C,EAAI,QAAQ,QAC5B3C,EAAkBC,EAAK,CACnB,KAAMlC,EAAa,QACnB,QAAS4E,EAAI,QAAQ,MACrB,KAAM,MACN,UAAW,GACX,MAAO,GACP,QAASA,EAAI,QAAQ,OACzC,CAAiB,EACDtC,EAAO,MAAO,GAGtB,MAAM6K,EAAY,KAAK,KAAK,UAC5B,SAASK,EAAYC,EAAU,CAC3B,MAAMC,EAAY,IAAI,IACtB,UAAWC,KAAWF,EAAU,CAC5B,GAAIE,EAAQ,SAAW,UACnB,OAAOjL,EACPiL,EAAQ,SAAW,SACnBrL,EAAO,MAAO,EAClBoL,EAAU,IAAIC,EAAQ,KAAK,CAC3C,CACY,MAAO,CAAE,OAAQrL,EAAO,MAAO,MAAOoL,CAAW,CAC7D,CACQ,MAAMD,EAAW,CAAC,GAAGvL,EAAI,KAAK,QAAQ,EAAE,IAAI,CAACvD,EAAMkC,IAAMsM,EAAU,OAAO,IAAI7J,GAAmBpB,EAAKvD,EAAMuD,EAAI,KAAMrB,CAAC,CAAC,CAAC,EACzH,OAAIqB,EAAI,OAAO,MACJ,QAAQ,IAAIuL,CAAQ,EAAE,KAAMA,GAAaD,EAAYC,CAAQ,CAAC,EAG9DD,EAAYC,CAAQ,CAEvC,CACI,IAAIG,EAAS1M,EAAS,CAClB,OAAO,IAAIqM,GAAO,CACd,GAAG,KAAK,KACR,QAAS,CAAE,MAAOK,EAAS,QAASvK,EAAU,SAASnC,CAAO,CAAG,CAC7E,CAAS,CACT,CACI,IAAI2M,EAAS3M,EAAS,CAClB,OAAO,IAAIqM,GAAO,CACd,GAAG,KAAK,KACR,QAAS,CAAE,MAAOM,EAAS,QAASxK,EAAU,SAASnC,CAAO,CAAG,CAC7E,CAAS,CACT,CACI,KAAK4M,EAAM5M,EAAS,CAChB,OAAO,KAAK,IAAI4M,EAAM5M,CAAO,EAAE,IAAI4M,EAAM5M,CAAO,CACxD,CACI,SAASA,EAAS,CACd,OAAO,KAAK,IAAI,EAAGA,CAAO,CAClC,CACA,CACAqM,GAAO,OAAS,CAACJ,EAAW5L,IACjB,IAAIgM,GAAO,CACd,UAAAJ,EACA,QAAS,KACT,QAAS,KACT,SAAUxI,EAAsB,OAChC,GAAGjB,EAAoBnC,CAAM,CACrC,CAAK,EAoHE,MAAMwM,WAAgBhK,CAAQ,CACjC,IAAI,QAAS,CACT,OAAO,KAAK,KAAK,OAAQ,CACjC,CACI,OAAOC,EAAO,CACV,KAAM,CAAE,IAAA9B,CAAK,EAAG,KAAK,oBAAoB8B,CAAK,EAE9C,OADmB,KAAK,KAAK,OAAQ,EACnB,OAAO,CAAE,KAAM9B,EAAI,KAAM,KAAMA,EAAI,KAAM,OAAQA,CAAG,CAAE,CAChF,CACA,CACA6L,GAAQ,OAAS,CAACC,EAAQzM,IACf,IAAIwM,GAAQ,CACf,OAAQC,EACR,SAAUrJ,EAAsB,QAChC,GAAGjB,EAAoBnC,CAAM,CACrC,CAAK,EAEE,MAAM0M,WAAmBlK,CAAQ,CACpC,OAAOC,EAAO,CACV,GAAIA,EAAM,OAAS,KAAK,KAAK,MAAO,CAChC,MAAM9B,EAAM,KAAK,gBAAgB8B,CAAK,EACtC,OAAA/B,EAAkBC,EAAK,CACnB,SAAUA,EAAI,KACd,KAAMlC,EAAa,gBACnB,SAAU,KAAK,KAAK,KACpC,CAAa,EACM0C,CACnB,CACQ,MAAO,CAAE,OAAQ,QAAS,MAAOsB,EAAM,IAAM,CACrD,CACI,IAAI,OAAQ,CACR,OAAO,KAAK,KAAK,KACzB,CACA,CACAiK,GAAW,OAAS,CAACxO,EAAO8B,IACjB,IAAI0M,GAAW,CAClB,MAAOxO,EACP,SAAUkF,EAAsB,WAChC,GAAGjB,EAAoBnC,CAAM,CACrC,CAAK,EAEL,SAAS+J,GAAc4C,EAAQ3M,EAAQ,CACnC,OAAO,IAAI4M,GAAQ,CACf,OAAAD,EACA,SAAUvJ,EAAsB,QAChC,GAAGjB,EAAoBnC,CAAM,CACrC,CAAK,CACL,CACO,MAAM4M,WAAgBpK,CAAQ,CACjC,OAAOC,EAAO,CACV,GAAI,OAAOA,EAAM,MAAS,SAAU,CAChC,MAAM9B,EAAM,KAAK,gBAAgB8B,CAAK,EAChCoK,EAAiB,KAAK,KAAK,OACjC,OAAAnM,EAAkBC,EAAK,CACnB,SAAU/D,EAAK,WAAWiQ,CAAc,EACxC,SAAUlM,EAAI,WACd,KAAMlC,EAAa,YACnC,CAAa,EACM0C,CACnB,CAIQ,GAHK,KAAK,SACN,KAAK,OAAS,IAAI,IAAI,KAAK,KAAK,MAAM,GAEtC,CAAC,KAAK,OAAO,IAAIsB,EAAM,IAAI,EAAG,CAC9B,MAAM9B,EAAM,KAAK,gBAAgB8B,CAAK,EAChCoK,EAAiB,KAAK,KAAK,OACjC,OAAAnM,EAAkBC,EAAK,CACnB,SAAUA,EAAI,KACd,KAAMlC,EAAa,mBACnB,QAASoO,CACzB,CAAa,EACM1L,CACnB,CACQ,OAAOM,GAAGgB,EAAM,IAAI,CAC5B,CACI,IAAI,SAAU,CACV,OAAO,KAAK,KAAK,MACzB,CACI,IAAI,MAAO,CACP,MAAMqK,EAAa,CAAE,EACrB,UAAWhP,KAAO,KAAK,KAAK,OACxBgP,EAAWhP,CAAG,EAAIA,EAEtB,OAAOgP,CACf,CACI,IAAI,QAAS,CACT,MAAMA,EAAa,CAAE,EACrB,UAAWhP,KAAO,KAAK,KAAK,OACxBgP,EAAWhP,CAAG,EAAIA,EAEtB,OAAOgP,CACf,CACI,IAAI,MAAO,CACP,MAAMA,EAAa,CAAE,EACrB,UAAWhP,KAAO,KAAK,KAAK,OACxBgP,EAAWhP,CAAG,EAAIA,EAEtB,OAAOgP,CACf,CACI,QAAQH,EAAQI,EAAS,KAAK,KAAM,CAChC,OAAOH,GAAQ,OAAOD,EAAQ,CAC1B,GAAG,KAAK,KACR,GAAGI,CACf,CAAS,CACT,CACI,QAAQJ,EAAQI,EAAS,KAAK,KAAM,CAChC,OAAOH,GAAQ,OAAO,KAAK,QAAQ,OAAQI,GAAQ,CAACL,EAAO,SAASK,CAAG,CAAC,EAAG,CACvE,GAAG,KAAK,KACR,GAAGD,CACf,CAAS,CACT,CACA,CACAH,GAAQ,OAAS7C,GACV,MAAMkD,WAAsBzK,CAAQ,CACvC,OAAOC,EAAO,CACV,MAAMyK,EAAmBtQ,EAAK,mBAAmB,KAAK,KAAK,MAAM,EAC3D+D,EAAM,KAAK,gBAAgB8B,CAAK,EACtC,GAAI9B,EAAI,aAAerC,EAAc,QAAUqC,EAAI,aAAerC,EAAc,OAAQ,CACpF,MAAMuO,EAAiBjQ,EAAK,aAAasQ,CAAgB,EACzD,OAAAxM,EAAkBC,EAAK,CACnB,SAAU/D,EAAK,WAAWiQ,CAAc,EACxC,SAAUlM,EAAI,WACd,KAAMlC,EAAa,YACnC,CAAa,EACM0C,CACnB,CAIQ,GAHK,KAAK,SACN,KAAK,OAAS,IAAI,IAAIvE,EAAK,mBAAmB,KAAK,KAAK,MAAM,CAAC,GAE/D,CAAC,KAAK,OAAO,IAAI6F,EAAM,IAAI,EAAG,CAC9B,MAAMoK,EAAiBjQ,EAAK,aAAasQ,CAAgB,EACzD,OAAAxM,EAAkBC,EAAK,CACnB,SAAUA,EAAI,KACd,KAAMlC,EAAa,mBACnB,QAASoO,CACzB,CAAa,EACM1L,CACnB,CACQ,OAAOM,GAAGgB,EAAM,IAAI,CAC5B,CACI,IAAI,MAAO,CACP,OAAO,KAAK,KAAK,MACzB,CACA,CACAwK,GAAc,OAAS,CAACN,EAAQ3M,IACrB,IAAIiN,GAAc,CACrB,OAAQN,EACR,SAAUvJ,EAAsB,cAChC,GAAGjB,EAAoBnC,CAAM,CACrC,CAAK,EAEE,MAAMyD,WAAmBjB,CAAQ,CACpC,QAAS,CACL,OAAO,KAAK,KAAK,IACzB,CACI,OAAOC,EAAO,CACV,KAAM,CAAE,IAAA9B,CAAK,EAAG,KAAK,oBAAoB8B,CAAK,EAC9C,GAAI9B,EAAI,aAAerC,EAAc,SAAWqC,EAAI,OAAO,QAAU,GACjE,OAAAD,EAAkBC,EAAK,CACnB,KAAMlC,EAAa,aACnB,SAAUH,EAAc,QACxB,SAAUqC,EAAI,UAC9B,CAAa,EACMQ,EAEX,MAAMgM,EAAcxM,EAAI,aAAerC,EAAc,QAAUqC,EAAI,KAAO,QAAQ,QAAQA,EAAI,IAAI,EAClG,OAAOc,GAAG0L,EAAY,KAAM3O,GACjB,KAAK,KAAK,KAAK,WAAWA,EAAM,CACnC,KAAMmC,EAAI,KACV,SAAUA,EAAI,OAAO,kBACrC,CAAa,CACJ,CAAC,CACV,CACA,CACA8C,GAAW,OAAS,CAACoF,EAAQ7I,IAClB,IAAIyD,GAAW,CAClB,KAAMoF,EACN,SAAUzF,EAAsB,WAChC,GAAGjB,EAAoBnC,CAAM,CACrC,CAAK,EAEE,MAAMmD,WAAmBX,CAAQ,CACpC,WAAY,CACR,OAAO,KAAK,KAAK,MACzB,CACI,YAAa,CACT,OAAO,KAAK,KAAK,OAAO,KAAK,WAAaY,EAAsB,WAC1D,KAAK,KAAK,OAAO,WAAU,EAC3B,KAAK,KAAK,MACxB,CACI,OAAOX,EAAO,CACV,KAAM,CAAE,OAAA1B,EAAQ,IAAAJ,CAAG,EAAK,KAAK,oBAAoB8B,CAAK,EAChD2K,EAAS,KAAK,KAAK,QAAU,KAC7BC,EAAW,CACb,SAAWC,GAAQ,CACf5M,EAAkBC,EAAK2M,CAAG,EACtBA,EAAI,MACJvM,EAAO,MAAO,EAGdA,EAAO,MAAO,CAErB,EACD,IAAI,MAAO,CACP,OAAOJ,EAAI,IACd,CACJ,EAED,GADA0M,EAAS,SAAWA,EAAS,SAAS,KAAKA,CAAQ,EAC/CD,EAAO,OAAS,aAAc,CAC9B,MAAMG,EAAYH,EAAO,UAAUzM,EAAI,KAAM0M,CAAQ,EACrD,GAAI1M,EAAI,OAAO,MACX,OAAO,QAAQ,QAAQ4M,CAAS,EAAE,KAAK,MAAOA,GAAc,CACxD,GAAIxM,EAAO,QAAU,UACjB,OAAOI,EACX,MAAMe,EAAS,MAAM,KAAK,KAAK,OAAO,YAAY,CAC9C,KAAMqL,EACN,KAAM5M,EAAI,KACV,OAAQA,CAChC,CAAqB,EACD,OAAIuB,EAAO,SAAW,UACXf,EACPe,EAAO,SAAW,SAElBnB,EAAO,QAAU,QACVS,GAAMU,EAAO,KAAK,EACtBA,CAC3B,CAAiB,EAEA,CACD,GAAInB,EAAO,QAAU,UACjB,OAAOI,EACX,MAAMe,EAAS,KAAK,KAAK,OAAO,WAAW,CACvC,KAAMqL,EACN,KAAM5M,EAAI,KACV,OAAQA,CAC5B,CAAiB,EACD,OAAIuB,EAAO,SAAW,UACXf,EACPe,EAAO,SAAW,SAElBnB,EAAO,QAAU,QACVS,GAAMU,EAAO,KAAK,EACtBA,CACvB,CACA,CACQ,GAAIkL,EAAO,OAAS,aAAc,CAC9B,MAAMI,EAAqBC,GAAQ,CAC/B,MAAMvL,EAASkL,EAAO,WAAWK,EAAKJ,CAAQ,EAC9C,GAAI1M,EAAI,OAAO,MACX,OAAO,QAAQ,QAAQuB,CAAM,EAEjC,GAAIA,aAAkB,QAClB,MAAM,IAAI,MAAM,2FAA2F,EAE/G,OAAOuL,CACV,EACD,GAAI9M,EAAI,OAAO,QAAU,GAAO,CAC5B,MAAM+M,EAAQ,KAAK,KAAK,OAAO,WAAW,CACtC,KAAM/M,EAAI,KACV,KAAMA,EAAI,KACV,OAAQA,CAC5B,CAAiB,EACD,OAAI+M,EAAM,SAAW,UACVvM,GACPuM,EAAM,SAAW,SACjB3M,EAAO,MAAO,EAElByM,EAAkBE,EAAM,KAAK,EACtB,CAAE,OAAQ3M,EAAO,MAAO,MAAO2M,EAAM,KAAO,EACnE,KAEgB,QAAO,KAAK,KAAK,OAAO,YAAY,CAAE,KAAM/M,EAAI,KAAM,KAAMA,EAAI,KAAM,OAAQA,CAAK,CAAA,EAAE,KAAM+M,GACnFA,EAAM,SAAW,UACVvM,GACPuM,EAAM,SAAW,SACjB3M,EAAO,MAAO,EACXyM,EAAkBE,EAAM,KAAK,EAAE,KAAK,KAChC,CAAE,OAAQ3M,EAAO,MAAO,MAAO2M,EAAM,KAAO,EACtD,EACJ,CAEjB,CACQ,GAAIN,EAAO,OAAS,YAChB,GAAIzM,EAAI,OAAO,QAAU,GAAO,CAC5B,MAAMgN,EAAO,KAAK,KAAK,OAAO,WAAW,CACrC,KAAMhN,EAAI,KACV,KAAMA,EAAI,KACV,OAAQA,CAC5B,CAAiB,EACD,GAAI,CAACiB,GAAQ+L,CAAI,EACb,OAAOxM,EACX,MAAMe,EAASkL,EAAO,UAAUO,EAAK,MAAON,CAAQ,EACpD,GAAInL,aAAkB,QAClB,MAAM,IAAI,MAAM,iGAAiG,EAErH,MAAO,CAAE,OAAQnB,EAAO,MAAO,MAAOmB,CAAQ,CAC9D,KAEgB,QAAO,KAAK,KAAK,OAAO,YAAY,CAAE,KAAMvB,EAAI,KAAM,KAAMA,EAAI,KAAM,OAAQA,CAAK,CAAA,EAAE,KAAMgN,GAClF/L,GAAQ+L,CAAI,EAEV,QAAQ,QAAQP,EAAO,UAAUO,EAAK,MAAON,CAAQ,CAAC,EAAE,KAAMnL,IAAY,CAC7E,OAAQnB,EAAO,MACf,MAAOmB,CAC/B,EAAsB,EAJSf,CAKd,EAGTvE,EAAK,YAAYwQ,CAAM,CAC/B,CACA,CACAjK,GAAW,OAAS,CAAC0F,EAAQuE,EAAQpN,IAC1B,IAAImD,GAAW,CAClB,OAAA0F,EACA,SAAUzF,EAAsB,WAChC,OAAAgK,EACA,GAAGjL,EAAoBnC,CAAM,CACrC,CAAK,EAELmD,GAAW,qBAAuB,CAACyK,EAAY/E,EAAQ7I,IAC5C,IAAImD,GAAW,CAClB,OAAA0F,EACA,OAAQ,CAAE,KAAM,aAAc,UAAW+E,CAAY,EACrD,SAAUxK,EAAsB,WAChC,GAAGjB,EAAoBnC,CAAM,CACrC,CAAK,EAGE,MAAMsD,WAAoBd,CAAQ,CACrC,OAAOC,EAAO,CAEV,OADmB,KAAK,SAASA,CAAK,IACnBnE,EAAc,UACtBmD,GAAG,MAAS,EAEhB,KAAK,KAAK,UAAU,OAAOgB,CAAK,CAC/C,CACI,QAAS,CACL,OAAO,KAAK,KAAK,SACzB,CACA,CACAa,GAAY,OAAS,CAACuK,EAAM7N,IACjB,IAAIsD,GAAY,CACnB,UAAWuK,EACX,SAAUzK,EAAsB,YAChC,GAAGjB,EAAoBnC,CAAM,CACrC,CAAK,EAEE,MAAMuD,WAAoBf,CAAQ,CACrC,OAAOC,EAAO,CAEV,OADmB,KAAK,SAASA,CAAK,IACnBnE,EAAc,KACtBmD,GAAG,IAAI,EAEX,KAAK,KAAK,UAAU,OAAOgB,CAAK,CAC/C,CACI,QAAS,CACL,OAAO,KAAK,KAAK,SACzB,CACA,CACAc,GAAY,OAAS,CAACsK,EAAM7N,IACjB,IAAIuD,GAAY,CACnB,UAAWsK,EACX,SAAUzK,EAAsB,YAChC,GAAGjB,EAAoBnC,CAAM,CACrC,CAAK,EAEE,MAAMgE,WAAmBxB,CAAQ,CACpC,OAAOC,EAAO,CACV,KAAM,CAAE,IAAA9B,CAAK,EAAG,KAAK,oBAAoB8B,CAAK,EAC9C,IAAIjE,EAAOmC,EAAI,KACf,OAAIA,EAAI,aAAerC,EAAc,YACjCE,EAAO,KAAK,KAAK,aAAc,GAE5B,KAAK,KAAK,UAAU,OAAO,CAC9B,KAAAA,EACA,KAAMmC,EAAI,KACV,OAAQA,CACpB,CAAS,CACT,CACI,eAAgB,CACZ,OAAO,KAAK,KAAK,SACzB,CACA,CACAqD,GAAW,OAAS,CAAC6J,EAAM7N,IAChB,IAAIgE,GAAW,CAClB,UAAW6J,EACX,SAAUzK,EAAsB,WAChC,aAAc,OAAOpD,EAAO,SAAY,WAAaA,EAAO,QAAU,IAAMA,EAAO,QACnF,GAAGmC,EAAoBnC,CAAM,CACrC,CAAK,EAEE,MAAMmE,WAAiB3B,CAAQ,CAClC,OAAOC,EAAO,CACV,KAAM,CAAE,IAAA9B,CAAK,EAAG,KAAK,oBAAoB8B,CAAK,EAExCqL,EAAS,CACX,GAAGnN,EACH,OAAQ,CACJ,GAAGA,EAAI,OACP,OAAQ,CAAE,CACb,CACJ,EACKuB,EAAS,KAAK,KAAK,UAAU,OAAO,CACtC,KAAM4L,EAAO,KACb,KAAMA,EAAO,KACb,OAAQ,CACJ,GAAGA,CACN,CACb,CAAS,EACD,OAAIjM,GAAQK,CAAM,EACPA,EAAO,KAAMA,IACT,CACH,OAAQ,QACR,MAAOA,EAAO,SAAW,QACnBA,EAAO,MACP,KAAK,KAAK,WAAW,CACnB,IAAI,OAAQ,CACR,OAAO,IAAIxD,GAASoP,EAAO,OAAO,MAAM,CAC3C,EACD,MAAOA,EAAO,IAC1C,CAAyB,CACR,EACJ,EAGM,CACH,OAAQ,QACR,MAAO5L,EAAO,SAAW,QACnBA,EAAO,MACP,KAAK,KAAK,WAAW,CACnB,IAAI,OAAQ,CACR,OAAO,IAAIxD,GAASoP,EAAO,OAAO,MAAM,CAC3C,EACD,MAAOA,EAAO,IACtC,CAAqB,CACR,CAEb,CACI,aAAc,CACV,OAAO,KAAK,KAAK,SACzB,CACA,CACA3J,GAAS,OAAS,CAAC0J,EAAM7N,IACd,IAAImE,GAAS,CAChB,UAAW0J,EACX,SAAUzK,EAAsB,SAChC,WAAY,OAAOpD,EAAO,OAAU,WAAaA,EAAO,MAAQ,IAAMA,EAAO,MAC7E,GAAGmC,EAAoBnC,CAAM,CACrC,CAAK,EAEE,MAAM+N,WAAevL,CAAQ,CAChC,OAAOC,EAAO,CAEV,GADmB,KAAK,SAASA,CAAK,IACnBnE,EAAc,IAAK,CAClC,MAAMqC,EAAM,KAAK,gBAAgB8B,CAAK,EACtC,OAAA/B,EAAkBC,EAAK,CACnB,KAAMlC,EAAa,aACnB,SAAUH,EAAc,IACxB,SAAUqC,EAAI,UAC9B,CAAa,EACMQ,CACnB,CACQ,MAAO,CAAE,OAAQ,QAAS,MAAOsB,EAAM,IAAM,CACrD,CACA,CACAsL,GAAO,OAAU/N,GACN,IAAI+N,GAAO,CACd,SAAU3K,EAAsB,OAChC,GAAGjB,EAAoBnC,CAAM,CACrC,CAAK,EAGE,MAAMiE,WAAmBzB,CAAQ,CACpC,OAAOC,EAAO,CACV,KAAM,CAAE,IAAA9B,CAAK,EAAG,KAAK,oBAAoB8B,CAAK,EACxCjE,EAAOmC,EAAI,KACjB,OAAO,KAAK,KAAK,KAAK,OAAO,CACzB,KAAAnC,EACA,KAAMmC,EAAI,KACV,OAAQA,CACpB,CAAS,CACT,CACI,QAAS,CACL,OAAO,KAAK,KAAK,IACzB,CACA,CACO,MAAM2D,WAAoB9B,CAAQ,CACrC,OAAOC,EAAO,CACV,KAAM,CAAE,OAAA1B,EAAQ,IAAAJ,CAAG,EAAK,KAAK,oBAAoB8B,CAAK,EACtD,GAAI9B,EAAI,OAAO,MAqBX,OApBoB,SAAY,CAC5B,MAAMqN,EAAW,MAAM,KAAK,KAAK,GAAG,YAAY,CAC5C,KAAMrN,EAAI,KACV,KAAMA,EAAI,KACV,OAAQA,CAC5B,CAAiB,EACD,OAAIqN,EAAS,SAAW,UACb7M,EACP6M,EAAS,SAAW,SACpBjN,EAAO,MAAO,EACPS,GAAMwM,EAAS,KAAK,GAGpB,KAAK,KAAK,IAAI,YAAY,CAC7B,KAAMA,EAAS,MACf,KAAMrN,EAAI,KACV,OAAQA,CAChC,CAAqB,CAER,GACmB,EAEnB,CACD,MAAMqN,EAAW,KAAK,KAAK,GAAG,WAAW,CACrC,KAAMrN,EAAI,KACV,KAAMA,EAAI,KACV,OAAQA,CACxB,CAAa,EACD,OAAIqN,EAAS,SAAW,UACb7M,EACP6M,EAAS,SAAW,SACpBjN,EAAO,MAAO,EACP,CACH,OAAQ,QACR,MAAOiN,EAAS,KACnB,GAGM,KAAK,KAAK,IAAI,WAAW,CAC5B,KAAMA,EAAS,MACf,KAAMrN,EAAI,KACV,OAAQA,CAC5B,CAAiB,CAEjB,CACA,CACI,OAAO,OAAO2J,EAAGC,EAAG,CAChB,OAAO,IAAIjG,GAAY,CACnB,GAAIgG,EACJ,IAAKC,EACL,SAAUnH,EAAsB,WAC5C,CAAS,CACT,CACA,CACO,MAAMmB,WAAoB/B,CAAQ,CACrC,OAAOC,EAAO,CACV,MAAMP,EAAS,KAAK,KAAK,UAAU,OAAOO,CAAK,EACzCwL,EAAUzP,IACRoD,GAAQpD,CAAI,IACZA,EAAK,MAAQ,OAAO,OAAOA,EAAK,KAAK,GAElCA,GAEX,OAAOqD,GAAQK,CAAM,EAAIA,EAAO,KAAM1D,GAASyP,EAAOzP,CAAI,CAAC,EAAIyP,EAAO/L,CAAM,CACpF,CACI,QAAS,CACL,OAAO,KAAK,KAAK,SACzB,CACA,CACAqC,GAAY,OAAS,CAACsJ,EAAM7N,IACjB,IAAIuE,GAAY,CACnB,UAAWsJ,EACX,SAAUzK,EAAsB,YAChC,GAAGjB,EAAoBnC,CAAM,CACrC,CAAK,EAmDE,IAAIoD,GACV,SAAUA,EAAuB,CAC9BA,EAAsB,UAAe,YACrCA,EAAsB,UAAe,YACrCA,EAAsB,OAAY,SAClCA,EAAsB,UAAe,YACrCA,EAAsB,WAAgB,aACtCA,EAAsB,QAAa,UACnCA,EAAsB,UAAe,YACrCA,EAAsB,aAAkB,eACxCA,EAAsB,QAAa,UACnCA,EAAsB,OAAY,SAClCA,EAAsB,WAAgB,aACtCA,EAAsB,SAAc,WACpCA,EAAsB,QAAa,UACnCA,EAAsB,SAAc,WACpCA,EAAsB,UAAe,YACrCA,EAAsB,SAAc,WACpCA,EAAsB,sBAA2B,wBACjDA,EAAsB,gBAAqB,kBAC3CA,EAAsB,SAAc,WACpCA,EAAsB,UAAe,YACrCA,EAAsB,OAAY,SAClCA,EAAsB,OAAY,SAClCA,EAAsB,YAAiB,cACvCA,EAAsB,QAAa,UACnCA,EAAsB,WAAgB,aACtCA,EAAsB,QAAa,UACnCA,EAAsB,WAAgB,aACtCA,EAAsB,cAAmB,gBACzCA,EAAsB,YAAiB,cACvCA,EAAsB,YAAiB,cACvCA,EAAsB,WAAgB,aACtCA,EAAsB,SAAc,WACpCA,EAAsB,WAAgB,aACtCA,EAAsB,WAAgB,aACtCA,EAAsB,YAAiB,cACvCA,EAAsB,YAAiB,aAC3C,GAAGA,IAA0BA,EAAwB,CAAA,EAAG,EAUxD,MAAM8K,GAAatH,GAAU,OACvBuH,EAAarG,GAAU,OAGvBsG,GAAclG,GAAW,OAObS,GAAS,OAE3B,MAAM0F,GAAY7K,GAAS,OACrB8K,GAAavF,EAAU,OAEXpF,GAAS,OAEFE,GAAgB,OACvBqF,GAAS,OAC3B,MAAMqF,GAAa7C,GAAU,OAMZkB,GAAQ,OAELnJ,GAAW,OAEVH,GAAY,OACZC,GAAY,OCzlH1B,MAAMiL,GAAiD,CAC5D,YAAe,mIACf,QAAW,wGACX,OAAU,yFACV,MAAS,oGACT,WAAc,uGAChB,ECcMC,GAAWC,GACf,2CAGA,6NAIF,EAgCMC,GAAmB,YAOnBC,GAAe,CAACC,EAAa,IAAI,OAAmB,CAExD,MAAMC,EAAe,IAAI,KAAK,sBAAsB,EAAE,QAAQ,EASvD,OARKD,EAAK,QAAQ,EAGYC,IAAiB,IAAO,GAAK,GAAK,IAGhCH,GAAoBA,EAG7D,EAKMI,GAAmB,CAACC,EAAgBH,EAAa,IAAI,OAQtD,CAEH,MAAMI,EAAmDL,GAAaC,CAAI,EAGpEK,EAAe,IAAO,EAAI,KAAK,IAAI,EAAI,KAAK,GAAKD,CAAY,GAG7DE,EAAYF,EAAeN,GAG7B,IAAAS,GAAsB,GAAMH,GAAgBN,GAC5CS,EAAqB,IACDA,GAAAT,IAElB,MAAAU,EAAe,IAAI,KAAKR,EAAK,QAAA,EAAYO,EAAqB,GAAK,GAAK,GAAK,GAAI,EAGnF,IAAAE,EACAC,EACAC,EAEA,OAAAP,EAAe,KAAQA,EAAe,KACjCK,EAAA,WACCC,EAAA,KACIC,EAAA,OACHP,EAAe,KACjBK,EAAA,kBACCC,EAAA,KACIC,EAAA,mBACHP,EAAe,KACjBK,EAAA,gBACCC,EAAA,KACIC,EAAA,iBACHP,EAAe,KACjBK,EAAA,iBACCC,EAAA,KACIC,EAAA,kBACHP,EAAe,KACjBK,EAAA,YACCC,EAAA,KACIC,EAAA,QACHP,EAAe,KACjBK,EAAA,iBACCC,EAAA,KACIC,EAAA,kBACHP,EAAe,KACjBK,EAAA,eACCC,EAAA,KACIC,EAAA,iBAELF,EAAA,kBACCC,EAAA,KACIC,EAAA,mBAGP,CACL,KAAAF,EACA,MAAAC,EACA,MAAON,EACP,aAAAC,EACA,aAAcG,EAAa,YAAY,EACvC,UAAAF,EACA,UAAAK,CACF,CACF,EAQMC,GAAwB,CAC5BC,EAKAC,IACkB,CACd,GAAA,CAGI,MAAAC,EAAWb,GAAiB,WADlB,IACgC,EAYzC,MAT8B,CACnC,KAAMa,EAAS,KACf,MAAOA,EAAS,MAChB,aAAcA,EAAS,aACvB,aAAc,IAAI,KAAKA,EAAS,YAAY,EAC5C,UAAWA,EAAS,UACpB,UAAWA,EAAS,SACtB,QAGOxQ,EAAO,CACN,eAAA,MAAM,+BAAgCA,CAAK,EAKX,CACtC,KAAM,WACN,MAAO,EACP,aAAc,EACd,aANkB,IAAI,KAAK,KAAK,IAAA,EAAQ,MAAQ,GAAK,GAAK,GAAK,GAAI,EAOnE,UAAW,EACX,UAAW,KACb,CAEO,CAEX,EA6MayQ,GAAe,CAC1BC,EAAkC,IAAI,OACf,CAEvB,IAAIC,EAAU,GAEVD,GAAc,OACR,QAAA,IACN,mEACF,EACAA,MAAgB,MAGd,GAAA,CACE,OAAOA,GAAc,SACbC,EAAAD,EACDA,aAAqB,MAAQA,GAAa,OAAOA,EAAU,aAAgB,WACpFC,EAAUD,EAAU,YAAY,EAAE,MAAM,GAAG,EAAE,CAAC,EAGpCC,EAAA,IAAI,OAAO,cAAc,MAAM,GAAG,EAAE,CAAC,QAE1CrN,EAAK,CACJ,QAAA,MAAM,wCAAyCA,CAAG,EAChDqN,EAAA,IAAI,OAAO,cAAc,MAAM,GAAG,EAAE,CAAC,CAAA,CAI3C,MAAAC,EAAS,2BAA2BD,CAAO,iBAG3CE,EAAU,MAAOC,GAAuB,CAC5C,MAAMC,EAAa,GAAGD,CAAU,MAAM,KAAK,KAAK,GACxC,QAAA,IAAI,+BAAgCC,CAAU,EAGtD,QAAQ,IAAI,4CAA4C,EAClD,KAAA,CACJ,KAAM,CAAE,QAAAC,CAAQ,EAChB,MAAOC,CAAA,EACL,MAAM5B,GAAS,KAAK,WAAW,EAE/B4B,EACM,QAAA,KACN,iDACAA,CACF,EAEQ,QAAA,IACN,iCACAD,EAAU,gBAAkB,mBAC9B,EAIF,MAAME,EAAuB,CAC3B,eAAgB,kBAClB,EAGMC,EACJ,8NAGEH,GAAA,MAAAA,EAAS,cACX,QAAQ,IAAI,kDAAkD,EAC9DE,EAAQ,cAAmB,UAAUF,EAAQ,YAAY,KAEzD,QAAQ,IAAI,qDAAqD,EACjEE,EAAQ,OAAYC,EACZD,EAAA,cAAmB,UAAUC,CAAO,IAK1C,GAAA,CACM,QAAA,IACN,8CACA,KAAK,UAAUD,EAAS,KAAM,CAAC,CACjC,EACM,MAAAE,EAAW,MAAM,MAAML,EAAY,CACvC,QAAAG,EACA,YAAa,SAAA,CACd,EAEG,GAAA,CAACE,EAAS,GAAI,CACV,MAAAC,GAAY,MAAMD,EAAS,KAAK,EAUtC,GATA,QAAQ,MAAM,qCAAsC,CAClD,OAAQA,EAAS,OACjB,WAAYA,EAAS,WACrB,IAAKL,EACL,MAAOM,GACP,QAAS,OAAO,YAAYD,EAAS,QAAQ,QAAS,CAAA,CAAA,CACvD,EAGGA,EAAS,SAAW,KAAOA,EAAS,SAAW,IAAK,CAC9C,QAAA,IACN,0EACF,EAEI,GAAA,CACI,KAAA,CAAE,KAAAhS,EAAM,MAAOkS,GACnB,MAAMjC,GAAS,KAAK,eAAe,EAEjC,GAAAiC,GAAgB,CAAClS,EAAK,QAAS,CAMjC,GALQ,QAAA,MACN,yCACAkS,CACF,EAEIH,GAAW,CAACD,EAAQ,OAAW,CACjC,QAAQ,IAAI,kDAAkD,EAC9D,MAAMK,EAAc,CAClB,GAAGL,EACH,OAAQC,EACR,cAAe,UAAUA,CAAO,EAClC,EACMK,EAAe,MAAM,MAAMT,EAAY,CAC3C,QAASQ,EACT,YAAa,SAAA,CACd,EAEG,GAAA,CAACC,EAAa,GAChB,MAAM,IAAI,MACR,4BAA4BA,EAAa,MAAM,IAAIA,EAAa,UAAU,EAC5E,EAEK,OAAA,MAAMA,EAAa,KAAK,CAAA,CAEjC,MAAM,IAAI,MACR,2BAA0BF,GAAA,YAAAA,EAAc,UAAW,0BAA0B,EAC/E,CAAA,CAIM,QAAA,IACN,8DACF,EACA,MAAMG,EAAe,CACnB,GAAGP,EACH,cAAe,UAAU9R,EAAK,QAAQ,YAAY,EACpD,EAEMsS,EAAgB,MAAM,MAAMX,EAAY,CAC5C,QAASU,EACT,YAAa,SAAA,CACd,EAEG,GAAA,CAACC,EAAc,GAAI,CACf,MAAAC,EAAa,MAAMD,EAAc,KAAK,EAC5C,MAAM,IAAI,MACR,4BAA4BA,EAAc,MAAM,KAAKC,CAAU,EACjE,CAAA,CAGK,OAAA,MAAMD,EAAc,KAAK,QACzB1R,EAAgB,CAOvB,MANQ,QAAA,MACN,qDACAA,CACF,EAGIA,aAAiB,MACb,IAAI,MAAM,8BAA8BA,EAAM,OAAO,EAAE,EAEvD,IAAI,MAAM,8BAA8B,OAAOA,CAAK,CAAC,EAAE,CAC/D,CACF,CAGF,MAAM,IAAI,MACR,kCAAkCoR,EAAS,MAAM,KAAKC,EAAS,EACjE,CAAA,CAGI,MAAAO,EAAe,MAAMR,EAAS,KAAK,EACzC,eAAQ,IAAI,0CAA0C,EAC/CQ,QACAxT,EAAG,CACV,MAAM8C,EAAe9C,aAAa,MAAQA,EAAE,QAAU,OAAOA,CAAC,EAC9D,cAAQ,MAAM,iCAAkC,CAC9C,MAAO8C,EACP,IAAK6P,EACL,UAAW,IAAI,KAAK,EAAE,YAAY,CAAA,CACnC,EACK,IAAI,MAAM,mBAAmB7P,CAAY,EAAE,CAAA,CAErD,EAEM2Q,EAAa,CACjB,iBAAkB,IAClB,kBAAmB,GACnB,sBAAuB,GAEvB,WAAY,EACZ,WAAaC,GACX,KAAK,IAAI,IAAO,GAAKA,EAAc,GAAK,CAwB5C,EAEM,CACJ,KAAMC,EACN,MAAA/R,EACA,UAAAgS,EACA,QAAAC,GACEC,GAAS,CACX,SAAU,CAACtB,CAAM,EACjB,QAAS,IAAMC,EAAQD,CAAM,EAC7B,MAAOiB,EAAW,WAClB,WAAYA,EAAW,WACvB,UAAWA,EAAW,iBACtB,qBAAsBA,EAAW,kBACjC,mBAAoBA,EAAW,qBAAA,CAChC,EAEK,CAACM,EAAcC,CAAe,EAAIC,EAAAA,SAAS,EAAK,EAGhDC,EAAc,SAAY,CAC1B,GAAA,CACFF,EAAgB,EAAI,EACpB,MAAMH,EAAQ,QACPX,EAAuB,CACtB,QAAA,MAAM,yBAA0BA,CAAY,CAAA,QACpD,CACAc,EAAgB,EAAK,CAAA,CAEzB,EAGA,eAAQ,IAAI,gBAAiB,CAC3B,QAAS,CACP,SAAUL,GAAA,YAAAA,EAAS,SACnB,SAAUA,GAAA,YAAAA,EAAS,SACnB,KAAMA,GAAA,YAAAA,EAAS,KACf,QAASA,GAAA,YAAAA,EAAS,QAClB,WAAYA,GAAA,YAAAA,EAAS,UACvB,EACA,MAAA/R,EACA,UAAAgS,CAAA,CACD,EAGO,QAAA,IAAI,WAAYpB,CAAM,EAGtB,QAAA,IACN,2DACA,KAAK,UAAUmB,EAAS,KAAM,CAAC,EAC/B,SACA/R,EACA,aACAgS,CACF,EAyTO,CACL,UAvTsBO,EAAAA,QAAQ,IAAwB,CAKtD,GAJQ,QAAA,IACN,qEACA,KAAK,UAAUR,EAAS,KAAM,CAAC,CACjC,EACI,CAACA,EACK,eAAA,IACN,8EACF,EACO,KAGL,GAAA,CACM,QAAA,IACN,+EACAA,EAAU,OAAO,KAAKA,CAAO,EAAE,KAAK,IAAI,EAAI,iBAC9C,EACA,QAAQ,IAAI,gBAAiB,KAAK,UAAUA,EAAS,KAAM,CAAC,CAAC,EA2FvD,MAAAS,EAxFkBC,GAAS,CAC/B,KAAMC,GAAS,EAAE,SAAS,EAC1B,SAAUC,GAAU,EAAE,SAAS,EAC/B,SAAUC,EAAS,EAAE,SAAS,EAC9B,QAASC,GACPJ,GAAS,CACP,UAAWG,EAAS,EACpB,KAAMF,GAAS,EACf,QAASE,EAAS,EAClB,WAAYD,GAAU,EACtB,OAAQC,EAAS,EAAE,SAAS,EAC5B,kBAAmBA,EAAS,EAAE,SAAS,CACxC,CAAA,CACH,EACA,UAAWH,GACD,CACN,aAAcG,EAAS,EACvB,MAAOA,EAAS,EAChB,MAAOF,GAAS,CACjB,CAAA,EACA,SAAS,EACZ,QAASI,GAELL,GAAS,CACP,QAASC,GAAS,EAClB,QAASA,GAAS,EAClB,OAAQA,GAAS,EACjB,MAAOE,EAAS,EAChB,IAAKA,EAAS,EACd,SAAUA,EAAS,EACnB,SAAUD,GAAU,EACpB,eAAgBD,GAAS,EAAE,SAAS,CACrC,CAAA,GAEF,SAAS,EACZ,SAAUD,GACA,CACN,KAAMG,EAAS,EACf,MAAOA,EAAS,EAChB,MAAOA,EAAS,EAChB,IAAKA,EAAS,CACf,CAAA,EACA,SAAS,EACZ,WAAYH,GACF,CACN,SAAUG,EAAS,EACnB,MAAOA,EAAS,EAChB,QAASA,EAAS,CACnB,CAAA,EACA,SAAS,EACZ,cAAeH,GACL,CACN,QAASG,EAAS,EAClB,OAAQA,EAAS,EACjB,SAAUA,EAAS,EACnB,QAASA,EAAS,EAClB,WAAYA,EAAS,EACrB,aAAcA,EAAS,CACxB,CAAA,EACA,SAAS,EACZ,gBAAiBH,GACP,CACN,QAASI,GACPJ,GAAS,CACP,KAAMC,GAAS,EACf,WAAYC,GAAU,EACtB,eAAgBD,GAAS,CAC1B,CAAA,CACH,EACA,QAASI,GACPL,GAAS,CACP,QAASC,GAAS,EAClB,QAASA,GAAS,EAClB,OAAQA,GAAS,EACjB,MAAOE,EAAS,EAChB,IAAKA,EAAS,EACd,SAAUA,EAAS,EACnB,SAAUD,GAAU,EACpB,eAAgBD,GAAS,CAC1B,CAAA,CAAA,CAEJ,CAAA,EACA,SAAS,EACZ,QAASA,GAAS,EAAE,SAAS,EAC7B,MAAOI,GAAQF,EAAU,CAAA,EAAE,SAAS,CAAA,CACrC,EAGmC,UAAUb,CAAO,EACjD,GAAA,CAACS,EAAY,QACf,eAAQ,MAAM,iDAAkD,CAC9D,MAAOA,EAAY,MACnB,SAAUT,CAAA,CACX,EAGM,CACL,KAAAtC,EACA,QAAS,CAAC,EACV,QAAS,CAAC,EACV,SAAU,OACV,QAAS,MACX,EAII,KAAA,CACJ,KAAAA,EACA,WAAAsD,EACA,SAAAC,EACA,SAAAC,EACA,SAAAC,EACA,QAAAC,EACA,WAAAC,GACA,UAAAC,EACA,oBAAAC,EACA,QAAAC,EACA,SAAAzG,EACA,WAAA0G,EACA,cAAAC,EACA,gBAAAC,EACA,MAAAC,GACA,GAAGvH,EAAA,EACD2F,EACI,QAAA,IACN,mEACF,EAGA,MAAM6B,GAGF,CAAC,EACDT,GAAW,OAAOA,GAAY,WACzB,OAAA,QAAQA,CAAO,EAAE,QAAQ,CAAC,CAAC5U,EAAKO,CAAK,IAAM,WAC5C,GAAAA,GAAS,OAAOA,GAAU,SAAU,CAChC,MAAA+U,GAAYtV,EAAI,YAAY,EAE5BuV,GAAcvV,EAAI,OAAO,CAAC,EAAE,cAAgBA,EAAI,MAAM,CAAC,EAE7DqV,GAAWC,EAAS,EAAI,CACtB,KAAMC,GACN,UAAWhV,EAAM,WAAa,EAC9B,KAAMA,EAAM,KACZ,OAAQA,EAAM,SAAWA,EAAM,QAAU,EACzC,WAAY,EAAQA,EAAM,WAC1B,MAAOA,EAAM,OAAS,EACtB,iBAAgByE,IAAAC,GAAAkQ,GAAA,YAAAA,EAAiB,UAAjB,YAAAlQ,GAA2BqQ,MAA3B,YAAAtQ,GAAuC,iBAAkB,EAC3E,CAAA,CACF,CACD,EAGO,QAAA,IAAI,sCAAuCqQ,EAAU,GAIzD,MAAAG,GAAgB,MAAM,QAAQR,CAAO,EACvCA,EAAQ,IAAKS,GAAc,iBACnB,MAAAC,GAASzQ,GAAAwQ,EAAU,UAAV,YAAAxQ,GAAmB,cAC5B0Q,IAAS3Q,GAAAyQ,EAAU,UAAV,YAAAzQ,GAAmB,cAG9B,GAAA,CAAC0Q,GAAU,CAACC,GACN,eAAA,KAAK,iDAAkDF,CAAS,EACjE,KAGH,MAAAG,GAAUP,GAAWK,CAAM,EAC3BG,GAAUR,GAAWM,EAAM,EAG7B,GAAA,CAACC,IAAW,CAACC,GACP,eAAA,KAAK,gDAAgDH,CAAM,IAAID,EAAU,MAAM,IAAIE,EAAM,EAAE,EAC5F,KAIH,MAAAG,KAAuBC,IAAAC,GAAAb,GAAA,YAAAA,EAAiB,UAAjB,YAAAa,GAA0B,KACpDrJ,IACE,6BAAA,QAAA1H,GAAA0H,GAAE,UAAF,YAAA1H,GAAW,iBAAkByQ,KAC7B1Q,GAAA2H,GAAE,UAAF,YAAA3H,GAAW,iBAAkB2Q,MAC7BK,GAAArJ,GAAE,SAAF,YAAAqJ,GAAU,mBAAkBD,GAAAN,EAAU,SAAV,YAAAM,GAAkB,kBAC9CE,GAAAtJ,GAAE,UAAF,YAAAsJ,GAAW,iBAAkBN,MAC7BO,GAAAvJ,GAAE,UAAF,YAAAuJ,GAAW,iBAAkBR,KAC7BS,GAAAxJ,GAAE,SAAF,YAAAwJ,GAAU,mBAAkBC,GAAAX,EAAU,SAAV,YAAAW,GAAkB,mBAPtB,YAAAL,GAQ1B,iBAAkB,GAGfM,GAAaZ,EAAU,OACzBA,EAAU,OAAO,OAAO,CAAC,EAAE,YAAY,EAAIA,EAAU,OAAO,MAAM,CAAC,EAAE,cACrE,UAEG,MAAA,CACL,QAAS,CAACG,GAASC,EAAO,EAC1B,KAAMQ,GACN,MAAOZ,EAAU,OAAS,EAC1B,IAAKA,EAAU,KAAO,EACtB,UAAWA,EAAU,UAAY,KAAO,GAAG,KAAK,MAAMA,EAAU,SAAW,GAAG,CAAC,IAAM,MACrF,SAAU,EAAQA,EAAU,SAC5B,eAAgBK,IAAwBjF,GAAuBwF,GAAW,YAAa,CAAA,GAAK,6BAC9F,CAAA,CACD,EAAE,UAAiBC,IAAW,IAAI,EACnC,CAAC,EAGH,QAAQ,IAAI,8CAA+Cd,GAAc,MAAM,EAAG,CAAC,CAAC,EAC9E,QAAA,IACN,2DACA,KAAK,UAAUA,GAAe,KAAM,CAAC,CACvC,EAGA,MAAMe,GAAgD,CAAC,EAGjDC,EAAqBrB,EAGvBqB,GAAsB,OAAOA,GAAuB,UACtD,OAAO,KAAKA,CAAkB,EAAE,QAASxW,GAAQ,CAE7CA,IAAQ,WACRA,IAAQ,WACR,OAAOwW,EAAmBxW,CAAG,GAAM,WAEbuW,GAAAvW,CAAG,EAAIwW,EAAmBxW,CAAG,EACrD,CACD,EAKDwW,GAAA,MAAAA,EAAoB,SACpB,OAAOA,EAAmB,SAAY,UAEtC,OAAO,KAAKA,EAAmB,OAAO,EAAE,QAASxW,GAAQ,CACjD,MAAAyW,EAAeD,EAAmB,QAAQxW,CAAG,EAC/C,OAAOyW,GAAiB,UAAYA,EAAa,eAC7BF,GAAAvW,CAAG,EAAIyW,EAAa,eACjC,OAAOA,GAAiB,WACjCF,GAAsBvW,CAAG,EAAIyW,EAC/B,CACD,EAIH,MAAMlS,GAAoB,CACxB,KAAA2M,EACA,UAAWsD,EACX,SAAAC,EACA,SAAAC,EACA,SAAAC,EACA,QAASU,GACT,UAAWvD,GAAsB0B,EAAQ,UAAWqB,EAAU,EAC9D,SAAUE,EACN,CACE,OAAQA,EAAoB,QAC5B,MAAOA,EAAoB,MAC3B,IAAKA,EAAoB,IACzB,SAAUA,EAAoB,SAEhC,EAAA,OACJ,QAASS,GACT,SAAAjH,EACA,WAAA0G,EACA,aAAcC,EACd,gBAAiB,CACf,QAASqB,GACT,SAASpB,GAAA,YAAAA,EAAiB,UAAW,CAAA,CACvC,EACA,MAAOC,IAAS,CAAC,EACjB,GAAGvH,EACL,EACQ,eAAA,IACN,gEACA,KAAK,UAAUtJ,GAAQ,KAAM,CAAC,CAChC,EACOA,SACA9C,EAAO,CACN,eAAA,MACN,8DACAA,EACA,oBACA,KAAK,UAAU+R,EAAS,KAAM,CAAC,CACjC,EACO,IAAA,CACT,EACC,CAACA,CAAO,CAAC,EAIV,QAASC,EACT,MAAAhS,EACA,YAAAsS,CACF,CACF,ECz6BO,SAAS2C,GAA2BC,EAA+D,CACpG,GAAA,CAACA,EAAkB,OAAA,KAGvB,MAAM7B,GAAa,IAAM,SACvB,OAAI7P,EAAA0R,EAAU,OAAV,MAAA1R,EAAgB,WAAmB0R,EAAU,KAAK,YAClD3R,EAAA2R,EAAU,YAAV,MAAA3R,EAAqB,KAAa2R,EAAU,UAAU,KACnD,UAAA,GACN,EAEGC,GAAoB,IAAM,SAC9B,OAAI,QAAO3R,EAAA0R,EAAU,OAAV,YAAA1R,EAAgB,eAAiB,SAAiB0R,EAAU,KAAK,aACxE,QAAO3R,EAAA2R,EAAU,YAAV,YAAA3R,EAAqB,eAAiB,SAAiB2R,EAAU,UAAU,aAC/E,CAAA,GACN,EAGGE,GAAW,IAAM,WACrB,OAAI5R,EAAA0R,EAAU,MAAV,MAAA1R,EAAe,KAAa,OAAO0R,EAAU,IAAI,IAAI,GACrDX,GAAAhR,EAAA2R,EAAU,UAAV,YAAA3R,EAAmB,MAAnB,MAAAgR,EAAwB,KAAa,OAAOW,EAAU,QAAQ,IAAI,IAAI,EACnE,OAAA,GACN,EAGGG,GAAqB,IAAM,SAC3B,QAAA9R,GAAAC,EAAA0R,EAAU,UAAV,YAAA1R,EAAmB,UAAnB,YAAAD,EAA4B,cAAe,OACtC,EAAQ2R,EAAU,QAAQ,QAAQ,WACpC,EAAA,GACN,GAGyBA,EAAU,SAAW,CAAA,GAAI,OAAiBL,GAAA,CAEpE,MAAMS,EAAO,SAAUT,EAAS,OAAOA,EAAO,MAAQ,EAAE,EAAI,GACtDU,EAAK,OAAQV,EAAS,OAAOA,EAAO,IAAM,EAAE,EAAI,GAG/C,MAAA,CAACS,EAAMC,CAAE,EAAE,KAChBC,GAAAA,IAAMA,EAAE,SAAS,KAAK,GAAKA,EAAE,SAAS,MAAM,GAAKA,EAAE,SAAS,SAAS,EACvE,CAAA,CACD,EAIsB,OAAS,EAKhC,MAAMC,EAAkB,CACtB,KAAM,CAAE,MAAO,EAAG,QAAS,CAAA,CAAG,EAC9B,MAAO,CAAE,MAAO,EAAG,QAAS,CAAA,CAAG,EAC/B,MAAO,CAAE,MAAO,EAAG,QAAS,CAAA,CAAG,EAC/B,IAAK,CAAE,MAAO,EAAG,QAAS,CAAG,CAAA,CAC/B,EAEM3I,EAAWoI,EAAU,UAAYO,EAGjCC,EACC5I,EAAS,KACV,OAAOA,EAAS,MAAS,SAAiBA,EAAS,KACnD,OAAOA,EAAS,KAAK,OAAU,SAAiBA,EAAS,KAAK,MAC3D,EAHoB,EAMvB6I,EACC7I,EAAS,MACV,OAAOA,EAAS,OAAU,SAAiBA,EAAS,MACpD,OAAOA,EAAS,MAAM,OAAU,SAAiBA,EAAS,MAAM,MAC7D,EAHqB,EAMxB8I,EACC9I,EAAS,MACV,OAAOA,EAAS,OAAU,SAAiBA,EAAS,MACpD,OAAOA,EAAS,MAAM,OAAU,SAAiBA,EAAS,MAAM,MAC7D,EAHqB,EAMxB+I,EACC/I,EAAS,IACV,OAAOA,EAAS,KAAQ,SAAiBA,EAAS,IAClD,OAAOA,EAAS,IAAI,OAAU,SAAiBA,EAAS,IAAI,MACzD,EAHmB,EAMtBgJ,EAAgBJ,EAAYC,EAAaC,EAAaC,GAAY,IAElEE,EAAgB,CACpB,KAAM,KAAK,MAAOL,EAAYI,EAAiB,GAAG,GAAK,GACvD,MAAO,KAAK,MAAOH,EAAaG,EAAiB,GAAG,GAAK,GACzD,MAAO,KAAK,MAAOF,EAAaE,EAAiB,GAAG,GAAK,GACzD,IAAK,KAAK,MAAOD,EAAWC,EAAiB,GAAG,GAAK,EACvD,EAGME,EAAkB,OAAO,QAAQD,CAAa,EACjD,KAAK,CAAC7K,EAAGC,IAAMA,EAAE,CAAC,EAAID,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAGnC,IAAI+K,EAAa,GAGjB,OAAAA,GAAcC,GAAqBd,CAAO,EAG5Ba,GAAA,IAAME,GAAuB9C,EAAW8B,CAAgB,EAGxDc,GAAA,IAAMG,GAAqBJ,EAAiBD,CAAa,EAGnEV,IACYY,GAAA,+JAIT,CACL,WAAAA,EACA,gBAAAD,EACA,cAAAD,EACA,UAAA1C,EACA,iBAAA8B,EACA,QAAAC,EACA,kBAAAC,EACA,WAAY,GACZ,KAAM,CAACW,EAAiB,mBAAmB,CAC7C,CACF,CAKA,SAASE,GAAqBG,EAAsB,CAgB3C,MAfqC,CAC1C,MAAS,oEACT,OAAU,qEACV,OAAU,yEACV,OAAU,yDACV,IAAO,2DACP,MAAS,mEACT,MAAS,+DACT,QAAW,iEACX,YAAe,mEACf,UAAa,qDACb,SAAY,gEACZ,OAAU,iEACZ,EAEmBA,CAAI,GAAK,6DAC9B,CAKA,SAASF,GAAuBvG,EAAeE,EAA8B,CAYpE,MAXqC,CAC1C,WAAY,qEACZ,kBAAmB,wDACnB,gBAAiB,wEACjB,iBAAkB,gEAClB,YAAa,+DACb,iBAAkB,4EAClB,eAAgB,oEAChB,kBAAmB,8DACrB,EAEmBF,CAAK,GAAK,QAAQ,KAAK,MAAME,EAAe,GAAG,CAAC,+DACrE,CAKA,SAASsG,GACPpJ,EACAsJ,EACQ,CAQD,MAPqC,CAC1C,KAAQ,sCAAsCA,EAAO,IAAI,mFACzD,MAAS,sBAAsBA,EAAO,KAAK,uFAC3C,IAAO,2BAA2BA,EAAO,GAAG,sFAC5C,MAAS,iCAAiCA,EAAO,KAAK,uEACxD,EAEmBtJ,CAAO,GAAK,wFACjC,CChPA,MAAMuJ,GAAwD,CAAC,CAC7D,QAAAC,EAAU,CAAC,EACX,QAAAC,EAAU,GACV,MAAAzW,EAAQ,IACV,IACMyW,EAEAC,EAAC,MAAI,CAAA,UAAU,YACb,SAAA,CAACC,EAAA,KAAA,CAAG,UAAU,sDAAsD,SAAqB,wBAAA,IACxF,MAAI,CAAA,UAAU,sEACZ,SAAA,CAAC,GAAG,MAAM,CAAC,CAAC,EAAE,IAAI,CAAClZ,EAAGyC,IACpBwW,EAAA,MAAA,CAAY,UAAU,iGACrB,SAAA,CAACC,EAAAC,GAAA,CAAS,UAAU,qCAAsC,CAAA,EAC1DD,EAACC,GAAS,CAAA,UAAU,gBAAiB,CAAA,EACrCD,EAACC,GAAS,CAAA,UAAU,WAAY,CAAA,CAAA,CAHxB,EAAA1W,CAIV,CACD,CACH,CAAA,CAAA,EACF,EAIAF,EAEA2W,EAAC,OAAI,UAAU,mBACb,WAAC,IAAE,CAAA,UAAU,eAAe,SAAA,oDAAA,CAAkD,CAChF,CAAA,EAIA,CAACF,IAAY,CAACD,GAAWA,EAAQ,SAAW,GACvC,MAIyBA,EAAQ,OAAS,GAC/CA,EAAQ,OAAO,CAACK,EAAKC,IAAWD,GAAOC,EAAO,uBAAyB,GAAI,CAAC,EAAIN,EAAQ,OAMxFE,EAAAK,GAAA,CAAA,SAAA,CAAAJ,EAAC,OAAI,UAAU,mBACb,WAAC,MAAI,CAAA,UAAU,uBACb,SAACA,EAAA,MAAA,CAAI,UAAU,6EACZ,WAAQ,MAAM,EAAG,CAAC,EAAE,IAAKG,IAAY,CACpC,GAAGA,EACH,gBAAiBA,EAAO,qBAC1B,EAAE,EAAE,IAAKA,GACNH,EAAA,MAAA,CAAoB,UAAU,4BAC7B,SAACA,EAAAK,GAAA,CAAe,GAAGF,EAAQ,UAAU,gDAAgD,gBAAiB,EAAM,CAAA,CAAA,EADpGA,EAAO,EAEjB,CACD,EACH,CAAA,CACF,CACF,CAAA,IAGC,MAAI,CAAA,UAAU,yBACb,SAACH,EAAA,MAAA,CAAI,UAAU,8BACb,SAAAA,EAAC,OAAI,UAAU,wBACZ,WAAQ,MAAM,EAAG,CAAC,EAAE,IAAKG,IAAY,CACpC,GAAGA,EACH,gBAAiBA,EAAO,qBAC1B,EAAE,EAAE,IAAKA,GACNH,EAAA,MAAA,CAAoB,UAAU,gBAC7B,SAACA,EAAAK,GAAA,CAAe,GAAGF,EAAQ,UAAU,YAAY,gBAAiB,EAAM,CAAA,GADhEA,EAAO,EAEjB,CACD,CACH,CAAA,CACF,CAAA,CACF,CAAA,CAAA,EACF,GCrFEG,GAAe,2CACfC,GAAe,8NAUR7H,GAAWC,GAAuB2H,GAAcC,EAAY,EACzE,QAAQ,MAAM,0CAA0C,ECyBxD,MAAMC,GAAgB,CAACC,EAAQ,IAAM,CACnC,KAAM,CAACZ,EAASa,CAAU,EAAIhF,EAAAA,SAAmB,CAAA,CAAE,EAC7C,CAACoE,EAASa,CAAU,EAAIjF,EAAAA,SAAS,EAAI,EACrC,CAACrS,EAAO4D,CAAQ,EAAIyO,EAAAA,SAAuB,IAAI,EAErDkF,OAAAA,EAAAA,UAAU,IAAM,EACU,SAAY,CAC9B,GAAA,CACFD,EAAW,EAAI,EAET,KAAA,CAAE,KAAME,EAAa,MAAAxX,CAAAA,EAAU,MAAMqP,GACxC,KAAK,kBAAkB,EACvB,OAAO,GAAG,EACV,IAAI,wBAAyB,KAAM,IAAI,EACvC,MAAM,wBAAyB,CAAE,UAAW,EAAM,CAAC,EACnD,MAAM+H,CAAK,EAEd,GAAIpX,EAAO,MAAM,IAAI,MAAMA,EAAM,OAAO,EAGxC,MAAMyX,GAAoBD,GAAe,CAAI,GAAA,IAAKE,GAA+B,CAE/E,MAAMC,EAAW,OAAOD,EAAU,WAAa,EAAE,EAC7C,GAAA,CAACC,EAAiB,OAAA,KAEtB,MAAMC,EAAY,OAAOF,EAAU,mBAAqB,EAAE,EACpDG,EAAW,OAAOH,EAAU,kBAAoB,EAAE,EAClDI,EAAW,OAAOJ,EAAU,kBAAoB,GAAGE,CAAS,IAAIC,CAAQ,GAAG,KAAK,GAAK,EAAE,EAoCtF,MAjCgB,CACrB,GAAIF,EACJ,UAAWA,EACX,UAAWG,EACX,WAAYF,EACZ,UAAWC,EACX,aAAcH,EAAU,2BAA6B,KACrD,QAASA,EAAU,SAAW,KAC9B,kBAAmBA,EAAU,mBAAqB,KAClD,WAAYA,EAAU,mBAAqB,KAC3C,eAAgBA,EAAU,sBAAwB,KAClD,iBAAkBA,EAAU,yBAA2B,KACvD,cAAeA,EAAU,sBAAwB,KACjD,IAAKA,EAAU,YAAc,KAC7B,OAAQA,EAAU,eAAiB,KACnC,OAAQA,EAAU,eAAiB,KACnC,KAAMA,EAAU,wBAA0B,KAC1C,OAAQA,EAAU,0BAA4B,KAC9C,SAAUA,EAAU,yBAA2B,KAC/C,aAAcA,EAAU,cAAgB,EACxC,sBAAuBA,EAAU,uBAAyB,EAC1D,kBAAmBA,EAAU,2BAA6B,KAC1D,mBAAoBA,EAAU,oBAAsB,KACpD,uBAAwBA,EAAU,wBAA0B,KAC5D,mBAAoBA,EAAU,oBAAsB,KACpD,6BAA8BA,EAAU,8BAAgC,KACxE,uBAAwBA,EAAU,wBAA0B,KAC5D,sBAAuBA,EAAU,uBAAyB,KAC1D,mBAAoBA,EAAU,oBAAsB,KACpD,UAAW,KACX,UAAW,KACb,CAEO,CACR,EAGDL,EAAWI,EAAiB,OAAQjC,GAAmBA,IAAM,IAAI,CAAC,QAC3DlS,EAAU,CACT,QAAA,MAAM,uCAAwCA,CAAG,EACzDM,EAASN,aAAe,MAAQA,EAAM,IAAI,MAAM,6BAA6B,CAAC,CAAA,QAC9E,CACAgU,EAAW,EAAK,CAAA,CAEpB,GAEgB,CAAA,EACf,CAACF,CAAK,CAAC,EAEH,CAAE,QAAAZ,EAAS,QAAAC,EAAS,MAAAzW,CAAM,CACnC,ECxHa+X,GAAkBC,GAA+B,CAE5D,OADeA,EAAW,YAAY,EACtB,CACd,IAAK,MACI,MAAA,UACT,IAAK,OACI,MAAA,UACT,IAAK,UACI,MAAA,UACT,IAAK,QACI,MAAA,UACT,IAAK,OACI,MAAA,UACT,IAAK,UACI,MAAA,UACT,IAAK,SACI,MAAA,UACT,IAAK,SACI,MAAA,UACT,IAAK,UACI,MAAA,UACT,IAAK,QACI,MAAA,UACT,QACS,MAAA,SAAA,CAEb,EAEaC,GAAqBD,GAA+B,CACzD,MAAAE,EAAQH,GAAeC,CAAU,EAEhC,MAAA,2BAA2BE,CAAK,QAAQA,CAAK,UACtD,EChBMC,GAAwD,CAAC,CAC7D,MAAArZ,EAAQ,EACR,UAAAsZ,EACA,QAAAC,EACA,YAAAC,EAAc,MACd,UAAAC,EAAY,OACZ,WAAYC,EACZ,SAAUC,EACV,OAAAC,EAAS,GACT,UAAAC,EAAY,GACZ,MAAAC,CACF,IAAM,CAEJ,MAAMC,EAAaL,GAAkBT,GAAeO,CAAW,GAAK,UAC9DQ,EAAWL,GAAgBV,GAAeQ,CAAS,GAAK,UAGxD,CAACQ,EAAYC,CAAa,EAAI3G,WAAS,CAC3C,MAAO,OAAO,OAAW,IAAc,OAAO,WAAa,EAC3D,OAAQ,OAAO,OAAW,IAAc,OAAO,YAAc,CAAA,CAC9D,EAGDkF,EAAAA,UAAU,IAAM,CACd,MAAM0B,EAAe,IAAM,CACXD,EAAA,CACZ,MAAO,OAAO,WACd,OAAQ,OAAO,WAAA,CAChB,CACH,EAEO,cAAA,iBAAiB,SAAUC,CAAY,EACvC,IAAM,OAAO,oBAAoB,SAAUA,CAAY,CAChE,EAAG,EAAE,EAGC,MAAAC,EAAkB,KAAK,IAAI,KAAK,IAAIpa,EAAO,CAAC,EAAG,GAAG,EAAI,IAGtDqa,EAAkBra,EAAQ,GAAKyZ,EAAYD,EAC3Cc,EAAiBD,EAAkBpB,GAAeoB,CAAe,EAAIN,EAGrEQ,EAAgBN,EAAW,OAAS,IAAM,GAAK,GAG/CO,EAAsC,CAC1C,KAAM,GAAGJ,EAAkB,GAAG,IAC9B,IAAK,MACL,MAAO,GAAGG,CAAa,KACvB,OAAQ,GAAGA,CAAa,KACxB,aAAc,MACd,WAAYpB,GAAkBkB,GAAmB,SAAS,EAC1D,OAAQ,qCACR,UAAW,YAAYC,CAAc,gBAAgBA,CAAc,KACnE,WAAY,oBACZ,QAAS,OACT,WAAY,SACZ,eAAgB,QAClB,EAEMG,EAAYC,SAA0B,IAAI,EAC1CC,EAAeD,SAAe,CAAC,EAC/B,CAACE,GAAMC,CAAO,EAAItH,EAAAA,SAAS,CAAC,EACjBmH,OAAAA,EAAAA,OAAwB,IAAI,EAE7CjC,EAAAA,UAAU,IAAM,CACd,MAAMqC,EAASL,EAAU,QACzB,GAAI,CAACK,EAAQ,OAEP,MAAArY,EAAMqY,EAAO,WAAW,IAAI,EAClC,GAAI,CAACrY,EAAK,OAGV,MAAM0X,EAAe,IAAM,CAEnB,MAAAY,EAAM,OAAO,kBAAoB,EACjCC,EAAOF,EAAO,sBAAsB,EAEnCA,EAAA,MAAQE,EAAK,MAAQD,EAC5BD,EAAO,OAASlB,EAASmB,EAErBtY,EAAA,MAAMsY,EAAKA,CAAG,CACpB,EAGaZ,EAAA,EACN,OAAA,iBAAiB,SAAUA,CAAY,EAG9C,MAAMc,EAAU,IAAM,CAChB,GAAA,CAACH,GAAU,CAACrY,EAAK,OAGrBA,EAAI,UAAU,EAAG,EAAGqY,EAAO,MAAOA,EAAO,MAAM,EAG/C,MAAMI,EAAWzY,EAAI,qBAAqB,EAAG,EAAGqY,EAAO,MAAO,CAAC,EACtDI,EAAA,aAAa,EAAGnB,CAAU,EACnCmB,EAAS,aAAa,GAAK,GAAGnB,CAAU,IAAI,EACnCmB,EAAA,aAAa,EAAGlB,CAAQ,EAGjC,MAAMmB,EAAYvB,EAAS,IACrBwB,GAAY,IACZC,GAAaT,GAAO,IAG1BnY,EAAI,UAAU,EAGR,MAAAsY,GAAM,OAAO,kBAAoB,EACjCO,GAAOR,EAAO,MAAQV,EAAkBW,GAG9CtY,EAAI,KAAK,EACTA,EAAI,UAAU,EACVA,EAAA,OAAO,EAAGmX,EAAS,CAAC,EAGxB,QAASjX,EAAI,EAAGA,GAAK2Y,GAAM3Y,IAAK,CAE9B,MAAM4Y,GAAI3B,EAAS,EACVuB,EAAY,GAAM,KAAK,IAAIC,GAAYzY,EAAI0Y,EAAU,EACrDF,EAAY,GAAM,KAAK,IAAIC,GAAY,IAAMzY,EAAI0Y,GAAa,EAAG,EACtE5Y,EAAA,OAAOE,EAAG4Y,EAAC,CAAA,CAIb9Y,EAAA,OAAO6Y,GAAM1B,CAAM,EACnBnX,EAAA,OAAO,EAAGmX,CAAM,EACpBnX,EAAI,UAAU,EAGd,MAAM+Y,GAAe/Y,EAAI,qBAAqB,EAAG,EAAG6Y,GAAM,CAAC,EAC3DE,GAAa,aAAa,EAAG,GAAGzB,CAAU,IAAI,EAC9CyB,GAAa,aAAa,EAAG,GAAGxB,CAAQ,IAAI,EAE5CvX,EAAI,UAAY+Y,GAChB/Y,EAAI,YAAcsX,EAClBtX,EAAI,WAAa,GACjBA,EAAI,cAAgB,EACpBA,EAAI,cAAgB,EACpBA,EAAI,KAAK,EACTA,EAAI,QAAQ,EAGZA,EAAI,UAAU,EACVA,EAAA,OAAO,EAAGmX,EAAS,CAAC,EAGxB,QAASjX,EAAI,EAAGA,GAAK2Y,GAAM3Y,IAAK,CAE9B,MAAM4Y,GAAI3B,EAAS,EACVuB,EAAY,GAAM,KAAK,IAAIC,GAAYzY,EAAI0Y,EAAU,EACrDF,EAAY,GAAM,KAAK,IAAIC,GAAY,EAAIzY,EAAI0Y,GAAa,EAAG,EACpE5Y,EAAA,OAAOE,EAAG4Y,EAAC,CAAA,CAIb9Y,EAAA,OAAO6Y,GAAM1B,CAAM,EACnBnX,EAAA,OAAO,EAAGmX,CAAM,EACpBnX,EAAI,UAAU,EAGdA,EAAI,UAAYyY,EAChBzY,EAAI,KAAK,EAGDoY,EAAAY,GAAYA,EAAW,CAAC,EAGnBd,EAAA,QAAU,sBAAsBM,CAAO,CACtD,EAGQ,OAAAA,EAAA,EAGD,IAAM,CACX,qBAAqBN,EAAa,OAAO,CAC3C,CAAA,EACC,CAACP,EAAiBL,EAAYC,EAAUJ,EAAQgB,EAAI,CAAC,EAGxDnC,EAAAA,UAAU,IAAM,CAEd,MAAMiD,EAAsB,IAAM,CAChC,MAAMZ,EAASL,EAAU,QACzB,GAAI,CAACK,EAAQ,OAEP,MAAArY,EAAMqY,EAAO,WAAW,IAAI,EAClC,GAAI,CAACrY,EAAK,OAEJ,MAAAsY,EAAM,OAAO,kBAAoB,EACjCC,EAAOF,EAAO,sBAAsB,EAEnCA,EAAA,MAAQE,EAAK,MAAQD,EAC5BD,EAAO,OAASlB,EAASmB,EAErBtY,EAAA,MAAMsY,EAAKA,CAAG,CACpB,EAEO,cAAA,iBAAiB,SAAUW,CAAmB,EAE9C,IAAM,CACJ,OAAA,oBAAoB,SAAUA,CAAmB,CAC1D,CAAA,EACC,CAAC9B,CAAM,CAAC,EAGRhC,EAAA,MAAA,CAAI,UAAW,qCAAqCiC,CAAS,GAAI,MAAO,CAAE,OAAQ,GAAGD,CAAM,IAE1F,EAAA,SAAA,CAAC/B,EAAA,MAAA,CAAI,UAAU,mGACb,SAACA,EAAA,MAAA,CAAI,UAAU,iJACZ,SAAAyB,GAAaqC,GAAM,aAAarC,EAAiC,CAChE,UAAW,sCAAA,CACZ,EACH,CACF,CAAA,EAGAzB,EAAC,MAAI,CAAA,UAAU,sCACb,SAAAA,EAAC,SAAA,CACC,IAAK4C,EACL,UAAU,gBACV,MAAO,CACL,aAAc,KAAA,CAChB,CAAA,EAEJ,EAGA5C,EAAC,MAAI,CAAA,UAAU,oGACb,SAAAA,EAAC,MAAI,CAAA,UAAU,iJACZ,SAAA0B,GAAWoC,GAAM,aAAapC,EAA+B,CAC5D,UAAW,sCAAA,CACZ,EACH,CACF,CAAA,EAGA1B,EAAC,MAAA,CACC,UAAU,kFACV,MAAO2C,EAEN,SACCV,GAAAjC,EAAC,OAAK,CAAA,UAAU,UAAW,SAAMiC,CAAA,CAAA,CAAA,CAAA,CAErC,EACF,CAEJ,ECnKO,SAAS8B,GAAerE,EAAsB,CAe5C,MAdkC,CACvC,MAAO,OACP,OAAQ,QACR,OAAQ,MACR,OAAQ,QACR,IAAK,OACL,MAAO,QACP,MAAO,MACP,QAAS,QACT,YAAa,OACb,UAAW,QACX,SAAU,MACV,OAAQ,OACV,EACgBA,CAAI,GAAK,GAC3B,CAKO,SAASsE,GAAgBtE,EAAsB,CAEpD,OADgBqE,GAAerE,CAAI,EAClB,CACf,IAAK,OACI,MAAA,8CACT,IAAK,QACI,MAAA,iDACT,IAAK,MACI,MAAA,4CACT,IAAK,QACI,MAAA,+CACT,QACS,MAAA,8CAAA,CAEb,CCtHO,MAAMuE,GAAgB,CAAC1K,EAAc/C,EAAO,KAAwB,CACzE,MAAM0N,EAAY,gBACZC,EAA6B,CACjC,UAAWD,EACX,KAAA1N,CACF,EAEQ,OAAA+C,EAAK,YAAe,EAAA,CAC1B,IAAK,MACH,SAAQ5S,GAAK,CAAA,GAAGwd,EAAW,UAAW,GAAGD,CAAS,mBAAoB,EACxE,IAAK,OACH,SAAQ7d,GAAM,CAAA,GAAG8d,EAAW,UAAW,GAAGD,CAAS,kBAAmB,EACxE,IAAK,UACH,SAAQzd,GAAS,CAAA,GAAG0d,EAAW,UAAW,GAAGD,CAAS,iBAAkB,EAC1E,IAAK,QACH,SAAQ/d,GAAO,CAAA,GAAGge,EAAW,UAAW,GAAGD,CAAS,+BAAgC,EACtF,IAAK,OACH,SAAQje,GAAO,CAAA,GAAGke,EAAW,UAAW,GAAGD,CAAS,gBAAiB,EACvE,IAAK,UACH,SAAQre,GAAc,CAAA,GAAGse,EAAW,UAAW,GAAGD,CAAS,mBAAoB,EACjF,IAAK,SACH,SAAQpe,GAAkB,CAAA,GAAGqe,EAAW,UAAW,GAAGD,CAAS,kBAAmB,EACpF,IAAK,SACH,SAAQne,GAAO,CAAA,GAAGoe,EAAW,UAAW,GAAGD,CAAS,iBAAkB,EACxE,IAAK,UACH,SAAQle,GAAU,CAAA,GAAGme,EAAW,UAAW,GAAGD,CAAS,iBAAkB,EAC3E,IAAK,QACH,SAAQ1d,GAAO,CAAA,GAAG2d,EAAW,UAAW,GAAGD,CAAS,kBAAmB,EACzE,QACE,SAAQvd,GAAK,CAAA,GAAGwd,EAAW,UAAW,GAAGD,CAAS,mBAAoB,CAAA,CAE5E,ECnBME,GAAgE,CAAC,CACrE,QAAAxH,EAAU,CAAC,EACX,QAAAJ,EAAU,CAAA,CACZ,IAAM,CACJ,KAAM,CAAC6H,EAAaC,CAAc,EAAIR,GAAM,SAAS,CAAC,EAChD,CAACS,EAAgBC,CAAiB,EAAIV,GAAM,SAAS,EAAK,EAG1DW,EAAgB,OAAO,QAAQjI,CAAO,EAGtCkI,EAAiB,EACjBC,EAAa,KAAK,KAAKF,EAAc,OAASC,CAAc,EAG5DE,EAAiBL,EACnBE,EACAA,EAAc,MAAM,EAAG,EAAE,EAGvBI,GAAcR,EAAc,GAAKK,EACjCI,EAAiBL,EAAc,MAAMI,EAAYA,EAAaH,CAAc,EAE5EK,EAAenI,EAAQ,OAC1BsB,GAAWA,EAAO,SAAWA,EAAO,QAAQ,QAAU,GAAKA,EAAO,QAAQ,CAAC,GAAKA,EAAO,QAAQ,CAAC,CACnG,EAEA,OAEI6B,EAAAK,GAAA,CAAA,SAAA,CAACL,EAAAiF,GAAA,CAAW,UAAU,iBACpB,SAAA,CAACjF,EAAAkF,GAAA,CAAU,UAAU,yDACnB,SAAA,CAACjF,EAAA9Z,GAAA,CAAM,UAAU,4BAA6B,CAAA,EAAE,2BAAA,EAClD,EACC8Z,EAAAkF,GAAA,CAAgB,UAAU,iBAAiB,SAE5C,2EAAA,CAAA,CAAA,EACF,EACAnF,EAACoF,GAAY,CAAA,UAAU,iBAErB,SAAA,CAACpF,EAAA,MAAA,CAAI,UAAU,YACb,SAAA,CAACA,EAAA,KAAA,CAAG,UAAU,wDACZ,SAAA,CAACC,EAAAta,GAAA,CAAS,UAAU,8BAA+B,CAAA,EAAE,mBAAA,EAEvD,EACAqa,EAAC,MAAI,CAAA,UAAU,YACZ,SAAA,CAAAgF,EAAa,MAAM,EAAG,CAAC,EAAE,IAAI,CAAC7G,EAAQrK,IAAU,cACzC,MAAAuR,EAAiBlH,EAAO,UAAY,SAASA,EAAO,UAAU,SAAU,CAAA,EAAI,EAC5EmH,EAAgBD,EAAiB,GAAK,iBACxBA,EAAiB,GAAK,iBAAmB,eAGvDE,IAAc1Y,GAAAC,EAAAqR,EAAO,UAAP,YAAArR,EAAiB,KAAjB,YAAAD,EAAqB,OAAQ,UAC3C2Y,IAAc5H,GAAAC,GAAAM,EAAO,UAAP,YAAAN,GAAiB,KAAjB,YAAAD,EAAqB,OAAQ,UAG/C,OAAAoC,EAAC,MAAgB,CAAA,UAAU,8DACzB,SAAA,CAACA,EAAA,MAAA,CAAI,UAAU,2CACb,SAAA,CAACA,EAAA,MAAA,CAAI,UAAU,gDACZ,SAAA,CAAAkE,GAAcqB,CAAW,EACzBtF,EAAA,OAAA,CAAK,UAAU,iBAAkB,SAAYsF,EAAA,IAC7C,OAAK,CAAA,UAAU,wEAAyE,SAAApH,EAAO,MAAQ,SAAS,EAChH8B,EAAA,OAAA,CAAK,UAAU,iBAAkB,SAAYuF,EAAA,EAC7CtB,GAAcsB,CAAW,CAAA,EAC5B,EACCxF,EAAA,OAAA,CAAK,UAAW,qBAAqBsF,CAAa,GAChD,SAAA,CAAOnH,EAAA,UAAYA,EAAO,UAAU,WAAW,QAAQ,IAAK,EAAE,EAAI,IAAI,GAAA,CACzE,CAAA,CAAA,EACF,EACA8B,EAACwB,GAAA,CACC,MAAO4D,EACP,UAAWnB,GAAcqB,CAAW,EACpC,QAASrB,GAAcsB,CAAW,EAClC,YAAaD,EAAY,YAAY,EACrC,UAAWC,EAAY,YAAY,EACnC,OAAQ,GACR,UAAU,MAAA,CAAA,CACZ,CAAA,EArBQ1R,CAsBV,CAAA,CAEH,EACAkR,EAAa,SAAW,KACtB,MAAI,CAAA,UAAU,kCAAkC,SAEjD,kCAAA,CAAA,CAAA,CAEJ,CAAA,CAAA,EACF,EAGAhF,EAAC,MAAI,CAAA,UAAU,mEACb,SAAA,CAACA,EAAA,KAAA,CAAG,UAAU,6DACZ,SAAA,CAACC,EAAA9Z,GAAA,CAAM,UAAU,4CAA6C,CAAA,EAC9D8Z,EAAC,QAAK,SAAgB,kBAAA,CAAA,CAAA,EACxB,EAEAD,EAAC,MAAI,CAAA,UAAU,8CACZ,SAAA,CAAA6E,EAAe,IAAI,CAAC,CAACY,EAAQ/c,CAAI,IAAM,CAChC,MAAAiX,GAAOjX,GAAA,YAAAA,EAAM,OAAQ,UACrBgd,EAAezB,GAAgBtE,CAAI,EACnCgG,EAAazB,GAAcuB,EAAQ,EAAE,EAEzC,OAAAzF,EAAC,MAAA,CAEC,UAAU,6HAEV,SAAA,CAACA,EAAA,MAAA,CAAI,UAAU,0CACb,SAAA,CAACC,EAAA,OAAA,CAAK,UAAU,sCACb,SACH0F,EAAA,EACC1F,EAAA,OAAA,CAAK,UAAU,oEACb,SACHwF,CAAA,CAAA,CAAA,EACF,EACCzF,EAAA,MAAA,CAAI,UAAW,GAAG0F,CAAY,4HAC7B,SAAA,CAACzF,EAAA,OAAA,CAAK,UAAU,WAAY,SAAKN,EAAA,EAChCM,EAAA,OAAA,CAAK,UAAU,yBACb,gBAAOvX,GAAA,YAAAA,EAAM,SAAW,SAAWA,EAAK,OAAO,QAAQ,CAAC,EAAI,IAAM,KACrE,CAAA,CAAA,CACF,CAAA,CAAA,CAAA,EAhBK+c,CAiBP,CAAA,CAEH,EACAf,EAAc,SAAW,KACvB,MAAI,CAAA,UAAU,wDAAwD,SAEvE,6BAAA,CAAA,CAAA,EAEJ,EAGA1E,EAAC,MAAI,CAAA,UAAU,YACb,SAAA,CAACC,EAAA,MAAA,CAAI,UAAU,iDACZ,SAAA8E,EAAe,IAAI,CAAC,CAACU,EAAQ/c,CAAI,IAAM,CAChC,MAAAiX,GAAOjX,GAAA,YAAAA,EAAM,OAAQ,UACrBgd,EAAezB,GAAgBtE,CAAI,EACnCgG,EAAazB,GAAcuB,EAAQ,EAAE,EAEzC,OAAAzF,EAAC,MAAA,CAEC,UAAU,sHAEV,SAAA,CAACA,EAAA,MAAA,CAAI,UAAU,0CACb,SAAA,CAACC,EAAA,OAAA,CAAK,UAAU,sCACb,SACH0F,EAAA,EACC1F,EAAA,OAAA,CAAK,UAAU,oEACb,SACHwF,CAAA,CAAA,CAAA,EACF,EACCzF,EAAA,MAAA,CAAI,UAAW,GAAG0F,CAAY,4HAC7B,SAAA,CAACzF,EAAA,OAAA,CAAK,UAAU,WAAY,SAAKN,EAAA,EAChCM,EAAA,OAAA,CAAK,UAAU,yBACb,gBAAOvX,GAAA,YAAAA,EAAM,SAAW,SAAWA,EAAK,OAAO,QAAQ,CAAC,EAAI,IAAM,KACrE,CAAA,CAAA,CACF,CAAA,CAAA,CAAA,EAhBK+c,CAiBP,CAEH,CAAA,EACH,EAECb,EAAa,GACX5E,EAAA,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAC,EAAC,SAAA,CACC,QAAS,IAAMsE,EAAezF,GAAK,KAAK,IAAI,EAAGA,EAAI,CAAC,CAAC,EACrD,SAAUwF,IAAgB,EAC1B,UAAU,qEAEV,SAAArE,EAAC2F,GAAY,CAAA,UAAU,SAAU,CAAA,CAAA,CACnC,EAEA5F,EAAC,MAAI,CAAA,UAAU,qCACZ,SAAA,CAAAsE,EAAY,MAAIM,CAAA,EACnB,EAEA3E,EAAC,SAAA,CACC,QAAS,IAAMsE,EAAezF,GAAK,KAAK,IAAI8F,EAAY9F,EAAI,CAAC,CAAC,EAC9D,SAAUwF,IAAgBM,EAC1B,UAAU,qEAEV,SAAA3E,EAAC4F,GAAa,CAAA,UAAU,SAAU,CAAA,CAAA,CAAA,CACpC,CACF,CAAA,CAAA,EAEJ,IAGC,MAAI,CAAA,UAAU,kBACZ,SAAAnB,EAAc,OAAS,IACtBzE,EAAC,SAAA,CACC,QAAS,IAAMwE,EAAkB,CAACD,CAAc,EAChD,UAAU,wHAET,WAEGxE,EAAAK,GAAA,CAAA,SAAA,CAAAJ,EAAC,QAAK,SAAS,WAAA,CAAA,EACfA,EAAC6F,GAAU,CAAA,UAAU,kBAAmB,CAAA,CAAA,CAAA,CAC1C,EAGE9F,EAAAK,GAAA,CAAA,SAAA,CAAAL,EAAC,OAAK,CAAA,SAAA,CAAA,YAAU0E,EAAc,OAAO,UAAA,EAAQ,EAC7CzE,EAAC8F,GAAY,CAAA,UAAU,kBAAmB,CAAA,CAAA,CAC5C,CAAA,CAAA,CAAA,CAIR,CAAA,CAAA,EACF,EAGA/F,EAAC,MAAI,CAAA,UAAU,OACb,SAAA,CAACC,EAAA,KAAA,CAAG,UAAU,2CAA2C,SAAQ,WAAA,EAChE+E,EAAa,OAAS,EACpBhF,EAAA,MAAA,CAAI,UAAU,YACZ,SAAA,CAAagF,EAAA,MAAM,EAAG,CAAC,EAAE,IAAI,CAAC7G,EAAQ6H,IACrC7H,EAAO,iBACJ,IAAyB,CAAA,UAAU,yBACjC,SAAOA,EAAA,gBADF,WAAW6H,CAAG,EAEtB,EACE,IACL,EACAhB,EAAa,OAAS,GACpBhF,EAAA,IAAA,CAAE,UAAU,yBAAyB,SAAA,CAAA,IAClCgF,EAAa,OAAS,EAAE,wBAAA,CAC5B,CAAA,CAAA,CAEJ,CAAA,EAEA/E,EAAC,IAAE,CAAA,UAAU,gCAAgC,SAE7C,+CAAA,CAAA,CAAA,CAEJ,CAAA,CAAA,CACF,CAAA,CAAA,EACF,CAEJ,ECxPMgG,GAAgE,CAAC,CACrE,IAAAC,EACA,iBAAAC,EACA,cAAAC,EACA,iBAAAC,EACA,gBAAAC,EACA,uBAAAC,EACA,SAAAjK,EAAW,GACX,gBAAAkK,EAAkB,IACpB,IAAM,CAEE,MAAA9H,GAAUwH,GAAA,YAAAA,EAAK,OAAQ,UACvBO,EAAaL,EAAc1H,CAAO,EAGlCgI,GAAYR,GAAA,YAAAA,EAAK,SAAU,EAG3BS,EAAaJ,EAAuB,EAE1C,OAEIvG,EAAAK,GAAA,CAAA,SAAA,CAAAJ,EAACgF,GAAW,CAAA,UAAU,yBACpB,SAAAhF,EAACiF,GAAU,CAAA,UAAU,uCACnB,SAAAjF,EAACrZ,GAAI,CAAA,UAAU,yBAA0B,CAAA,CAC3C,CAAA,EACF,EACAqZ,EAACmF,GAAY,CAAA,UAAU,8BAErB,SAAAnF,EAAC,MAAI,CAAA,UAAU,8FACb,SAAAD,EAAC,MAAI,CAAA,UAAU,uEAEb,SAAA,CAACA,EAAA,MAAA,CAAI,UAAU,mEACb,SAAA,CAACC,EAAA,MAAA,CAAI,UAAU,oKAEb,SAAAA,EAAC,MAAA,CACC,UAAU,gCACV,MAAO,CACL,UAAW,uCACX,WAAY,8EAAA,CACd,CAAA,EAEJ,EAEC,CAAC,GAAG,MAAM,EAAE,CAAC,EAAE,IAAI,CAAClZ,EAAGyC,IACtByW,EAAC,MAAA,CAEC,UAAU,4HACV,MAAO,CACL,UAAW,UAAUzW,EAAI,EAAE,wBAC3B,UAAW,iCAAA,CACb,EALKA,CAOR,CAAA,CAAA,EACH,EAGAwW,EAAC,MAAI,CAAA,UAAU,gBACb,SAAA,CAAAC,EAAC,OAAI,UAAU,qEACb,SAACD,EAAA,MAAA,CAAI,UAAU,iDACb,SAAA,CAACA,EAAA,MAAA,CAAI,UAAU,2EACb,SAAA,CAACC,EAAA,MAAA,CAAI,UAAU,mEAAmE,SAAI,OAAA,EACrFA,EAAA,MAAA,CAAI,UAAU,uCACZ,UACH,CAAA,CAAA,EACF,EACAD,EAAC,MAAI,CAAA,UAAU,2EACb,SAAA,CAACC,EAAA,MAAA,CAAI,UAAU,mEAAmE,SAAO,UAAA,EACxFA,EAAA,MAAA,CAAI,UAAU,uCACZ,YAAc,GACjB,CAAA,CAAA,EACF,EACAD,EAAC,MAAI,CAAA,UAAU,2EACb,SAAA,CAACC,EAAA,MAAA,CAAI,UAAU,mEAAmE,SAAQ,WAAA,IACzF,MAAI,CAAA,UAAU,uCACZ,SAAYyG,EAAA,GAAG,KAAK,MAAMA,CAAS,CAAC,IAAI,KAAK,MAAOA,EAAY,EAAK,EAAE,CAAC,IAAM,GACjF,CAAA,CAAA,EACF,EACA1G,EAAC,MAAI,CAAA,UAAU,2EACb,SAAA,CAACC,EAAA,MAAA,CAAI,UAAU,mEAAmE,SAAO,UAAA,EACzFA,EAAC,MAAI,CAAA,UAAU,uCACZ,SACC,CAAC,QAAS,SAAU,QAAS,WAAW,EAAE,SAASvB,CAAO,EACtD,WACA,CAAC,SAAU,MAAO,UAAW,UAAU,EAAE,SAASA,CAAO,EACzD,QACA,SAER,CAAA,CAAA,CACF,CAAA,CAAA,CAAA,CACF,CACF,CAAA,EAEAsB,EAAC,MAAI,CAAA,UAAU,kJACb,SAAA,CAACA,EAAA,MAAA,CAAI,UAAU,yBACb,SAAA,CAACC,EAAA,MAAA,CAAI,UAAU,oDACb,SAAAA,EAAC,OAAI,MAAM,6BAA6B,UAAU,uCAAuC,QAAQ,YAAY,KAAK,eAChH,SAAAA,EAAC,QAAK,SAAS,UAAU,EAAE,ufAAuf,SAAS,SAAU,CAAA,CAAA,CACviB,CACF,CAAA,EACCA,EAAA,KAAA,CAAG,UAAU,gHAAgH,SAE9H,0BAAA,CAAA,CAAA,EACF,EACAD,EAAC,KAAG,CAAA,UAAU,2BACX,SAAA,CAAW2G,EAAA,IAAI,CAACC,EAAW9S,IAC1BmM,EAAC,KAAA,CAEC,UAAU,oDAEV,SAAAD,EAAC,MAAI,CAAA,UAAU,mBACb,SAAA,CAACC,EAAA,OAAA,CAAK,UAAU,8EAA+E,CAAA,EAC/FA,EAAC,OAAM,CAAA,SAAA2G,EAAU,IAAK,CAAA,CAAA,CACxB,CAAA,CAAA,EANK,iBAAiB9S,CAAK,EAAA,CAQ9B,EACA6S,EAAW,SAAW,GACpB1G,EAAA,MAAA,CAAI,UAAU,uEACb,SAAAD,EAAC,IAAE,CAAA,UAAU,yBACX,SAAA,CAAAC,EAAC,OAAI,MAAM,6BAA6B,UAAU,kCAAkC,QAAQ,YAAY,KAAK,eAC3G,SAAAA,EAAC,QAAK,SAAS,UAAU,EAAE,mIAAmI,SAAS,SAAU,CAAA,EACnL,EAAM,6CAAA,CAAA,CAER,CACF,CAAA,CAAA,CAEJ,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CACF,CAAA,CACF,CAAA,CAAA,EACF,CAEJ,ECzIM4G,GAAoD,CAAC,CAAE,QAAApK,EAAU,CAAA,KAAS,CAExE,MAAAqK,EAAkB/C,GAAM,QAAQ,IAAM,CAC1C,MAAMgD,EAAS,CACb,KAAM,EACN,MAAO,EACP,IAAK,EACL,MAAO,CACT,EAEI,OAAAtK,GAAW,OAAOA,GAAY,UAChC,OAAO,OAAOA,CAAO,EAAE,QAASgJ,GAAW,CACrC,GAAAA,GAAUA,EAAO,KAAM,CACnB,MAAAnP,EAAU0N,GAAeyB,EAAO,IAAI,EAC3BnP,EAAQ,YAAY,IAAKyQ,IAC/BA,EAAAzQ,EAAQ,YAAoC,CAAA,GAAK,EAC1D,CACF,CACD,EAGIyQ,CAAA,EACN,CAACtK,CAAO,CAAC,EAGNuK,EAAejD,GAAM,QAAQ,IAC1B,OAAO,OAAO+C,CAAe,EAAE,OAAO,CAAC3G,EAAK8G,IAAU9G,EAAM8G,EAAO,CAAC,EAC1E,CAACH,CAAe,CAAC,EAGS/C,GAAM,QAAQ,IACrCiD,IAAiB,EAAU,CAAE,KAAM,EAAG,MAAO,EAAG,IAAK,EAAG,MAAO,CAAE,EAE9D,CACL,KAAOF,EAAgB,KAAOE,EAAgB,IAC9C,MAAQF,EAAgB,MAAQE,EAAgB,IAChD,IAAMF,EAAgB,IAAME,EAAgB,IAC5C,MAAQF,EAAgB,MAAQE,EAAgB,GAClD,EACC,CAACF,EAAiBE,CAAY,CAAC,EAG5B,MAAA1H,EAAkByE,GAAM,QAAQ,IAAM,CACtC,GAAAiD,IAAiB,EAAU,OAAA,KAE/B,MAAM5Q,EAAW,CAAC,OAAQ,QAAS,MAAO,OAAO,EACjD,OAAOA,EAAS,OAAO,CAAC5E,EAAK8E,IAC3BwQ,EAAgBxQ,CAAO,EAAIwQ,EAAgBtV,CAAG,EAAI8E,EAAU9E,EAC5D4E,EAAS,CAAC,CAAC,CAAA,EACZ,CAAC0Q,EAAiBE,CAAY,CAAC,EAG5BE,EAAc,CAClB,KAAM,CACJ,KAAMjH,EAAC/Z,GAAM,CAAA,UAAU,SAAU,CAAA,EACjC,MAAO,eACP,QAAS,aACT,aAAc,aACd,YAAa,4FACf,EACA,MAAO,CACL,KAAM+Z,EAAC1Z,GAAS,CAAA,UAAU,SAAU,CAAA,EACpC,MAAO,iBACP,QAAS,eACT,aAAc,eACd,YAAa,0FACf,EACA,IAAK,CACH,KAAM0Z,EAACpZ,GAAK,CAAA,UAAU,SAAU,CAAA,EAChC,MAAO,gBACP,QAAS,cACT,aAAc,cACd,YAAa,yFACf,EACA,MAAO,CACL,KAAMoZ,EAACha,GAAS,CAAA,UAAU,SAAU,CAAA,EACpC,MAAO,kBACP,QAAS,gBACT,aAAc,gBACd,YAAa,gFAAA,CAEjB,EAGE,OAAA+Z,EAAC,MAAI,CAAA,UAAU,sBACb,SAAA,CAACA,EAAA,MAAA,CAAI,UAAU,4BACb,SAAA,CAACA,EAAA,KAAA,CAAG,UAAU,sEACZ,SAAA,CAACA,EAAA,MAAA,CAAI,UAAU,sBACb,SAAA,CAACC,EAAA/Z,GAAA,CAAM,UAAU,oCAAqC,CAAA,EACtD+Z,EAACha,GAAS,CAAA,UAAU,uCAAwC,CAAA,CAAA,EAC9D,EAAM,mBAAA,EAER,EACCga,EAAA,IAAA,CAAE,UAAU,oCAAoC,SAEjD,gGAAA,CAAA,CAAA,EACF,EAEAD,EAAC,MAAI,CAAA,UAAU,mDAEb,SAAA,CAAAA,EAAC,UACC,CAAA,SAAA,CAACC,EAAA,MAAA,CAAI,UAAU,KAAM,CAAA,EAAM,IAE1BA,EAAA,MAAA,CAAI,UAAU,6EACZ,SAAC,CAAA,OAAQ,QAAS,MAAO,OAAO,EAAE,IAAI,CAAC3J,EAASxC,IAAU,CAIzD,MAAMmT,EAHiB,OAAO,QAAQxK,CAAO,EAAE,OAC7C,CAAC,CAAC1V,EAAG0e,CAAM,KAAMA,GAAA,YAAAA,EAAQ,OAAQzB,GAAeyB,EAAO,IAAI,IAAMnP,EAAQ,OAAO,CAAC,EAAE,cAAgBA,EAAQ,MAAM,CAAC,CACpH,EAC6B,OACvB0Q,EAAe,OAAO,KAAKvK,CAAO,EAAE,QAAU,EAC9C0K,EAAcF,EAAQD,EAAgB,IACtCI,EAAQ,GAAGD,CAAU,IAGzB,OAAAlH,EAAC,MAAA,CAEC,UAAW,mDAAmDiH,EAAY5Q,CAAO,EAAE,OAAO,IACxFxC,IAAU,EAAI,iBAAmBA,IAAU,EAAI,iBAAmB,EACpE,GACA,MAAO,CAAE,MAAAsT,CAAM,EACf,aAAY,GAAG9Q,CAAO,IAAI6Q,EAAW,QAAQ,CAAC,CAAC,GAAA,EAL1C7Q,CAMP,CAEH,CAAA,EACH,EAEC2J,EAAA,MAAA,CAAI,UAAU,+FACZ,SAAC,CAAA,OAAQ,QAAS,MAAO,OAAO,EAAE,IAAK3J,GAAY,CAIlD,MAAM2Q,EAHiB,OAAO,QAAQxK,CAAO,EAAE,OAC7C,CAAC,CAAC1V,EAAG0e,CAAM,KAAMA,GAAA,YAAAA,EAAQ,OAAQzB,GAAeyB,EAAO,IAAI,IAAMnP,EAAQ,OAAO,CAAC,EAAE,cAAgBA,EAAQ,MAAM,CAAC,CACpH,EAC6B,OACvB0Q,EAAe,OAAO,KAAKvK,CAAO,EAAE,QAAU,EAC9C0K,EAAcF,EAAQD,EAAgB,IAE5C,OACG/G,EAAA,MAAA,CAAkB,UAAU,oDAC3B,SAACD,EAAA,OAAA,CAAK,UAAW,yCAAyCkH,EAAY5Q,CAAO,EAAE,KAAK,qBAClF,SAAA,CAAA2J,EAAC,OAAK,CAAA,UAAU,YAAa,SAAA3J,EAAQ,OAAO,CAAC,EAAE,YAAA,EAAgBA,EAAQ,MAAM,CAAC,CAAE,CAAA,EAAO,KAAG2Q,EAAM,KAAGE,EAAW,QAAQ,CAAC,EAAE,IAAA,CAC3H,CAAA,GAHQ7Q,CAIV,CAAA,CAEH,CACH,CAAA,CAAA,EAEF,IAGC,UACC,CAAA,SAAA,CAAC2J,EAAA,KAAA,CAAG,UAAU,iEAAiE,SAE/E,6BAAA,EAECX,IACE,MAAI,CAAA,UAAW,yBAAyB4H,EAAY5H,CAAe,EAAE,YAAY,GAChF,SAAA,CAACU,EAAA,MAAA,CAAI,UAAU,iCACb,SAAA,CAAAC,EAAC,OAAI,UAAW,6BAA6BiH,EAAY5H,CAAe,EAAE,OAAO,mBAC9E,SAAAyE,GAAM,aAAamD,EAAY5H,CAAe,EAAE,KAAM,CAAE,UAAW,uBAAyB,CAAA,EAC/F,EACAU,EAAC,MAAG,UAAW,sCAAsCkH,EAAY5H,CAAe,EAAE,KAAK,GACpF,SAAA,CAAAA,EAAgB,OAAO,CAAC,EAAE,cAAgBA,EAAgB,MAAM,CAAC,EAAE,WAAA,CACtE,CAAA,CAAA,EACF,IACC,IAAE,CAAA,UAAU,sDACV,SAAY4H,EAAA5H,CAAe,EAAE,WAChC,CAAA,CAAA,CACF,CAAA,EAECW,EAAA,MAAA,CAAI,UAAU,oCACb,WAAC,IAAE,CAAA,UAAU,sCAAsC,SAAA,wEAEnD,CAAA,EACF,EAGFD,EAAC,MAAI,CAAA,UAAU,eACb,SAAA,CAACC,EAAA,KAAA,CAAG,UAAU,6DAA6D,SAE3E,qBAAA,EACCA,EAAA,MAAA,CAAI,UAAU,iDACZ,SAAC,CAAA,OAAQ,QAAS,MAAO,OAAO,EAAE,IAAK3J,GACtC0J,EAAC,MAAA,CAEC,UAAU,uGAEV,SAAA,CAAAA,EAAC,OAAI,UAAW,oEAAoEkH,EAAY5Q,CAAO,EAAE,KAAK,GAC5G,SAAA,CAAA2J,EAAC,QAAK,UAAU,qBAAsB,SAAYiH,EAAA5Q,CAAO,EAAE,KAAK,EAC/D2J,EAAA,OAAA,CAAK,UAAU,qDACb,SACH3J,CAAA,CAAA,CAAA,EACF,IACC,MAAI,CAAA,UAAU,8EACZ,SAAO,OAAA,QAAQmG,CAAO,EACpB,OAAO,CAAC,CAAC1V,EAAG0e,CAAM,KAAMA,GAAA,YAAAA,EAAQ,OAAQzB,GAAeyB,EAAO,IAAI,IAAMnP,EAAQ,OAAO,CAAC,EAAE,YAAA,EAAgBA,EAAQ,MAAM,CAAC,CAAC,EAC1H,IAAI,CAAC,CAACkD,CAAI,IAAMA,CAAI,EACpB,KAAK,IAAI,GAAK,MACnB,CAAA,CAAA,CAAA,EAdKlD,CAAA,CAgBR,CACH,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,EACF,CAEJ,ECrGM+Q,GAAkB,CAACjO,EAAsBkO,IAA+B,CAOxE,GALJ,QAAQ,IAAI,0DAA0DlO,CAAY,WAAWkO,CAAS,EAAE,EAEpG,CAAClO,GAAgBA,IAAiB,GAGlCA,GAAgB,IAAa,MAAA,cAC7B,GAAAA,GAAgB,IAAa,MAAA,aAQjC,IALiBkO,GAAA,YAAAA,EAAW,cAAc,SAAS,aAClCA,GAAA,YAAAA,EAAW,cAAc,SAAS,WAAY,CAACA,EAAU,YAAY,EAAE,SAAS,MAAM,GACtFlO,EAAe,GAAKA,GAAgB,GAGvC,CACZ,GAAIA,EAAe,GAGjB,MAAO,eADM,IAAO,EAAKA,EAAe,GAAM,EACpB,KACrB,CAEC,MAAAmO,EAAO,IAAOnO,EAAe,IAAO,IACnC,MAAA,0BAA0BmO,CAAI,2BAA2BA,CAAI,SAAA,CACtE,KAGG,CACH,GAAInO,EAAe,GAGjB,MAAO,WADM,IAAO,EAAKA,EAAe,GAAM,EACxB,SACjB,CAEC,MAAAmO,EAAO,IAAOnO,EAAe,IAAO,IACnC,MAAA,0BAA0BmO,CAAI,2BAA2BA,CAAI,SAAA,CACtE,CAEJ,EAEMC,GAAwB,MAWxBC,GAAsB,IAAM,gFAChC,MAAMC,EAAWC,GAAY,EACvB,CAACC,EAAiBC,CAAkB,EAAIlM,EAAAA,SAAyB,IAAI,EACrE,CAACmM,EAAkBC,CAAmB,EAAIpM,EAAAA,SAAS,EAAI,EACvD,CAACqM,EAAcC,CAAe,EAAItM,EAAAA,SAAwB,IAAI,EAC9D,CAACuM,EAAiBC,CAAkB,EAAIxM,EAAA,SAC5C,CAAA,CACF,EAGAkF,EAAAA,UAAU,IAAM,EACe,SAAY,CACnC,GAAA,CACFkH,EAAoB,EAAI,EAClB,MAAArN,EAAW,MAAM,MAAM,kBAAkB,EAE3C,GAAA,CAACA,EAAS,GACZ,MAAM,IAAI,MACR,6BAA6BA,EAAS,MAAM,IAAIA,EAAS,UAAU,EACrE,EAGI,MAAAhS,EAAO,MAAMgS,EAAS,KAAK,EAC3B0N,EAAW,MAAM,QAAQ1f,CAAI,EAAIA,EAAOA,EAAK,UAAY,CAAC,EAE5D,GAAA0f,EAAS,OAAS,EAAG,CACjB,MAAAC,EAAgBD,EAAS,CAAC,EAE1BE,EAAyB,CAC7B,KAAMD,EAAc,MAAQ,WAAW,KAAK,KAAK,GACjD,MAAOA,EAAc,OAAS,cAC9B,WAAYA,EAAc,aAAe,GACzC,YACEA,EAAc,SACd,MAAMA,EAAc,aAAe,EAAE,OACvC,gBAAiBA,EAAc,OAAS,GACxC,YAAaA,EAAc,aAAmB,IAAA,KAAA,EAAO,YAAY,EACjE,OAAQA,EAAc,QAAU,cAChC,KAAMA,EAAc,MAAQ,CAAC,MAAO,MAAM,CAC5C,EACAR,EAAmBS,CAAa,CAAA,QAE3B1b,EAAK,CACJ,QAAA,MAAM,mCAAoCA,CAAG,EACrDqb,EACE,yDACF,CAAA,QACA,CACAF,EAAoB,EAAK,CAAA,CAE7B,GAEqB,CACvB,EAAG,EAAE,EAEL,MAAMQ,EAAQ1M,EAAQ,QAAA,QAAU,KAAQ,CAAA,CAAE,EACpC,CAAC2M,EAAcC,CAAe,EAAI9M,EAAAA,SAAe4M,CAAK,EAGzC1M,EAAA,QACjB,IAAM2M,EAAa,cAAc,MAAM,GAAG,EAAE,CAAC,EAC7C,CAACA,CAAY,CAAA,EAIT,KAAA,CAIJ,QAASE,EAET,iBAAkBC,EAClB,2BAA4BC,CAAA,EAC1BC,GAASrB,EAAc,EAGrB,CACJ,MAAAsB,EACA,QAASC,CAEX,EAAIC,GAAiB,CACnB,MAAOxB,GACP,MAAO,GAEP,SAAUoB,EAAgCD,EAAc,KAExD,SAA4B,CAACC,CAAA,CAC9B,EAGKK,EAAmBpN,EAAAA,QAAQ,IACxB,IAAI,OAAO,cAAc,MAAM,GAAG,EAAE,CAAC,EAC3C,EAAE,EAEC,CACJ,UAAA2C,EACA,QAAS0K,EACT,MAAOC,CAAA,EACLpP,GAAakP,CAAgB,EAG3B,CACJ,QAASG,GACT,QAASC,EACT,MAAOC,CAAA,EACL7I,GAAc,CAAC,EAGb8I,EAAuB1N,EAAAA,QAAQ,IAAM,aACzC,GAAI,EAAC2C,GAAA,MAAAA,EAAW,UAAU,MAAO,CAAE,KAAM,EAAG,MAAO,EAAG,MAAO,EAAG,IAAK,CAAE,EAGjE,MAAAgL,EAAmBlT,GACnBA,IAAY,OAAkB,EAC3B,OAAOA,GAAY,SAAWA,EAAUA,EAAQ,OAAS,EAG3D,MAAA,CACL,KAAMkT,GAAgB1c,EAAA0R,GAAA,YAAAA,EAAW,WAAX,YAAA1R,EAAqB,IAAI,EAC/C,MAAO0c,GAAgB3c,EAAA2R,GAAA,YAAAA,EAAW,WAAX,YAAA3R,EAAqB,KAAK,EACjD,MAAO2c,GAAgB3L,EAAAW,GAAA,YAAAA,EAAW,WAAX,YAAAX,EAAqB,KAAK,EACjD,IAAK2L,GAAgB5L,EAAAY,GAAA,YAAAA,EAAW,WAAX,YAAAZ,EAAqB,GAAG,CAC/C,CAAA,EACC,CAACY,CAAS,CAAC,EAGRiL,EAAoB5N,EAAAA,QAAQ,IAC3B2C,EACED,GAA2BC,CAAS,EADpB,KAEtB,CAACA,CAAS,CAAC,EAGRkL,EAAe7N,EAAAA,QAAQ,IAAM,CACjC,GAAI,CAACiN,GAASA,EAAM,SAAW,QAAU,CAAC,EAE1C,MAAMa,EAASb,EAAM,OACnB,CAACnR,EAAKiS,IAAS,CACb,MAAMC,EAAU,IAAI,KAAKD,EAAK,YAAc,EAAE,EAC3C,cACA,MAAM,GAAG,EAAE,CAAC,EACX,OAACjS,EAAIkS,CAAO,IACVlS,EAAAkS,CAAO,EAAI,CAAE,KAAM,IAAI,KAAKA,CAAO,EAAG,MAAO,EAAG,GAEtDlS,EAAIkS,CAAO,EAAE,MAAM,KAAKD,CAAI,EACrBjS,CACT,EACA,CAAA,CACF,EAEO,OAAA,OAAO,OAAOgS,CAAM,EAAE,KAC3B,CAACnV,EAAGC,IAAMD,EAAE,KAAK,UAAYC,EAAE,KAAK,QAAQ,CAC9C,CAAA,EACC,CAACqU,CAAK,CAAC,EAGJgB,EAAqBC,EAAAA,YAAY,IAAM,CAC3CrC,EAAS,QAAQ,CAAA,EAChB,CAACA,CAAQ,CAAC,EAGU7L,EAAAA,QAAQ,IACxBiN,EAEEA,EAAM,IAAKc,IAAU,CAC1B,GAAGA,CAAA,EAEH,EALiB,CAAC,EAMnB,CAACd,CAAK,CAAC,EAGV,MAAMkB,EAAoBD,EAAA,YACxB,CACEH,EACAK,EACAC,IAEI,CAACT,GAAqB,CAACA,EAAkB,MAAc,KAIzDA,EAAkB,MAAM,KACrBU,GAAcA,GAAQA,EAAK,SAAWP,EAAK,EAAA,GACzC,KAGT,CAACH,CAAiB,CACpB,EA6BA5I,EAAAA,UAAU,IAAM,uBACV,GAAArC,GAAa,CAAC0K,EAAc,CAE9B,IAAIlK,GAAY,EACZC,GAAa,EACbC,GAAa,EACbC,GAAW,EAGf,GAAIX,EAAU,SAAU,CACtB,MAAMpI,EAAWoI,EAAU,SACvB,OAAOpI,EAAS,MAAS,UAC3B4I,GAAY5I,EAAS,MAAQ,EAC7B6I,GAAa7I,EAAS,OAAS,EAC/B8I,GAAa9I,EAAS,OAAS,EAC/B+I,GAAW/I,EAAS,KAAO,GAClBA,EAAS,MAAQ,OAAOA,EAAS,MAAS,WACvC4I,GAAA5I,EAAS,KAAK,OAAS,EACtB6I,KAAAnS,EAAAsJ,EAAS,QAAT,YAAAtJ,EAAgB,QAAS,EACzBoS,KAAArS,EAAAuJ,EAAS,QAAT,YAAAvJ,EAAgB,QAAS,EAC3BsS,KAAAtB,EAAAzH,EAAS,MAAT,YAAAyH,EAAc,QAAS,EACpC,CAGI,MAAAuB,GAAgBJ,GAAYC,GAAaC,GAAaC,GAGtDwH,GAAmC,CAAC,GAG1B7I,GAAAF,EAAAY,GAAA,YAAAA,EAAW,UAAX,YAAAZ,EAAoB,MAApB,MAAAE,EAAyB,KAKzC,MAAMnB,KACJoB,EAAAS,GAAA,YAAAA,EAAW,OAAX,YAAAT,EAAiB,eAChBE,IAAAD,GAAAQ,GAAA,YAAAA,EAAW,UAAX,YAAAR,GAAoB,OAApB,YAAAC,GAAkC,YACjCtB,IACFgK,GAAW,KAAK,CACd,KAAM,kBACN,OAAQ,GACR,YAAa,GAAGhK,EAAS,SAASyN,GAAmBzN,EAAS,CAAC,GAC/D,KAAMsD,EAAC3Z,GAAK,CAAA,UAAU,wBAAyB,CAAA,CAAA,CAChD,EAIH,MAAM+jB,GAAoB,CAAC,EAWvB,GAVA7L,GAAA,MAAAA,EAAW,SACN,OAAA,QAAQA,EAAU,OAAO,EAAE,QAChC,CAAC,CAACiH,EAAQ/c,EAAI,IAAqB,CAC7BA,IAAA,MAAAA,GAAM,YACR2hB,GAAkB,KAAK5E,CAAM,CAC/B,CAEJ,EAGE4E,GAAkB,OAAS,EAAG,CAChC,MAAMC,EAAcD,GACjB,IAAKvL,IAAMA,GAAE,OAAO,CAAC,EAAE,YAAA,EAAgBA,GAAE,MAAM,CAAC,CAAC,EACjD,KAAK,IAAI,EACZ6H,GAAW,KAAK,CACd,KAAM,qBACN,OAAQ,GACR,YAAa,GAAG2D,CAAW,IAAID,GAAkB,OAAS,EAAI,MAAQ,IAAI,iCAAiCA,GAAkB,OAAS,EAAI,QAAU,KAAK,+BACzJ,KAAMpK,EAACsK,GAAK,CAAA,UAAU,yBAA0B,CAAA,CAAA,CACjD,CAAA,CAIH,GAAInL,GAAgB,EAAG,CAOrB,MAAMoL,GAAgB,OAAO,QANP,CACpB,KAAMxL,GACN,MAAOC,GACP,IAAKE,GACL,MAAOD,EACT,CACkD,EAAE,KAClD,CAAC1K,GAAGC,KAAMA,GAAE,CAAC,EAAID,GAAE,CAAC,GACpB,CAAC,EAEH,GAAIgW,IAAiBA,GAAc,CAAC,EAAI,EAAG,CACnC,KAAA,CAAClL,GAAiBmL,EAAK,EAAID,GAIjC7D,GAAW,KAAK,CACd,KAAM,mBACN,OAAQ,KAAK,IAAI,GAAK,GAAM8D,GAAQrL,EAAa,EACjD,YAAa,UAAUE,EAAe,eAAe,KAAK,MAAOmL,GAAQrL,GAAiB,GAAG,CAAC,qBAAqBiH,GAAiB/G,EAAe,CAAC,GACpJ,KAAMW,EAACta,GAAS,CAAA,UAAU,yBAA0B,CAAA,CAAA,CACrD,CAAA,CACH,CAGFwiB,EAAmBxB,EAAU,CAAA,CAC/B,EACC,CAACnI,CAAS,CAAC,EAGd,SAAS2H,GAAiBxG,EAAsB,CAevC,MAdiC,CACtC,MAAO,4BACP,OAAQ,4BACR,OAAQ,0BACR,OAAQ,0BACR,IAAK,yBACL,MAAO,yBACP,MAAO,oBACP,QAAS,uBACT,YAAa,6BACb,UAAW,6BACX,SAAU,+BACV,OAAQ,qBACV,EACeA,CAAI,GAAK,aAAA,CAG1B,SAASyK,GAAmBlR,EAAuB,CAW1C,MAViC,CACtC,WAAY,+CACZ,kBAAmB,kDACnB,gBAAiB,kDACjB,iBAAkB,4CAClB,YAAa,iDACb,iBAAkB,8CAClB,eAAgB,mDAChB,kBAAmB,oCACrB,EACeA,CAAK,GAAK,0BAAA,CAG3B,SAASmN,GAAiB/P,EAAyB,CAOjD,MANwC,CACtC,KAAM,6BACN,MAAO,4BACP,IAAK,6BACL,MAAO,oBACT,EACeA,EAAQ,YAAY,CAAC,GAAK,aAAA,CAG3C,SAAS8P,GAAczG,EAAsB,CAepC,MAdkC,CACvC,MAAO,OACP,OAAQ,QACR,OAAQ,MACR,OAAQ,QACR,IAAK,OACL,MAAO,QACP,MAAO,MACP,QAAS,QACT,YAAa,OACb,UAAW,QACX,SAAU,MACV,OAAQ,OACV,EACgBA,CAAI,GAAK,GAAA,CAG3B,SAAS4G,GACP/H,EACmC,SACnC,MAAMmI,EAAgD,CAAC,EAEnD,GAAA,CAACnI,EAAkB,OAAAmI,EAGvB,GAAInI,GAAAA,MAAAA,EAAW,QAAS,CACtB,MAAMmB,EAAOnB,EAAU,QACjBlI,EAAU8P,GAAczG,CAAI,EAElCgH,EAAW,KAAK,CACd,KAAM,cAAchH,CAAI,WAAWwG,GAAiBxG,CAAI,CAAC,2BACzD,MACErJ,IAAY,OACR,aACAA,IAAY,QACV,eACAA,IAAY,MACV,aACA,eAAA,CACX,CAAA,CAGH,KAAIkI,GAAAA,EAAAA,EAAU,UAAVA,YAAAA,EAAmB,MAAnBA,YAAAA,EAAwB,UAAW,OAAW,CAChD,MAAMkM,EAAS,KAAK,MAAMlM,EAAU,QAAQ,IAAI,MAAM,EACtDmI,EAAW,KAAK,CACd,KAAM,iBAAiB+D,CAAM,yBAAyBpE,EAAgBoE,CAAM,CAAC,eAC7E,MAAO,eAAA,CACR,CAAA,CAGI,OAAA/D,CAAA,CAGT,SAASL,EAAgBoE,EAAwB,CAC/C,MAAMC,EAAkC,CACtC,OAAQ,eACR,QAAS,oBACT,QAAS,kBACX,EACMC,EAAQ,OAAO,KAAKD,CAAO,EAAE,KAAME,GAAM,CAC7C,KAAM,CAACC,EAAOC,CAAG,EAAIF,EAAE,MAAM,GAAG,EAAE,IAAKG,IAAM,SAASA,EAAC,CAAC,EACjD,OAAAN,GAAUI,GAASJ,GAAUK,CAAA,CACrC,EACM,OAAAJ,EAAQC,CAAK,GAAK,UAAA,CAIlB,SAAAK,GAAqBC,EAAiBC,EAAyB,CAC/D,MAAA,GAAG,KAAK,MAAMD,CAAO,CAAC,IAAIC,EAAU,IAAIA,CAAO,IAAM,EAAE,EAAA,CA0I1D,MAAAC,EAAsBvP,EAAAA,QAAQ,IAAM,SACxC,GAAI,CAAC2C,EACI,MAAA,GAIT,GAAIiL,GAAA,MAAAA,EAAmB,WACrB,OAAOA,EAAkB,WAI3B,MAAMrT,EAAWoI,GAAA,YAAAA,EAAW,SAC5B,IAAIc,EAAkB,GAClB+L,EAAW,EAGR,OAAA,QAAQjV,CAAQ,EAAE,QAAQ,CAAC,CAACE,GAAS5N,EAAI,IAAM,CAChDA,GAAK,MAAQ2iB,IACfA,EAAW3iB,GAAK,MACE4W,EAAAhJ,GACpB,CACD,EAGD,IAAIgV,EAAiB,GAGjB,OAAAxe,EAAA0R,GAAA,YAAAA,EAAW,OAAX,MAAA1R,EAAiB,aACDwe,GAAA,aAAYze,EAAA2R,GAAA,YAAAA,EAAW,OAAX,YAAA3R,EAAiB,UAAU,WAI3Dye,GAAkB,cAAchM,CAAe,uBAAuB+G,GAAiB/G,CAAe,CAAC,IAEhGgM,CACN,EAAA,CAAC9M,EAAW+K,EAAsBE,CAAiB,CAAC,EAGjD8B,EAAyB,CAC7B,OAAQ,CAAE,QAAS,EAAG,EAAG,EAAG,EAC5B,QAAS,CACP,QAAS,EACT,EAAG,EACH,WAAY,CAAE,SAAU,GAAK,KAAM,UAAW,MAAO,EAAI,CAAA,CAE7D,EAEMC,GAAY,CAChB,OAAQ,CAAE,QAAS,CAAE,EACrB,KAAM,CACJ,QAAS,EACT,WAAY,CACV,gBAAiB,GACjB,cAAe,EAAA,CACjB,CAEJ,EAEMlkB,GAAO,CACX,OAAQ,CAAE,QAAS,EAAG,EAAG,EAAG,EAC5B,KAAM,CACJ,QAAS,EACT,EAAG,EACH,WAAY,CACV,KAAM,SACN,UAAW,IACX,QAAS,EAAA,CAEb,EACA,MAAO,CACL,EAAG,GACH,WAAY,CAAE,SAAU,EAAI,CAAA,CAEhC,EAEMmkB,GAAS,CACb,OAAQ,CAAE,QAAS,CAAE,EACrB,KAAM,CACJ,QAAS,EACT,WAAY,CACV,SAAU,GACV,KAAM,SAAA,CACR,CAEJ,EAEMC,GAAU,CACd,OAAQ,CAAE,QAAS,EAAG,EAAG,EAAG,EAC5B,KAAM,CACJ,QAAS,EACT,EAAG,EACH,WAAY,CACV,SAAU,GACV,KAAM,CAAC,IAAM,EAAG,GAAK,CAAC,CAAA,CACxB,CAEJ,EAEMpQ,GAAY4N,GAAgBR,GAAgBK,EAElDlI,EAAAA,UAAU,IAAM,SACVrC,IACM,QAAA,IAAI,qBAAsBA,GAAA,YAAAA,EAAW,OAAO,EACpD,QAAQ,IAAI,sBAAsB1R,EAAA0R,GAAA,YAAAA,EAAW,UAAX,YAAA1R,EAAoB,MAAM,EAAG,EAAE,EAGjE6e,GAAW,QAAsBrK,GAAA,OACzB,MAAAnE,EAAYmE,EAAW,YAAY,EACzC,QAAQ,IAAI,oBAAoBA,CAAU,KAAKxU,EAAA0R,GAAA,YAAAA,EAAW,UAAX,YAAA1R,EAAqBqQ,EAAU,CAAA,CAC/E,GAGUtQ,EAAA2R,GAAA,YAAAA,EAAA,UAAA,MAAA3R,EAAS,MAAM,EAAG,GAAG,QAAQ,CAACsR,EAAQrK,IAAU,CACzD,QAAQ,IAAI,oBAAoBA,CAAK,IAAKqK,CAAM,CAAA,GAEpD,EACC,CAACK,CAAS,CAAC,EAER,MAAAmN,GAAa,CAAC,MAAO,OAAQ,UAAW,QAAS,OAAQ,UAAW,QAAQ,EAmClF,OAAIrQ,GACK2E,EAAC2L,GAAc,CAAA,WAAU,EAAC,CAAA,IAIhC,MAAI,CAAA,UAAU,6EACb,SAAC5L,EAAA,MAAA,CAAI,UAAU,oDACd,SAAA,CACC4H,GAAA5H,EAAC6L,GAAA,CACC,GAAI,SAASjE,EAAgB,IAAI,GACjC,UAAU,uCACV,QAAS,IAAM,OAAO,SAAS,EAAG,CAAC,EAGnC,SAAA,CAAC5H,EAAA,MAAA,CAAI,UAAU,uCACb,SAAA,CAACA,EAAA,MAAA,CAAI,UAAU,kFAEZ,SAAA,CAAC,CAAA,GAAG,MAAM,EAAE,CAAC,EAAE,IAAI,CAACjZ,EAAGyC,IACtByW,EAAC6L,EAAO,IAAP,CAEC,UAAU,oCACV,MAAO,CACL,MAAO,GAAG,KAAK,OAAO,EAAI,EAAI,CAAC,KAC/B,OAAQ,GAAG,KAAK,OAAO,EAAI,EAAI,CAAC,KAChC,KAAM,GAAG,KAAK,OAAA,EAAW,GAAG,IAC5B,IAAK,GAAG,KAAK,OAAA,EAAW,GAAG,IAC3B,QAAS,KAAK,OAAO,EAAI,GAAM,EACjC,EACA,QAAS,CACP,QAAS,CAAC,GAAK,GAAK,EAAG,CACzB,EACA,WAAY,CACV,SAAU,KAAK,OAAO,EAAI,EAAI,EAC9B,OAAQ,IACR,KAAM,YACN,MAAO,KAAK,SAAW,CAAA,CACzB,EAjBK,QAAQtiB,CAAC,EAAA,CAmBjB,EAGDyW,EAAC6L,EAAO,IAAP,CACC,UAAU,iHACV,QAAS,CACP,MAAO,CAAC,EAAG,IAAK,CAAC,CACnB,EACA,WAAY,CACV,SAAU,EACV,OAAQ,IACR,KAAM,WAAA,CACR,CACF,EACA7L,EAAC6L,EAAO,IAAP,CACC,UAAU,mHACV,QAAS,CACP,MAAO,CAAC,EAAG,IAAK,CAAC,CACnB,EACA,WAAY,CACV,SAAU,GACV,OAAQ,IACR,KAAM,YACN,MAAO,CAAA,CACT,CAAA,CACF,EACF,EAGA9L,EAAC,MAAI,CAAA,UAAU,wBACZ,SAAA,CAAA4H,EAAgB,gBACf3H,EAAC,MAAA,CACC,IAAK2H,EAAgB,gBACrB,IAAKA,EAAgB,MACrB,UAAU,+EACV,QAAUlgB,GAAM,CACd,MAAM6G,EAAS7G,EAAE,OACjB6G,EAAO,IACL,wKAAA,CACJ,CACF,IAEC,MAAI,CAAA,UAAU,iGACb,SAAC0R,EAAAzZ,GAAA,CAAU,UAAU,yBAAA,CAA0B,CACjD,CAAA,EAGFyZ,EAAC,MAAI,CAAA,UAAU,6EAA8E,CAAA,CAAA,CAC/F,CAAA,CAAA,EACF,EAGAA,EAAC6L,EAAO,QAAP,CACC,SAAUP,EACV,QAAQ,SACR,QAAQ,UACR,UAAU,0FAEV,SAAAvL,EAAC,MAAI,CAAA,UAAU,2BAEb,SAAA,CAAAC,EAAC6L,EAAO,IAAP,CACC,UAAU,8FACV,QAAS,CAAE,QAAS,EAAG,EAAG,EAAG,EAC7B,QAAS,CAAE,QAAS,EAAG,EAAG,CAAE,EAC5B,WAAY,CAAE,MAAO,GAAK,SAAU,EAAI,CAAA,CAC1C,EAEA9L,EAAC8L,EAAO,IAAP,CACC,QAAS,CAAE,QAAS,EAAG,EAAG,EAAG,EAC7B,QAAS,CAAE,QAAS,EAAG,EAAG,CAAE,EAC5B,WAAY,CAAE,MAAO,EAAI,EAEzB,SAAA,CAAA9L,EAAC+L,GAAA,CACC,QAAQ,YACR,UAAU,2LAEV,SAAA,CAAC9L,EAAAtZ,GAAA,CAAS,UAAU,oBAAqB,CAAA,EAAE,kBAAA,CAAA,CAE7C,EAEAsZ,EAAC6L,EAAO,GAAP,CACC,UAAU,2JACV,QAAS,CAAE,QAAS,EAAG,EAAG,EAAG,EAC7B,QAAS,CAAE,QAAS,EAAG,EAAG,CAAE,EAC5B,WAAY,CAAE,MAAO,EAAI,EAExB,SAAgBlE,EAAA,KAAA,CACnB,EAECA,EAAgB,YACf3H,EAAC6L,EAAO,EAAP,CACC,UAAU,uFACV,QAAS,CAAE,QAAS,EAAG,EAAG,EAAG,EAC7B,QAAS,CAAE,QAAS,EAAG,EAAG,CAAE,EAC5B,WAAY,CAAE,MAAO,EAAI,EAExB,SAAgBlE,EAAA,UAAA,CACnB,EAGF5H,EAAC8L,EAAO,IAAP,CACC,UAAU,mCACV,QAAS,CAAE,QAAS,EAAG,EAAG,EAAG,EAC7B,QAAS,CAAE,QAAS,EAAG,EAAG,CAAE,EAC5B,WAAY,CAAE,MAAO,EAAI,EAEzB,SAAA,CAAC9L,EAAA,OAAA,CAAK,UAAU,uSAAuS,SAAA,CAAA,kBAErTC,EAACpa,GAAW,CAAA,UAAU,0EAA2E,CAAA,CAAA,EACnG,EAEC+hB,EAAgB,aACf3H,EAAC,OAAK,CAAA,UAAU,wBACb,SAAI,IAAA,KAAK2H,EAAgB,WAAW,EAAE,mBACrC,QACA,CACE,KAAM,UACN,MAAO,OACP,IAAK,SAAA,CACP,CAEJ,CAAA,CAAA,CAAA,CAAA,CAEJ,CAAA,CAAA,CACF,CACF,CAAA,CAAA,CAAA,CACF,CAAA,CACF,EAMF3H,EAAC6L,EAAO,IAAP,CACC,SAAUN,GACV,QAAQ,SACR,QAAQ,OACR,KAAK,SACL,UAAU,YAEV,SAAAvL,EAAC,OAAI,UAAU,YAEZ,WACED,EAAA,MAAA,CAAI,UAAU,mBACb,SAAA,CAACC,EAAA+L,GAAA,CAAY,UAAU,qCAAsC,CAAA,EAC5D/L,EAAA,IAAA,CAAE,UAAU,2BAA2B,SAExC,mCAAA,EACCA,EAAA,IAAA,CAAE,UAAU,qBAAqB,SAAsB,wBAAA,CAAA,CAAA,EAC1D,EAGAD,EAAC,MAAI,CAAA,UAAU,mBAEb,SAAA,CAAAC,EAAC6L,EAAO,IAAP,CACC,SAAUN,GACV,QAAQ,SACR,QAAQ,OACR,UAAU,qBAET,SAAiBzC,IAAA,CAACD,GAASA,EAAM,SAAW,GAE3C9I,EAAC,MAAI,CAAA,UAAU,qBACb,SAAA,CAACC,EAAAC,GAAA,CAAS,UAAU,eAAgB,CAAA,IACnC,MACC,CAAA,SAAAD,EAAC,MAAI,CAAA,UAAU,uDACZ,SAAM,MAAA,KAAK,CAAE,OAAQ,CAAG,CAAA,EAAE,IAAI,CAAClZ,EAAGyC,IACjCyW,EAACC,GAAA,CAEC,UAAU,iBAAA,EADL,aAAa1W,CAAC,EAGtB,CAAA,CACH,CAAA,CACF,CAAA,CAAA,CACF,CAAA,EACEsf,GAASA,EAAM,OAAS,EAE1B9I,EAAC,MAAI,CAAA,UAAU,qBACb,SAAA,CAACC,EAAA,KAAA,CAAG,UAAU,wCAAwC,SAEtD,iBAAA,IACC,MACE,CAAA,SAAA,CAAAyJ,EAAa,IAAKuC,GAChBjM,EAAA,MAAA,CAAgC,UAAU,OACzC,SAAA,CAAAC,EAAC,MAAG,UAAU,2EACX,YAAOgM,EAAM,KAAM,cAAc,EACpC,EACAhM,EAAC,OAAI,UAAU,sDACZ,WAAM,MAAM,IAAK2J,GAAS,CAEzB,MAAMK,EACJ,OAAOL,EAAK,WAAc,SACtB,CAAE,GAAIA,EAAK,aAAc,KAAM,WAAY,EAC3CA,EAAK,WAAa,CAChB,GAAIA,EAAK,aACT,KAAM,WACR,EAEAM,EACJ,OAAON,EAAK,WAAc,SACtB,CAAE,GAAIA,EAAK,aAAc,KAAM,WAAY,EAC3CA,EAAK,WAAa,CAChB,GAAIA,EAAK,aACT,KAAM,WACR,EAEiBI,EACrBJ,EACAK,EACAC,CAAA,EAOoB,CACpB,GAAGN,CAEL,EAGA,MAAMsC,EAAe,CACnB,GAAI,OAAOjC,GAAa,SACpB,CAAC,EACDA,GAAY,CAAC,EACjB,GAAIL,EAAK,aACT,KACE,OAAOK,GAAa,SAChBA,GACAA,GAAA,YAAAA,EAAU,OAAQ,YAExB,SACE,OAAOA,GAAa,SAChB,IACAA,GAAA,YAAAA,EAAU,YACVA,GAAA,YAAAA,EAAU,OACV,GAEN,KACE,OAAOA,GAAa,SAChB,IACAA,GAAA,YAAAA,EAAU,QACVA,GAAA,YAAAA,EAAU,WACV,GACN,OACE,OAAOA,GAAa,SAChB,OACAA,GAAA,YAAAA,EAAU,SAAU,KAC5B,EAEMkC,EAAe,CACnB,GAAI,OAAOjC,GAAa,SACpB,CAAC,EACDA,GAAY,CAAC,EACjB,GAAIN,EAAK,aACT,KACE,OAAOM,GAAa,SAChBA,GACAA,GAAA,YAAAA,EAAU,OAAQ,YAExB,SACE,OAAOA,GAAa,SAChB,IACAA,GAAA,YAAAA,EAAU,YACVA,GAAA,YAAAA,EAAU,OACV,GAEN,KACE,OAAOA,GAAa,SAChB,IACAA,GAAA,YAAAA,EAAU,QACVA,GAAA,YAAAA,EAAU,WACV,GACN,OACE,OAAOA,GAAa,SAChB,OACAA,GAAA,YAAAA,EAAU,SAAU,KAC5B,EAGE,OAAAjK,EAACmM,GAAA,CAEC,KAAAxC,EACA,SAAUsC,EACV,SAAUC,CAAA,EAHLvC,EAAK,EAIZ,CAAA,CAEH,CACH,CAAA,CAAA,CAAA,EA1GQqC,EAAM,KAAK,SA2GrB,CAAA,CACD,EACAnD,EAAM,SAAW,GAAK,CAACC,EACrB9I,EAAA,IAAA,CAAE,UAAU,iCAAiC,SAE9C,8CAAA,CAAA,EAECA,EAAA,MAAA,CAAI,UAAU,gCACb,SAAAD,EAACqM,GAAA,CACC,QAAQ,UACR,UAAU,wMACV,QAASvC,EAET,SAAA,CAAC7J,EAAA,OAAA,CAAK,UAAU,yJACd,SAAAA,EAAC,MAAA,CACC,UAAU,UACV,KAAK,OACL,OAAO,eACP,QAAQ,YACR,MAAM,6BAEN,SAAAA,EAAC,OAAA,CACC,cAAc,QACd,eAAe,QACf,YAAY,IACZ,EAAE,0BAAA,CAAA,CACH,CAAA,EAEL,EACCA,EAAA,OAAA,CAAK,UAAU,kJAAkJ,SAElK,iBAAA,EACCA,EAAA,OAAA,CAAK,UAAU,qBAAqB,SAErC,gBAAA,CAAA,CAAA,CAAA,CAAA,CAEJ,CAAA,CAAA,CAEJ,CAAA,CAAA,CACF,CAAA,EACE,CAAC8I,IAAiB,CAACD,GAASA,EAAM,SAAW,GAE/C9I,EAAC,MAAI,CAAA,UAAU,YACb,SAAA,CAACC,EAAA,KAAA,CAAG,UAAU,wCAAwC,SAAc,iBAAA,EACnEA,EAAA,IAAA,CAAE,UAAU,gBAAgB,SAAwB,0BAAA,CAAA,CAAA,CACvD,CAAA,EACE,IAAA,CACN,EAGAD,EAAC8L,EAAO,IAAP,CACC,SAAUJ,GACV,QAAQ,SACR,QAAQ,OACR,UAAU,8BAGV,SAAA,CAAC1L,EAAA,MAAA,CAAI,UAAU,oJAEb,SAAA,CAACC,EAAA,MAAA,CAAI,UAAU,8DAA+D,CAAA,EAC9EA,EAAC,MAAI,CAAA,UAAU,sFAAuF,CAAA,EAGtGD,EAAC,MAAI,CAAA,UAAU,mCAEb,SAAA,CAAAC,EAAC6L,EAAO,IAAP,CACC,UAAU,qFACV,MAAO,CAAE,IAAK,MAAO,KAAM,KAAM,EACjC,QAAS,CAAE,MAAO,CAAC,EAAG,IAAK,CAAC,EAAG,QAAS,CAAC,GAAK,EAAG,EAAG,CAAE,EACtD,WAAY,CAAE,SAAU,EAAG,OAAQ,IAAU,KAAM,WAAY,CAAA,CACjE,EACA7L,EAAC6L,EAAO,IAAP,CACC,UAAU,wFACV,MAAO,CAAE,IAAK,MAAO,MAAO,KAAM,EAClC,QAAS,CAAE,MAAO,CAAC,EAAG,IAAK,CAAC,EAAG,QAAS,CAAC,GAAK,EAAG,EAAG,CAAE,EACtD,WAAY,CAAE,SAAU,EAAG,OAAQ,IAAU,KAAM,YAAa,MAAO,CAAE,CAAA,CAC3E,EACA7L,EAAC6L,EAAO,IAAP,CACC,UAAU,6FACV,MAAO,CAAE,OAAQ,MAAO,KAAM,KAAM,EACpC,QAAS,CAAE,MAAO,CAAC,EAAG,IAAK,CAAC,EAAG,QAAS,CAAC,GAAK,GAAK,EAAG,CAAE,EACxD,WAAY,CAAE,SAAU,EAAG,OAAQ,IAAU,KAAM,YAAa,MAAO,EAAI,CAAA,CAC7E,EACA7L,EAAC6L,EAAO,IAAP,CACC,UAAU,yFACV,MAAO,CAAE,OAAQ,MAAO,MAAO,KAAM,EACrC,QAAS,CAAE,MAAO,CAAC,EAAG,IAAK,CAAC,EAAG,QAAS,CAAC,GAAK,GAAK,EAAG,CAAE,EACxD,WAAY,CAAE,SAAU,IAAK,OAAQ,IAAU,KAAM,YAAa,MAAO,GAAI,CAAA,CAAA,CAC/E,EACF,EAGA7L,EAAC,MAAI,CAAA,UAAU,sFAAuF,CAAA,EAGtGD,EAAC,MAAI,CAAA,UAAU,mEACb,SAAA,CAAAA,EAAC8L,EAAO,IAAP,CACC,QAAS,CAAE,QAAS,EAAG,EAAG,EAAG,EAC7B,YAAa,CAAE,QAAS,EAAG,EAAG,CAAE,EAChC,WAAY,CAAE,SAAU,EAAG,KAAM,SAAU,EAC3C,SAAU,CAAE,KAAM,GAAM,OAAQ,QAAS,EAEzC,SAAA,CAAC7L,EAAA,KAAA,CAAG,UAAU,uLAAuL,SAErM,wBAAA,EAGAA,EAAC6L,EAAO,IAAP,CACC,UAAU,+FACV,QAAS,CAAE,MAAO,CAAE,EACpB,YAAa,CAAE,MAAO,KAAM,EAC5B,WAAY,CAAE,SAAU,IAAK,MAAO,GAAK,KAAM,SAAU,EACzD,SAAU,CAAE,KAAM,GAAM,OAAQ,QAAS,CAAA,CAAA,CAC3C,CAAA,CACF,EAEA7L,EAAC6L,EAAO,IAAP,CACC,QAAS,CAAE,QAAS,EAAG,EAAG,EAAG,EAC7B,YAAa,CAAE,QAAS,EAAG,EAAG,CAAE,EAChC,WAAY,CAAE,SAAU,GAAK,MAAO,GAAK,KAAM,SAAU,EACzD,SAAU,CAAE,KAAM,GAAM,OAAQ,QAAS,EAEzC,WAAC,IAAE,CAAA,UAAU,oEACV,SAAOQ,GAAA9D,EAAc,cAAc,CACtC,CAAA,CAAA,CACF,EAGAxI,EAAC,MAAI,CAAA,UAAU,wEACb,SAAA,CAAAC,EAAC6L,EAAO,IAAP,CACC,UAAU,8DACV,QAAS,CAAE,OAAQ,EAAG,QAAS,CAAE,EACjC,YAAa,CAAE,OAAQ,GAAI,QAAS,CAAE,EACtC,WAAY,CAAE,SAAU,GAAK,MAAO,GAAK,KAAM,SAAU,EACzD,SAAU,CAAE,KAAM,GAAM,OAAQ,QAAS,CAAA,CAC3C,EACA7L,EAAC,MAAI,CAAA,UAAU,yGAA0G,CAAA,CAAA,CAC3H,CAAA,CAAA,CACF,CAAA,CAAA,EACF,EAEAD,EAAC8L,EAAO,IAAP,CACC,SAAUL,GACV,QAAQ,SACR,QAAQ,OACR,UAAU,cAEV,SAAA,CAAAxL,EAAC4G,GAAA,CACC,QAASrI,GAAA,YAAAA,EAAW,OAAA,CACtB,EAGAwB,EAAC,MAAI,CAAA,UAAU,wHACb,SAAA,CAACC,EAAA,MAAA,CAAI,UAAU,mIAAoI,CAAA,IAClJ,MAAI,CAAA,UAAU,yDACb,SAACD,EAAA,MAAA,CAAI,UAAU,gCACb,SAAA,CAACA,EAAA,MAAA,CAAI,UAAU,kCACb,SAAA,CAAAC,EAAC,OAAI,UAAU,2HACb,WAAC5Z,GAAU,CAAA,UAAU,qBAAqB,CAC5C,CAAA,EACA2Z,EAAC,MAAI,CAAA,UAAU,cACb,SAAA,CAACC,EAAA,KAAA,CAAG,UAAU,4GAA4G,SAE1H,kBAAA,EACAA,EAAC,MAAI,CAAA,UAAU,mFAAoF,CAAA,CAAA,CACrG,CAAA,CAAA,EACF,EACCA,EAAA,IAAA,CAAE,UAAU,sEACV,YACC,6OACJ,CAAA,CAAA,CAAA,CACF,CACF,CAAA,CAAA,EACF,IAGC,MAAI,CAAA,UAAU,YACb,SAACD,EAAA,KAAA,CAAG,UAAU,qDACZ,SAAA,CAACC,EAAAsM,GAAA,CAAO,UAAU,6BAA8B,CAAA,EAAE,4BAAA,CAAA,CAEpD,CACF,CAAA,EACAtM,EAACJ,GAAA,CACC,QAASuJ,GACT,QAASC,EACT,MAAOC,CAAA,CAAA,CACP,CAAA,CACJ,EAEArJ,EAAC6L,EAAO,IAAP,CACC,SAAUN,GACV,QAAQ,SACR,QAAQ,OACR,UAAU,YAET,YAAgB,CAAChN,EAGdwB,EAAAK,GAAA,CAAA,SAAA,CAACJ,EAAAC,GAAA,CAAS,UAAU,iBAAkB,CAAA,EACtCD,EAACC,GAAS,CAAA,UAAU,iBAAkB,CAAA,EACtCD,EAACC,GAAS,CAAA,UAAU,+BAAgC,CAAA,CAAA,CACtD,CAAA,EACE1B,EAGAwB,EAAAK,GAAA,CAAA,SAAA,CAAAJ,EAAC6L,EAAO,IAAP,CACC,SAAUxkB,GAEV,SAAA2Y,EAACgG,GAAA,CACC,KAAKnZ,GAAA0R,GAAA,YAAAA,EAAW,UAAX,YAAA1R,GAAoB,IACzB,iBAAAqZ,GACA,cAAAC,GACA,iBAAAC,GACA,gBAAAC,EACA,uBAAwB,IAAMC,GAAuB/H,CAAS,EAC9D,SAAUA,GAAA,YAAAA,EAAW,SACrB,gBAAiByM,KACfpN,IAAAhR,GAAA2R,GAAA,YAAAA,EAAW,UAAX,YAAA3R,GAAoB,MAApB,YAAAgR,GAAyB,SAAU,IACnCC,IAAAF,GAAAY,GAAA,YAAAA,EAAW,UAAX,YAAAZ,GAAoB,MAApB,YAAAE,GAAyB,SAAU,CAAA,CACrC,CAAA,CACF,CACF,EAEAkC,EAAC8L,EAAO,IAAP,CACC,SAAUxkB,GACV,UAAU,uCAEV,SAAA,CAAA2Y,EAACgF,IAAW,UAAU,OACpB,SAACjF,EAAA,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAC,EAAC,OAAI,UAAU,oBACb,WAAC3Z,GAAK,CAAA,UAAU,0BAA0B,CAC5C,CAAA,EACA2Z,EAACkF,GAAgB,CAAA,UAAU,iBACxB,SAAA3G,GAAA,MAAAA,EAAW,SACRA,EAAU,SAAS,OACjB,iBACA,qBACF,EACN,CAAA,CAAA,CAAA,CACF,CACF,CAAA,IAEC,MAAI,CAAA,UAAU,+EACX,SAACwB,EAAA,MAAA,CAAI,UAAU,wDACb,SAAA,CAACA,EAAA,MAAA,CAAI,UAAU,8SAEb,SAAA,CAAAA,EAAC,MAAA,CACC,UAAU,kIACV,MAAO,CACL,SAAUqH,KACRtJ,GAAAS,GAAA,YAAAA,EAAW,YAAX,YAAAT,GAAsB,eAAgB,GACtCC,GAAAQ,GAAA,YAAAA,EAAW,YAAX,YAAAR,GAAsB,SACxB,EACA,QAAS,IACT,UACE,yCACJ,EAGA,SAAA,CAACiC,EAAA,MAAA,CAAI,UAAU,gEAAiE,CAAA,EAChFA,EAAC,MAAI,CAAA,UAAU,gEAAiE,CAAA,EAChFA,EAAC,MAAI,CAAA,UAAU,gEAAiE,CAAA,EAChFA,EAAC,MAAI,CAAA,UAAU,gEAAiE,CAAA,EAChFA,EAAC,MAAI,CAAA,UAAU,oEAAqE,CAAA,CAAA,CAAA,CACtF,EAEAA,EAAC,MAAA,CACC,UAAU,gCACV,MAAO,CACL,UACE,wCACF,cAAe,OACf,WACE,+EAAA,CACJ,CAAA,CACF,EACF,EACAD,EAAC,MAAI,CAAA,UAAU,mBACb,SAAA,CAACA,EAAA,MAAA,CAAI,UAAU,oEACb,SAAA,CAACA,EAAA,MAAA,CAAI,UAAU,2BACb,SAAA,CAACC,EAAA,KAAA,CAAG,UAAU,sDAAsD,SAEpE,aAAA,IACC,IAAE,CAAA,UAAU,sIACV,WAAWhC,GAAAO,GAAA,YAAAA,EAAA,YAAA,YAAAP,GAAW,OACrB,uBACJ,CAAA,CAAA,EACF,EACAgC,EAAC,MAAI,CAAA,UAAU,wIACZ,WAAAuM,GAAAhO,GAAA,YAAAA,EAAW,YAAX,YAAAgO,GAAsB,gBAAiB,QACxCC,GAAAjO,GAAA,YAAAA,EAAW,YAAX,YAAAiO,GAAsB,gBAAiB,OACnC,KAAGC,GAAAlO,GAAA,YAAAA,EAAW,YAAX,YAAAkO,GAAsB,QAAS,IAAI,IAAI,KAAK,SAAOC,GAAAnO,GAAA,YAAAA,EAAW,YAAX,YAAAmO,GAAsB,eAAgB,GAAK,GAAG,CAAC,gBACrG,yBACN,CAAA,CAAA,EACF,EAEA1M,EAAC,MAAI,CAAA,UAAU,+BACb,SAAAA,EAAC,KAAE,UAAU,2CACV,WAAW2M,GAAApO,GAAA,YAAAA,EAAA,YAAA,YAAAoO,GAAW,OACrBxC,KACEyC,GAAArO,GAAA,YAAAA,EAAW,YAAX,YAAAqO,GAAsB,OAAQ,WAEpC,CACF,CAAA,EAEA7M,EAAC,MAAI,CAAA,UAAU,mEACb,SAAA,CAACA,EAAA,MAAA,CAAI,UAAU,6DACb,SAAA,CAACC,EAAA,MAAA,CAAI,UAAU,oDAAoD,SAAS,YAAA,EAC5EA,EAAC,OAAI,UAAU,wCACZ,mCAAW,yBAAS,sBAAM,OAAQ,GACrC,CAAA,CAAA,EACF,EACAD,EAAC,MAAI,CAAA,UAAU,6DACb,SAAA,CAACC,EAAA,MAAA,CAAI,UAAU,oDAAoD,SAEnE,iBAAA,IACC,MAAI,CAAA,UAAU,wCACZ,UAAW6M,GAAAtO,GAAA,YAAAA,EAAA,YAAA,MAAAsO,GAAW,aACnB,IAAI,MACFC,GAAAvO,GAAA,YAAAA,EAAW,YAAX,YAAAuO,GAAsB,YAAA,EACtB,mBAAmB,QAAS,CAC5B,MAAO,QACP,IAAK,UACL,KAAM,SACP,CAAA,EACD,GACN,CAAA,CAAA,EACF,EACA/M,EAAC,MAAI,CAAA,UAAU,6DACb,SAAA,CAACC,EAAA,MAAA,CAAI,UAAU,oDAAoD,SAEnE,gBAAA,IACC,MAAI,CAAA,UAAU,wCACZ,UAAW+M,IAAAC,GAAAzO,GAAA,YAAAA,EAAA,UAAA,YAAAyO,GAAS,OAAT,MAAAD,GAAe,OACvB,GAAG,KAAK,QAAME,IAAAC,GAAA3O,GAAA,YAAAA,EAAW,UAAX,YAAA2O,GAAoB,OAApB,YAAAD,GAA0B,SAAU,CAAC,CAAC,IACpD,GACN,CAAA,CAAA,CACF,CAAA,CAAA,EACF,EAGAlN,EAAC,MAAI,CAAA,UAAU,iFACb,SAAA,CAAAC,EAAC,OAAI,UAAU,MACb,SAACD,EAAA,MAAA,CAAI,UAAU,oCACb,SAAA,CAACA,EAAA,KAAA,CAAG,UAAU,uDACZ,SAAA,CAAAC,EAAC,MAAA,CACC,UAAW,gDAA+CmN,GAAA5O,GAAA,YAAAA,EAAW,WAAX,MAAA4O,GAAqB,OAAS,aAAe,cAAc,EAAA,CACtH,EAAM,uBAAA,EAET,EACAnN,EAAC,OAAA,CACC,UAAW,iDAAgD9Y,GAAAqX,GAAA,YAAAA,EAAW,WAAX,MAAArX,GAAqB,OAAS,0BAA4B,wBAAwB,GAE5I,UAAAkmB,GAAA7O,GAAA,YAAAA,EAAW,WAAX,MAAA6O,GAAqB,OAClB,SACA,UAAA,CAAA,CACN,CAAA,CACF,CACF,CAAA,EAEApN,EAAC,MAAI,CAAA,UAAU,KACf,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,CAAA,CACF,CACF,CAAA,CAAA,CAAA,CACJ,EAECzB,GAAaA,EAAU,SAAWA,EAAU,SAC3CyB,EAAC6L,EAAO,IAAP,CACC,SAAUxkB,GACV,UAAU,gBAEV,SAAA2Y,EAACoE,GAAA,CACC,QAAS7F,EAAU,QACnB,QAASA,EAAU,OAAA,CAAA,CACrB,CAAA,CACF,CAIJ,CAAA,EACE,CAAC0K,GAAgB,CAAC1K,EAEpBwB,EAACsN,GAAK,CAAA,UAAU,wCACd,SAAA,CAAArN,EAACgF,GACC,CAAA,SAAAhF,EAACiF,GAAU,CAAA,SAAA,uBAAqB,CAAA,EAClC,IACCE,GACC,CAAA,SAAAnF,EAAC,KAAE,UAAU,kCAAkC,2DAE/C,CAAA,CACF,CAAA,CAAA,CACF,CAAA,EACE,IAAA,CAAA,CACN,CAAA,CAAA,CACF,CACF,CAAA,CAEJ,CAAA,CAAA,CAAA,CACF,CAAA,CACA,CACF,CAAA,CAEJ","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24]}