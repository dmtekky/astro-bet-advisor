{"version":3,"file":"TeamPage-Dm4Opdi5.js","sources":["../../node_modules/lucide-react/dist/esm/icons/arrow-up-down.js","../../node_modules/lucide-react/dist/esm/icons/link.js","../../node_modules/framer-motion/dist/es/animation/hooks/animation-controls.mjs","../../node_modules/framer-motion/dist/es/animation/hooks/use-animation.mjs","../../node_modules/framer-motion/dist/es/render/dom/viewport/index.mjs","../../node_modules/framer-motion/dist/es/utils/use-in-view.mjs","../../src/components/teams/TeamShareButton.tsx","../../node_modules/react-side-effect/lib/index.js","../../node_modules/react-fast-compare/index.js","../../node_modules/object-assign/index.js","../../node_modules/react-helmet/es/Helmet.js","../../src/components/TeamRoster.tsx","../../src/components/games/GameCard.tsx","../../src/hooks/useWindowSize.ts","../../src/components/games/GameCarousel.tsx","../../src/utils/teamColors.ts","../../node_modules/@radix-ui/react-progress/dist/index.mjs","../../src/components/ui/progress.tsx","../../src/components/TeamChemistryMeter.tsx","../../src/utils/calculateImpactScore.ts","../../src/pages/TeamPage.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ArrowUpDown = createLucideIcon(\"ArrowUpDown\", [\n  [\"path\", { d: \"m21 16-4 4-4-4\", key: \"f6ql7i\" }],\n  [\"path\", { d: \"M17 20V4\", key: \"1ejh1v\" }],\n  [\"path\", { d: \"m3 8 4-4 4 4\", key: \"11wl7u\" }],\n  [\"path\", { d: \"M7 4v16\", key: \"1glfcx\" }]\n]);\n\nexport { ArrowUpDown as default };\n//# sourceMappingURL=arrow-up-down.js.map\n","/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Link = createLucideIcon(\"Link\", [\n  [\"path\", { d: \"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71\", key: \"1cjeqo\" }],\n  [\"path\", { d: \"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71\", key: \"19qd67\" }]\n]);\n\nexport { Link as default };\n//# sourceMappingURL=link.js.map\n","import { invariant } from 'motion-utils';\nimport { setTarget } from '../../render/utils/setters.mjs';\nimport { animateVisualElement } from '../interfaces/visual-element.mjs';\n\nfunction stopAnimation(visualElement) {\n    visualElement.values.forEach((value) => value.stop());\n}\nfunction setVariants(visualElement, variantLabels) {\n    const reversedLabels = [...variantLabels].reverse();\n    reversedLabels.forEach((key) => {\n        const variant = visualElement.getVariant(key);\n        variant && setTarget(visualElement, variant);\n        if (visualElement.variantChildren) {\n            visualElement.variantChildren.forEach((child) => {\n                setVariants(child, variantLabels);\n            });\n        }\n    });\n}\nfunction setValues(visualElement, definition) {\n    if (Array.isArray(definition)) {\n        return setVariants(visualElement, definition);\n    }\n    else if (typeof definition === \"string\") {\n        return setVariants(visualElement, [definition]);\n    }\n    else {\n        setTarget(visualElement, definition);\n    }\n}\n/**\n * @public\n */\nfunction animationControls() {\n    /**\n     * Track whether the host component has mounted.\n     */\n    let hasMounted = false;\n    /**\n     * A collection of linked component animation controls.\n     */\n    const subscribers = new Set();\n    const controls = {\n        subscribe(visualElement) {\n            subscribers.add(visualElement);\n            return () => void subscribers.delete(visualElement);\n        },\n        start(definition, transitionOverride) {\n            invariant(hasMounted, \"controls.start() should only be called after a component has mounted. Consider calling within a useEffect hook.\");\n            const animations = [];\n            subscribers.forEach((visualElement) => {\n                animations.push(animateVisualElement(visualElement, definition, {\n                    transitionOverride,\n                }));\n            });\n            return Promise.all(animations);\n        },\n        set(definition) {\n            invariant(hasMounted, \"controls.set() should only be called after a component has mounted. Consider calling within a useEffect hook.\");\n            return subscribers.forEach((visualElement) => {\n                setValues(visualElement, definition);\n            });\n        },\n        stop() {\n            subscribers.forEach((visualElement) => {\n                stopAnimation(visualElement);\n            });\n        },\n        mount() {\n            hasMounted = true;\n            return () => {\n                hasMounted = false;\n                controls.stop();\n            };\n        },\n    };\n    return controls;\n}\n\nexport { animationControls, setValues };\n","import { animationControls } from './animation-controls.mjs';\nimport { useConstant } from '../../utils/use-constant.mjs';\nimport { useIsomorphicLayoutEffect } from '../../utils/use-isomorphic-effect.mjs';\n\n/**\n * Creates `AnimationControls`, which can be used to manually start, stop\n * and sequence animations on one or more components.\n *\n * The returned `AnimationControls` should be passed to the `animate` property\n * of the components you want to animate.\n *\n * These components can then be animated with the `start` method.\n *\n * ```jsx\n * import * as React from 'react'\n * import { motion, useAnimation } from 'framer-motion'\n *\n * export function MyComponent(props) {\n *    const controls = useAnimation()\n *\n *    controls.start({\n *        x: 100,\n *        transition: { duration: 0.5 },\n *    })\n *\n *    return <motion.div animate={controls} />\n * }\n * ```\n *\n * @returns Animation controller with `start` and `stop` methods\n *\n * @public\n */\nfunction useAnimationControls() {\n    const controls = useConstant(animationControls);\n    useIsomorphicLayoutEffect(controls.mount, []);\n    return controls;\n}\nconst useAnimation = useAnimationControls;\n\nexport { useAnimation, useAnimationControls };\n","import { resolveElements } from 'motion-dom';\n\nconst thresholds = {\n    some: 0,\n    all: 1,\n};\nfunction inView(elementOrSelector, onStart, { root, margin: rootMargin, amount = \"some\" } = {}) {\n    const elements = resolveElements(elementOrSelector);\n    const activeIntersections = new WeakMap();\n    const onIntersectionChange = (entries) => {\n        entries.forEach((entry) => {\n            const onEnd = activeIntersections.get(entry.target);\n            /**\n             * If there's no change to the intersection, we don't need to\n             * do anything here.\n             */\n            if (entry.isIntersecting === Boolean(onEnd))\n                return;\n            if (entry.isIntersecting) {\n                const newOnEnd = onStart(entry.target, entry);\n                if (typeof newOnEnd === \"function\") {\n                    activeIntersections.set(entry.target, newOnEnd);\n                }\n                else {\n                    observer.unobserve(entry.target);\n                }\n            }\n            else if (typeof onEnd === \"function\") {\n                onEnd(entry);\n                activeIntersections.delete(entry.target);\n            }\n        });\n    };\n    const observer = new IntersectionObserver(onIntersectionChange, {\n        root,\n        rootMargin,\n        threshold: typeof amount === \"number\" ? amount : thresholds[amount],\n    });\n    elements.forEach((element) => observer.observe(element));\n    return () => observer.disconnect();\n}\n\nexport { inView };\n","import { useState, useEffect } from 'react';\nimport { inView } from '../render/dom/viewport/index.mjs';\n\nfunction useInView(ref, { root, margin, amount, once = false, initial = false, } = {}) {\n    const [isInView, setInView] = useState(initial);\n    useEffect(() => {\n        if (!ref.current || (once && isInView))\n            return;\n        const onEnter = () => {\n            setInView(true);\n            return once ? undefined : () => setInView(false);\n        };\n        const options = {\n            root: (root && root.current) || undefined,\n            margin,\n            amount,\n        };\n        return inView(ref.current, onEnter, options);\n    }, [root, ref, margin, once, amount]);\n    return isInView;\n}\n\nexport { useInView };\n","import React, { useState } from 'react';\nimport { Button } from '@/components/ui/button';\nimport { \n  DropdownMenu, \n  DropdownMenuContent, \n  DropdownMenuItem, \n  DropdownMenuTrigger \n} from '@/components/ui/dropdown-menu';\nimport { \n  Share2Icon, \n  TwitterIcon, \n  FacebookIcon, \n  LinkIcon, \n  CheckIcon\n} from 'lucide-react';\nimport { useToast } from '@/components/ui/use-toast';\n\ninterface TeamShareButtonProps {\n  team: {\n    id: string;\n    name: string;\n    logo: string;\n    astro_score?: number;\n    leagueSlug: string;\n    teamSlug: string;\n  };\n  className?: string;\n}\n\nconst TeamShareButton: React.FC<TeamShareButtonProps> = ({ team, className = '' }) => {\n  const [copied, setCopied] = useState(false);\n  const { toast } = useToast();\n  \n  // Ensure we have required team data\n  if (!team || !team.leagueSlug || !team.teamSlug) {\n    console.error('Missing required team data for sharing');\n    return null;\n  }\n\n  // Use team abbreviation for a cleaner URL\n  const teamPageUrl = `${window.location.origin}/teams/${team.teamSlug.toLowerCase()}`;\n  const astroScore = team.astro_score ?? 0;\n  const teamName = team.name || 'This team';\n  const leagueEmoji = getLeagueEmoji(team.leagueSlug);\n\n  // Format for sharing - team page URL is the main link\n  const shareText = `${leagueEmoji} ${teamName}'s Astro Score: ${astroScore}/100 - See how the stars align for their performance!`;\n\n  function getLeagueEmoji(leagueSlug: string) {\n    switch (leagueSlug.toLowerCase()) {\n      case 'mlb':\n        return 'âš¾'; // Baseball\n      case 'nba':\n        return 'ðŸ€'; // Basketball\n      case 'nfl':\n        return 'ðŸˆ'; // American Football\n      default:\n        return 'â­'; // Default star emoji\n    }\n  }\n\n  const trackShareEvent = (platform: string) => {\n    // Implement analytics tracking here\n    try {\n      console.log(`Shared ${teamName} via ${platform}`, {\n        teamId: team.id,\n        teamName: teamName,\n        astroScore,\n        platform,\n        timestamp: new Date().toISOString()\n      });\n      // Example: analytics.track('team_shared', { team: team.id, platform });\n    } catch (error) {\n      console.error('Error tracking share event:', error);\n    }\n  };\n\n  const handleShare = async () => {\n    if (!navigator.share && !navigator.clipboard) {\n      console.error('Web Share API and Clipboard API not supported');\n      toast({\n        title: 'Sharing not supported',\n        description: 'Please copy the link manually',\n        variant: 'destructive',\n      });\n      return;\n    }\n\n    try {\n      // Prepare share data with the team page URL as the main link\n      const shareData: ShareData = {\n        title: `${teamName} - Full Moon Odds`,\n        text: team.logo \n          ? `${shareText}\\n\\n${team.logo}` // Include logo URL in text as fallback\n          : shareText,\n        url: teamPageUrl,\n      };\n\n      if (navigator.share) {\n        await navigator.share(shareData);\n        trackShareEvent('mobile_share');\n      } else {\n        // Fallback for desktop\n        try {\n          await navigator.clipboard.writeText(`${shareText} ${teamPageUrl}`);\n          setCopied(true);\n          \n          toast({\n            title: 'Link copied!',\n            description: 'Team link copied to clipboard',\n          });\n          \n          setTimeout(() => setCopied(false), 2000);\n          trackShareEvent('clipboard');\n        } catch (err) {\n          console.error('Failed to copy:', err);\n          toast({\n            title: 'Failed to copy',\n            description: 'Please copy the link manually',\n            variant: 'destructive',\n          });\n        }\n      }\n    } catch (err) {\n      // User cancelled the share, no need to show an error\n      if (err.name !== 'AbortError') {\n        toast({\n          title: 'Sharing failed',\n          description: 'Could not share team details',\n          variant: 'destructive',\n        });\n      }\n    }\n  };\n  \n  const handlePlatformShare = (platform: 'twitter' | 'facebook') => {\n    let url = '';\n    \n    switch (platform) {\n      case 'twitter':\n        url = `https://twitter.com/intent/tweet?text=${encodeURIComponent(shareText)}&url=${encodeURIComponent(teamPageUrl)}`;\n        break;\n      case 'facebook':\n        url = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(teamPageUrl)}`;\n        break;\n    }\n    \n    if (url) {\n      window.open(url, '_blank', 'noopener,noreferrer');\n      trackShareEvent(platform);\n    }\n  };\n\n  const handleCopyLink = () => {\n    navigator.clipboard.writeText(teamPageUrl)\n      .then(() => {\n        setCopied(true);\n        toast({\n          title: 'Link copied!',\n          description: 'Team link copied to clipboard',\n        });\n        setTimeout(() => setCopied(false), 2000);\n        trackShareEvent('clipboard');\n      })\n      .catch((err) => {\n        console.error('Failed to copy:', err);\n        toast({\n          title: 'Failed to copy',\n          description: 'Please copy the link manually',\n          variant: 'destructive',\n        });\n      });\n  };\n  \n  return (\n    <div className={`relative ${className}`}>\n      <DropdownMenu>\n        <DropdownMenuTrigger asChild>\n          <Button \n            variant=\"secondary\"\n            className=\"flex items-center gap-2\"\n            aria-label=\"Share team\"\n          >\n            <Share2Icon className=\"h-4 w-4\" />\n            <span>Share Team</span>\n          </Button>\n        </DropdownMenuTrigger>\n        <DropdownMenuContent className=\"w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700\">\n          <DropdownMenuItem \n            onClick={() => handlePlatformShare('twitter')}\n            className=\"flex items-center gap-3 p-3 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer transition-colors duration-200\"\n          >\n            <TwitterIcon className=\"h-4 w-4 text-blue-400\" />\n            <span className=\"text-sm\">Twitter</span>\n          </DropdownMenuItem>\n          <DropdownMenuItem \n            onClick={() => handlePlatformShare('facebook')}\n            className=\"flex items-center gap-3 p-3 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer transition-colors duration-200\"\n          >\n            <FacebookIcon className=\"h-4 w-4 text-blue-600\" />\n            <span className=\"text-sm\">Facebook</span>\n          </DropdownMenuItem>\n          <DropdownMenuItem \n            onClick={handleCopyLink}\n            className=\"flex items-center gap-3 p-3 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer transition-colors duration-200\"\n          >\n            {copied ? (\n              <CheckIcon className=\"h-4 w-4 text-green-500\" />\n            ) : (\n              <LinkIcon className=\"h-4 w-4\" />\n            )}\n            <span className=\"text-sm\">{copied ? 'Copied!' : 'Copy Link'}</span>\n          </DropdownMenuItem>\n        </DropdownMenuContent>\n      </DropdownMenu>\n    </div>\n  );\n};\n\nexport default TeamShareButton;\n","'use strict';\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nvar React = require('react');\nvar React__default = _interopDefault(React);\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nvar canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\nfunction withSideEffect(reducePropsToState, handleStateChangeOnClient, mapStateOnServer) {\n  if (typeof reducePropsToState !== 'function') {\n    throw new Error('Expected reducePropsToState to be a function.');\n  }\n\n  if (typeof handleStateChangeOnClient !== 'function') {\n    throw new Error('Expected handleStateChangeOnClient to be a function.');\n  }\n\n  if (typeof mapStateOnServer !== 'undefined' && typeof mapStateOnServer !== 'function') {\n    throw new Error('Expected mapStateOnServer to either be undefined or a function.');\n  }\n\n  function getDisplayName(WrappedComponent) {\n    return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n  }\n\n  return function wrap(WrappedComponent) {\n    if (typeof WrappedComponent !== 'function') {\n      throw new Error('Expected WrappedComponent to be a React component.');\n    }\n\n    var mountedInstances = [];\n    var state;\n\n    function emitChange() {\n      state = reducePropsToState(mountedInstances.map(function (instance) {\n        return instance.props;\n      }));\n\n      if (SideEffect.canUseDOM) {\n        handleStateChangeOnClient(state);\n      } else if (mapStateOnServer) {\n        state = mapStateOnServer(state);\n      }\n    }\n\n    var SideEffect =\n    /*#__PURE__*/\n    function (_PureComponent) {\n      _inheritsLoose(SideEffect, _PureComponent);\n\n      function SideEffect() {\n        return _PureComponent.apply(this, arguments) || this;\n      }\n\n      // Try to use displayName of wrapped component\n      // Expose canUseDOM so tests can monkeypatch it\n      SideEffect.peek = function peek() {\n        return state;\n      };\n\n      SideEffect.rewind = function rewind() {\n        if (SideEffect.canUseDOM) {\n          throw new Error('You may only call rewind() on the server. Call peek() to read the current state.');\n        }\n\n        var recordedState = state;\n        state = undefined;\n        mountedInstances = [];\n        return recordedState;\n      };\n\n      var _proto = SideEffect.prototype;\n\n      _proto.UNSAFE_componentWillMount = function UNSAFE_componentWillMount() {\n        mountedInstances.push(this);\n        emitChange();\n      };\n\n      _proto.componentDidUpdate = function componentDidUpdate() {\n        emitChange();\n      };\n\n      _proto.componentWillUnmount = function componentWillUnmount() {\n        var index = mountedInstances.indexOf(this);\n        mountedInstances.splice(index, 1);\n        emitChange();\n      };\n\n      _proto.render = function render() {\n        return React__default.createElement(WrappedComponent, this.props);\n      };\n\n      return SideEffect;\n    }(React.PureComponent);\n\n    _defineProperty(SideEffect, \"displayName\", \"SideEffect(\" + getDisplayName(WrappedComponent) + \")\");\n\n    _defineProperty(SideEffect, \"canUseDOM\", canUseDOM);\n\n    return SideEffect;\n  };\n}\n\nmodule.exports = withSideEffect;\n","/* global Map:readonly, Set:readonly, ArrayBuffer:readonly */\n\nvar hasElementType = typeof Element !== 'undefined';\nvar hasMap = typeof Map === 'function';\nvar hasSet = typeof Set === 'function';\nvar hasArrayBuffer = typeof ArrayBuffer === 'function' && !!ArrayBuffer.isView;\n\n// Note: We **don't** need `envHasBigInt64Array` in fde es6/index.js\n\nfunction equal(a, b) {\n  // START: fast-deep-equal es6/index.js 3.1.3\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n    // START: Modifications:\n    // 1. Extra `has<Type> &&` helpers in initial condition allow es6 code\n    //    to co-exist with es5.\n    // 2. Replace `for of` with es5 compliant iteration using `for`.\n    //    Basically, take:\n    //\n    //    ```js\n    //    for (i of a.entries())\n    //      if (!b.has(i[0])) return false;\n    //    ```\n    //\n    //    ... and convert to:\n    //\n    //    ```js\n    //    it = a.entries();\n    //    while (!(i = it.next()).done)\n    //      if (!b.has(i.value[0])) return false;\n    //    ```\n    //\n    //    **Note**: `i` access switches to `i.value`.\n    var it;\n    if (hasMap && (a instanceof Map) && (b instanceof Map)) {\n      if (a.size !== b.size) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!b.has(i.value[0])) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!equal(i.value[1], b.get(i.value[0]))) return false;\n      return true;\n    }\n\n    if (hasSet && (a instanceof Set) && (b instanceof Set)) {\n      if (a.size !== b.size) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!b.has(i.value[0])) return false;\n      return true;\n    }\n    // END: Modifications\n\n    if (hasArrayBuffer && ArrayBuffer.isView(a) && ArrayBuffer.isView(b)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (a[i] !== b[i]) return false;\n      return true;\n    }\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    // START: Modifications:\n    // Apply guards for `Object.create(null)` handling. See:\n    // - https://github.com/FormidableLabs/react-fast-compare/issues/64\n    // - https://github.com/epoberezkin/fast-deep-equal/issues/49\n    if (a.valueOf !== Object.prototype.valueOf && typeof a.valueOf === 'function' && typeof b.valueOf === 'function') return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString && typeof a.toString === 'function' && typeof b.toString === 'function') return a.toString() === b.toString();\n    // END: Modifications\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n    // END: fast-deep-equal\n\n    // START: react-fast-compare\n    // custom handling for DOM elements\n    if (hasElementType && a instanceof Element) return false;\n\n    // custom handling for React/Preact\n    for (i = length; i-- !== 0;) {\n      if ((keys[i] === '_owner' || keys[i] === '__v' || keys[i] === '__o') && a.$$typeof) {\n        // React-specific: avoid traversing React elements' _owner\n        // Preact-specific: avoid traversing Preact elements' __v and __o\n        //    __v = $_original / $_vnode\n        //    __o = $_owner\n        // These properties contain circular references and are not needed when\n        // comparing the actual elements (and not their owners)\n        // .$$typeof and ._store on just reasonable markers of elements\n\n        continue;\n      }\n\n      // all other properties should be traversed as usual\n      if (!equal(a[keys[i]], b[keys[i]])) return false;\n    }\n    // END: react-fast-compare\n\n    // START: fast-deep-equal\n    return true;\n  }\n\n  return a !== a && b !== b;\n}\n// end fast-deep-equal\n\nmodule.exports = function isEqual(a, b) {\n  try {\n    return equal(a, b);\n  } catch (error) {\n    if (((error.message || '').match(/stack|recursion/i))) {\n      // warn on circular references, don't crash\n      // browsers give this different errors name and messages:\n      // chrome/safari: \"RangeError\", \"Maximum call stack size exceeded\"\n      // firefox: \"InternalError\", too much recursion\"\n      // edge: \"Error\", \"Out of stack space\"\n      console.warn('react-fast-compare cannot handle circular refs');\n      return false;\n    }\n    // some other error. we should definitely know about these\n    throw error;\n  }\n};\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","import PropTypes from 'prop-types';\nimport withSideEffect from 'react-side-effect';\nimport isEqual from 'react-fast-compare';\nimport React from 'react';\nimport objectAssign from 'object-assign';\n\nvar ATTRIBUTE_NAMES = {\n    BODY: \"bodyAttributes\",\n    HTML: \"htmlAttributes\",\n    TITLE: \"titleAttributes\"\n};\n\nvar TAG_NAMES = {\n    BASE: \"base\",\n    BODY: \"body\",\n    HEAD: \"head\",\n    HTML: \"html\",\n    LINK: \"link\",\n    META: \"meta\",\n    NOSCRIPT: \"noscript\",\n    SCRIPT: \"script\",\n    STYLE: \"style\",\n    TITLE: \"title\"\n};\n\nvar VALID_TAG_NAMES = Object.keys(TAG_NAMES).map(function (name) {\n    return TAG_NAMES[name];\n});\n\nvar TAG_PROPERTIES = {\n    CHARSET: \"charset\",\n    CSS_TEXT: \"cssText\",\n    HREF: \"href\",\n    HTTPEQUIV: \"http-equiv\",\n    INNER_HTML: \"innerHTML\",\n    ITEM_PROP: \"itemprop\",\n    NAME: \"name\",\n    PROPERTY: \"property\",\n    REL: \"rel\",\n    SRC: \"src\",\n    TARGET: \"target\"\n};\n\nvar REACT_TAG_MAP = {\n    accesskey: \"accessKey\",\n    charset: \"charSet\",\n    class: \"className\",\n    contenteditable: \"contentEditable\",\n    contextmenu: \"contextMenu\",\n    \"http-equiv\": \"httpEquiv\",\n    itemprop: \"itemProp\",\n    tabindex: \"tabIndex\"\n};\n\nvar HELMET_PROPS = {\n    DEFAULT_TITLE: \"defaultTitle\",\n    DEFER: \"defer\",\n    ENCODE_SPECIAL_CHARACTERS: \"encodeSpecialCharacters\",\n    ON_CHANGE_CLIENT_STATE: \"onChangeClientState\",\n    TITLE_TEMPLATE: \"titleTemplate\"\n};\n\nvar HTML_TAG_MAP = Object.keys(REACT_TAG_MAP).reduce(function (obj, key) {\n    obj[REACT_TAG_MAP[key]] = key;\n    return obj;\n}, {});\n\nvar SELF_CLOSING_TAGS = [TAG_NAMES.NOSCRIPT, TAG_NAMES.SCRIPT, TAG_NAMES.STYLE];\n\nvar HELMET_ATTRIBUTE = \"data-react-helmet\";\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar objectWithoutProperties = function (obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n};\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar encodeSpecialCharacters = function encodeSpecialCharacters(str) {\n    var encode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n    if (encode === false) {\n        return String(str);\n    }\n\n    return String(str).replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\").replace(/'/g, \"&#x27;\");\n};\n\nvar getTitleFromPropsList = function getTitleFromPropsList(propsList) {\n    var innermostTitle = getInnermostProperty(propsList, TAG_NAMES.TITLE);\n    var innermostTemplate = getInnermostProperty(propsList, HELMET_PROPS.TITLE_TEMPLATE);\n\n    if (innermostTemplate && innermostTitle) {\n        // use function arg to avoid need to escape $ characters\n        return innermostTemplate.replace(/%s/g, function () {\n            return Array.isArray(innermostTitle) ? innermostTitle.join(\"\") : innermostTitle;\n        });\n    }\n\n    var innermostDefaultTitle = getInnermostProperty(propsList, HELMET_PROPS.DEFAULT_TITLE);\n\n    return innermostTitle || innermostDefaultTitle || undefined;\n};\n\nvar getOnChangeClientState = function getOnChangeClientState(propsList) {\n    return getInnermostProperty(propsList, HELMET_PROPS.ON_CHANGE_CLIENT_STATE) || function () {};\n};\n\nvar getAttributesFromPropsList = function getAttributesFromPropsList(tagType, propsList) {\n    return propsList.filter(function (props) {\n        return typeof props[tagType] !== \"undefined\";\n    }).map(function (props) {\n        return props[tagType];\n    }).reduce(function (tagAttrs, current) {\n        return _extends({}, tagAttrs, current);\n    }, {});\n};\n\nvar getBaseTagFromPropsList = function getBaseTagFromPropsList(primaryAttributes, propsList) {\n    return propsList.filter(function (props) {\n        return typeof props[TAG_NAMES.BASE] !== \"undefined\";\n    }).map(function (props) {\n        return props[TAG_NAMES.BASE];\n    }).reverse().reduce(function (innermostBaseTag, tag) {\n        if (!innermostBaseTag.length) {\n            var keys = Object.keys(tag);\n\n            for (var i = 0; i < keys.length; i++) {\n                var attributeKey = keys[i];\n                var lowerCaseAttributeKey = attributeKey.toLowerCase();\n\n                if (primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 && tag[lowerCaseAttributeKey]) {\n                    return innermostBaseTag.concat(tag);\n                }\n            }\n        }\n\n        return innermostBaseTag;\n    }, []);\n};\n\nvar getTagsFromPropsList = function getTagsFromPropsList(tagName, primaryAttributes, propsList) {\n    // Calculate list of tags, giving priority innermost component (end of the propslist)\n    var approvedSeenTags = {};\n\n    return propsList.filter(function (props) {\n        if (Array.isArray(props[tagName])) {\n            return true;\n        }\n        if (typeof props[tagName] !== \"undefined\") {\n            warn(\"Helmet: \" + tagName + \" should be of type \\\"Array\\\". Instead found type \\\"\" + _typeof(props[tagName]) + \"\\\"\");\n        }\n        return false;\n    }).map(function (props) {\n        return props[tagName];\n    }).reverse().reduce(function (approvedTags, instanceTags) {\n        var instanceSeenTags = {};\n\n        instanceTags.filter(function (tag) {\n            var primaryAttributeKey = void 0;\n            var keys = Object.keys(tag);\n            for (var i = 0; i < keys.length; i++) {\n                var attributeKey = keys[i];\n                var lowerCaseAttributeKey = attributeKey.toLowerCase();\n\n                // Special rule with link tags, since rel and href are both primary tags, rel takes priority\n                if (primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 && !(primaryAttributeKey === TAG_PROPERTIES.REL && tag[primaryAttributeKey].toLowerCase() === \"canonical\") && !(lowerCaseAttributeKey === TAG_PROPERTIES.REL && tag[lowerCaseAttributeKey].toLowerCase() === \"stylesheet\")) {\n                    primaryAttributeKey = lowerCaseAttributeKey;\n                }\n                // Special case for innerHTML which doesn't work lowercased\n                if (primaryAttributes.indexOf(attributeKey) !== -1 && (attributeKey === TAG_PROPERTIES.INNER_HTML || attributeKey === TAG_PROPERTIES.CSS_TEXT || attributeKey === TAG_PROPERTIES.ITEM_PROP)) {\n                    primaryAttributeKey = attributeKey;\n                }\n            }\n\n            if (!primaryAttributeKey || !tag[primaryAttributeKey]) {\n                return false;\n            }\n\n            var value = tag[primaryAttributeKey].toLowerCase();\n\n            if (!approvedSeenTags[primaryAttributeKey]) {\n                approvedSeenTags[primaryAttributeKey] = {};\n            }\n\n            if (!instanceSeenTags[primaryAttributeKey]) {\n                instanceSeenTags[primaryAttributeKey] = {};\n            }\n\n            if (!approvedSeenTags[primaryAttributeKey][value]) {\n                instanceSeenTags[primaryAttributeKey][value] = true;\n                return true;\n            }\n\n            return false;\n        }).reverse().forEach(function (tag) {\n            return approvedTags.push(tag);\n        });\n\n        // Update seen tags with tags from this instance\n        var keys = Object.keys(instanceSeenTags);\n        for (var i = 0; i < keys.length; i++) {\n            var attributeKey = keys[i];\n            var tagUnion = objectAssign({}, approvedSeenTags[attributeKey], instanceSeenTags[attributeKey]);\n\n            approvedSeenTags[attributeKey] = tagUnion;\n        }\n\n        return approvedTags;\n    }, []).reverse();\n};\n\nvar getInnermostProperty = function getInnermostProperty(propsList, property) {\n    for (var i = propsList.length - 1; i >= 0; i--) {\n        var props = propsList[i];\n\n        if (props.hasOwnProperty(property)) {\n            return props[property];\n        }\n    }\n\n    return null;\n};\n\nvar reducePropsToState = function reducePropsToState(propsList) {\n    return {\n        baseTag: getBaseTagFromPropsList([TAG_PROPERTIES.HREF, TAG_PROPERTIES.TARGET], propsList),\n        bodyAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.BODY, propsList),\n        defer: getInnermostProperty(propsList, HELMET_PROPS.DEFER),\n        encode: getInnermostProperty(propsList, HELMET_PROPS.ENCODE_SPECIAL_CHARACTERS),\n        htmlAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.HTML, propsList),\n        linkTags: getTagsFromPropsList(TAG_NAMES.LINK, [TAG_PROPERTIES.REL, TAG_PROPERTIES.HREF], propsList),\n        metaTags: getTagsFromPropsList(TAG_NAMES.META, [TAG_PROPERTIES.NAME, TAG_PROPERTIES.CHARSET, TAG_PROPERTIES.HTTPEQUIV, TAG_PROPERTIES.PROPERTY, TAG_PROPERTIES.ITEM_PROP], propsList),\n        noscriptTags: getTagsFromPropsList(TAG_NAMES.NOSCRIPT, [TAG_PROPERTIES.INNER_HTML], propsList),\n        onChangeClientState: getOnChangeClientState(propsList),\n        scriptTags: getTagsFromPropsList(TAG_NAMES.SCRIPT, [TAG_PROPERTIES.SRC, TAG_PROPERTIES.INNER_HTML], propsList),\n        styleTags: getTagsFromPropsList(TAG_NAMES.STYLE, [TAG_PROPERTIES.CSS_TEXT], propsList),\n        title: getTitleFromPropsList(propsList),\n        titleAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.TITLE, propsList)\n    };\n};\n\nvar rafPolyfill = function () {\n    var clock = Date.now();\n\n    return function (callback) {\n        var currentTime = Date.now();\n\n        if (currentTime - clock > 16) {\n            clock = currentTime;\n            callback(currentTime);\n        } else {\n            setTimeout(function () {\n                rafPolyfill(callback);\n            }, 0);\n        }\n    };\n}();\n\nvar cafPolyfill = function cafPolyfill(id) {\n    return clearTimeout(id);\n};\n\nvar requestAnimationFrame = typeof window !== \"undefined\" ? window.requestAnimationFrame && window.requestAnimationFrame.bind(window) || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || rafPolyfill : global.requestAnimationFrame || rafPolyfill;\n\nvar cancelAnimationFrame = typeof window !== \"undefined\" ? window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || cafPolyfill : global.cancelAnimationFrame || cafPolyfill;\n\nvar warn = function warn(msg) {\n    return console && typeof console.warn === \"function\" && console.warn(msg);\n};\n\nvar _helmetCallback = null;\n\nvar handleClientStateChange = function handleClientStateChange(newState) {\n    if (_helmetCallback) {\n        cancelAnimationFrame(_helmetCallback);\n    }\n\n    if (newState.defer) {\n        _helmetCallback = requestAnimationFrame(function () {\n            commitTagChanges(newState, function () {\n                _helmetCallback = null;\n            });\n        });\n    } else {\n        commitTagChanges(newState);\n        _helmetCallback = null;\n    }\n};\n\nvar commitTagChanges = function commitTagChanges(newState, cb) {\n    var baseTag = newState.baseTag,\n        bodyAttributes = newState.bodyAttributes,\n        htmlAttributes = newState.htmlAttributes,\n        linkTags = newState.linkTags,\n        metaTags = newState.metaTags,\n        noscriptTags = newState.noscriptTags,\n        onChangeClientState = newState.onChangeClientState,\n        scriptTags = newState.scriptTags,\n        styleTags = newState.styleTags,\n        title = newState.title,\n        titleAttributes = newState.titleAttributes;\n\n    updateAttributes(TAG_NAMES.BODY, bodyAttributes);\n    updateAttributes(TAG_NAMES.HTML, htmlAttributes);\n\n    updateTitle(title, titleAttributes);\n\n    var tagUpdates = {\n        baseTag: updateTags(TAG_NAMES.BASE, baseTag),\n        linkTags: updateTags(TAG_NAMES.LINK, linkTags),\n        metaTags: updateTags(TAG_NAMES.META, metaTags),\n        noscriptTags: updateTags(TAG_NAMES.NOSCRIPT, noscriptTags),\n        scriptTags: updateTags(TAG_NAMES.SCRIPT, scriptTags),\n        styleTags: updateTags(TAG_NAMES.STYLE, styleTags)\n    };\n\n    var addedTags = {};\n    var removedTags = {};\n\n    Object.keys(tagUpdates).forEach(function (tagType) {\n        var _tagUpdates$tagType = tagUpdates[tagType],\n            newTags = _tagUpdates$tagType.newTags,\n            oldTags = _tagUpdates$tagType.oldTags;\n\n\n        if (newTags.length) {\n            addedTags[tagType] = newTags;\n        }\n        if (oldTags.length) {\n            removedTags[tagType] = tagUpdates[tagType].oldTags;\n        }\n    });\n\n    cb && cb();\n\n    onChangeClientState(newState, addedTags, removedTags);\n};\n\nvar flattenArray = function flattenArray(possibleArray) {\n    return Array.isArray(possibleArray) ? possibleArray.join(\"\") : possibleArray;\n};\n\nvar updateTitle = function updateTitle(title, attributes) {\n    if (typeof title !== \"undefined\" && document.title !== title) {\n        document.title = flattenArray(title);\n    }\n\n    updateAttributes(TAG_NAMES.TITLE, attributes);\n};\n\nvar updateAttributes = function updateAttributes(tagName, attributes) {\n    var elementTag = document.getElementsByTagName(tagName)[0];\n\n    if (!elementTag) {\n        return;\n    }\n\n    var helmetAttributeString = elementTag.getAttribute(HELMET_ATTRIBUTE);\n    var helmetAttributes = helmetAttributeString ? helmetAttributeString.split(\",\") : [];\n    var attributesToRemove = [].concat(helmetAttributes);\n    var attributeKeys = Object.keys(attributes);\n\n    for (var i = 0; i < attributeKeys.length; i++) {\n        var attribute = attributeKeys[i];\n        var value = attributes[attribute] || \"\";\n\n        if (elementTag.getAttribute(attribute) !== value) {\n            elementTag.setAttribute(attribute, value);\n        }\n\n        if (helmetAttributes.indexOf(attribute) === -1) {\n            helmetAttributes.push(attribute);\n        }\n\n        var indexToSave = attributesToRemove.indexOf(attribute);\n        if (indexToSave !== -1) {\n            attributesToRemove.splice(indexToSave, 1);\n        }\n    }\n\n    for (var _i = attributesToRemove.length - 1; _i >= 0; _i--) {\n        elementTag.removeAttribute(attributesToRemove[_i]);\n    }\n\n    if (helmetAttributes.length === attributesToRemove.length) {\n        elementTag.removeAttribute(HELMET_ATTRIBUTE);\n    } else if (elementTag.getAttribute(HELMET_ATTRIBUTE) !== attributeKeys.join(\",\")) {\n        elementTag.setAttribute(HELMET_ATTRIBUTE, attributeKeys.join(\",\"));\n    }\n};\n\nvar updateTags = function updateTags(type, tags) {\n    var headElement = document.head || document.querySelector(TAG_NAMES.HEAD);\n    var tagNodes = headElement.querySelectorAll(type + \"[\" + HELMET_ATTRIBUTE + \"]\");\n    var oldTags = Array.prototype.slice.call(tagNodes);\n    var newTags = [];\n    var indexToDelete = void 0;\n\n    if (tags && tags.length) {\n        tags.forEach(function (tag) {\n            var newElement = document.createElement(type);\n\n            for (var attribute in tag) {\n                if (tag.hasOwnProperty(attribute)) {\n                    if (attribute === TAG_PROPERTIES.INNER_HTML) {\n                        newElement.innerHTML = tag.innerHTML;\n                    } else if (attribute === TAG_PROPERTIES.CSS_TEXT) {\n                        if (newElement.styleSheet) {\n                            newElement.styleSheet.cssText = tag.cssText;\n                        } else {\n                            newElement.appendChild(document.createTextNode(tag.cssText));\n                        }\n                    } else {\n                        var value = typeof tag[attribute] === \"undefined\" ? \"\" : tag[attribute];\n                        newElement.setAttribute(attribute, value);\n                    }\n                }\n            }\n\n            newElement.setAttribute(HELMET_ATTRIBUTE, \"true\");\n\n            // Remove a duplicate tag from domTagstoRemove, so it isn't cleared.\n            if (oldTags.some(function (existingTag, index) {\n                indexToDelete = index;\n                return newElement.isEqualNode(existingTag);\n            })) {\n                oldTags.splice(indexToDelete, 1);\n            } else {\n                newTags.push(newElement);\n            }\n        });\n    }\n\n    oldTags.forEach(function (tag) {\n        return tag.parentNode.removeChild(tag);\n    });\n    newTags.forEach(function (tag) {\n        return headElement.appendChild(tag);\n    });\n\n    return {\n        oldTags: oldTags,\n        newTags: newTags\n    };\n};\n\nvar generateElementAttributesAsString = function generateElementAttributesAsString(attributes) {\n    return Object.keys(attributes).reduce(function (str, key) {\n        var attr = typeof attributes[key] !== \"undefined\" ? key + \"=\\\"\" + attributes[key] + \"\\\"\" : \"\" + key;\n        return str ? str + \" \" + attr : attr;\n    }, \"\");\n};\n\nvar generateTitleAsString = function generateTitleAsString(type, title, attributes, encode) {\n    var attributeString = generateElementAttributesAsString(attributes);\n    var flattenedTitle = flattenArray(title);\n    return attributeString ? \"<\" + type + \" \" + HELMET_ATTRIBUTE + \"=\\\"true\\\" \" + attributeString + \">\" + encodeSpecialCharacters(flattenedTitle, encode) + \"</\" + type + \">\" : \"<\" + type + \" \" + HELMET_ATTRIBUTE + \"=\\\"true\\\">\" + encodeSpecialCharacters(flattenedTitle, encode) + \"</\" + type + \">\";\n};\n\nvar generateTagsAsString = function generateTagsAsString(type, tags, encode) {\n    return tags.reduce(function (str, tag) {\n        var attributeHtml = Object.keys(tag).filter(function (attribute) {\n            return !(attribute === TAG_PROPERTIES.INNER_HTML || attribute === TAG_PROPERTIES.CSS_TEXT);\n        }).reduce(function (string, attribute) {\n            var attr = typeof tag[attribute] === \"undefined\" ? attribute : attribute + \"=\\\"\" + encodeSpecialCharacters(tag[attribute], encode) + \"\\\"\";\n            return string ? string + \" \" + attr : attr;\n        }, \"\");\n\n        var tagContent = tag.innerHTML || tag.cssText || \"\";\n\n        var isSelfClosing = SELF_CLOSING_TAGS.indexOf(type) === -1;\n\n        return str + \"<\" + type + \" \" + HELMET_ATTRIBUTE + \"=\\\"true\\\" \" + attributeHtml + (isSelfClosing ? \"/>\" : \">\" + tagContent + \"</\" + type + \">\");\n    }, \"\");\n};\n\nvar convertElementAttributestoReactProps = function convertElementAttributestoReactProps(attributes) {\n    var initProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    return Object.keys(attributes).reduce(function (obj, key) {\n        obj[REACT_TAG_MAP[key] || key] = attributes[key];\n        return obj;\n    }, initProps);\n};\n\nvar convertReactPropstoHtmlAttributes = function convertReactPropstoHtmlAttributes(props) {\n    var initAttributes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    return Object.keys(props).reduce(function (obj, key) {\n        obj[HTML_TAG_MAP[key] || key] = props[key];\n        return obj;\n    }, initAttributes);\n};\n\nvar generateTitleAsReactComponent = function generateTitleAsReactComponent(type, title, attributes) {\n    var _initProps;\n\n    // assigning into an array to define toString function on it\n    var initProps = (_initProps = {\n        key: title\n    }, _initProps[HELMET_ATTRIBUTE] = true, _initProps);\n    var props = convertElementAttributestoReactProps(attributes, initProps);\n\n    return [React.createElement(TAG_NAMES.TITLE, props, title)];\n};\n\nvar generateTagsAsReactComponent = function generateTagsAsReactComponent(type, tags) {\n    return tags.map(function (tag, i) {\n        var _mappedTag;\n\n        var mappedTag = (_mappedTag = {\n            key: i\n        }, _mappedTag[HELMET_ATTRIBUTE] = true, _mappedTag);\n\n        Object.keys(tag).forEach(function (attribute) {\n            var mappedAttribute = REACT_TAG_MAP[attribute] || attribute;\n\n            if (mappedAttribute === TAG_PROPERTIES.INNER_HTML || mappedAttribute === TAG_PROPERTIES.CSS_TEXT) {\n                var content = tag.innerHTML || tag.cssText;\n                mappedTag.dangerouslySetInnerHTML = { __html: content };\n            } else {\n                mappedTag[mappedAttribute] = tag[attribute];\n            }\n        });\n\n        return React.createElement(type, mappedTag);\n    });\n};\n\nvar getMethodsForTag = function getMethodsForTag(type, tags, encode) {\n    switch (type) {\n        case TAG_NAMES.TITLE:\n            return {\n                toComponent: function toComponent() {\n                    return generateTitleAsReactComponent(type, tags.title, tags.titleAttributes, encode);\n                },\n                toString: function toString() {\n                    return generateTitleAsString(type, tags.title, tags.titleAttributes, encode);\n                }\n            };\n        case ATTRIBUTE_NAMES.BODY:\n        case ATTRIBUTE_NAMES.HTML:\n            return {\n                toComponent: function toComponent() {\n                    return convertElementAttributestoReactProps(tags);\n                },\n                toString: function toString() {\n                    return generateElementAttributesAsString(tags);\n                }\n            };\n        default:\n            return {\n                toComponent: function toComponent() {\n                    return generateTagsAsReactComponent(type, tags);\n                },\n                toString: function toString() {\n                    return generateTagsAsString(type, tags, encode);\n                }\n            };\n    }\n};\n\nvar mapStateOnServer = function mapStateOnServer(_ref) {\n    var baseTag = _ref.baseTag,\n        bodyAttributes = _ref.bodyAttributes,\n        encode = _ref.encode,\n        htmlAttributes = _ref.htmlAttributes,\n        linkTags = _ref.linkTags,\n        metaTags = _ref.metaTags,\n        noscriptTags = _ref.noscriptTags,\n        scriptTags = _ref.scriptTags,\n        styleTags = _ref.styleTags,\n        _ref$title = _ref.title,\n        title = _ref$title === undefined ? \"\" : _ref$title,\n        titleAttributes = _ref.titleAttributes;\n    return {\n        base: getMethodsForTag(TAG_NAMES.BASE, baseTag, encode),\n        bodyAttributes: getMethodsForTag(ATTRIBUTE_NAMES.BODY, bodyAttributes, encode),\n        htmlAttributes: getMethodsForTag(ATTRIBUTE_NAMES.HTML, htmlAttributes, encode),\n        link: getMethodsForTag(TAG_NAMES.LINK, linkTags, encode),\n        meta: getMethodsForTag(TAG_NAMES.META, metaTags, encode),\n        noscript: getMethodsForTag(TAG_NAMES.NOSCRIPT, noscriptTags, encode),\n        script: getMethodsForTag(TAG_NAMES.SCRIPT, scriptTags, encode),\n        style: getMethodsForTag(TAG_NAMES.STYLE, styleTags, encode),\n        title: getMethodsForTag(TAG_NAMES.TITLE, { title: title, titleAttributes: titleAttributes }, encode)\n    };\n};\n\nvar Helmet = function Helmet(Component) {\n    var _class, _temp;\n\n    return _temp = _class = function (_React$Component) {\n        inherits(HelmetWrapper, _React$Component);\n\n        function HelmetWrapper() {\n            classCallCheck(this, HelmetWrapper);\n            return possibleConstructorReturn(this, _React$Component.apply(this, arguments));\n        }\n\n        HelmetWrapper.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n            return !isEqual(this.props, nextProps);\n        };\n\n        HelmetWrapper.prototype.mapNestedChildrenToProps = function mapNestedChildrenToProps(child, nestedChildren) {\n            if (!nestedChildren) {\n                return null;\n            }\n\n            switch (child.type) {\n                case TAG_NAMES.SCRIPT:\n                case TAG_NAMES.NOSCRIPT:\n                    return {\n                        innerHTML: nestedChildren\n                    };\n\n                case TAG_NAMES.STYLE:\n                    return {\n                        cssText: nestedChildren\n                    };\n            }\n\n            throw new Error(\"<\" + child.type + \" /> elements are self-closing and can not contain children. Refer to our API for more information.\");\n        };\n\n        HelmetWrapper.prototype.flattenArrayTypeChildren = function flattenArrayTypeChildren(_ref) {\n            var _babelHelpers$extends;\n\n            var child = _ref.child,\n                arrayTypeChildren = _ref.arrayTypeChildren,\n                newChildProps = _ref.newChildProps,\n                nestedChildren = _ref.nestedChildren;\n\n            return _extends({}, arrayTypeChildren, (_babelHelpers$extends = {}, _babelHelpers$extends[child.type] = [].concat(arrayTypeChildren[child.type] || [], [_extends({}, newChildProps, this.mapNestedChildrenToProps(child, nestedChildren))]), _babelHelpers$extends));\n        };\n\n        HelmetWrapper.prototype.mapObjectTypeChildren = function mapObjectTypeChildren(_ref2) {\n            var _babelHelpers$extends2, _babelHelpers$extends3;\n\n            var child = _ref2.child,\n                newProps = _ref2.newProps,\n                newChildProps = _ref2.newChildProps,\n                nestedChildren = _ref2.nestedChildren;\n\n            switch (child.type) {\n                case TAG_NAMES.TITLE:\n                    return _extends({}, newProps, (_babelHelpers$extends2 = {}, _babelHelpers$extends2[child.type] = nestedChildren, _babelHelpers$extends2.titleAttributes = _extends({}, newChildProps), _babelHelpers$extends2));\n\n                case TAG_NAMES.BODY:\n                    return _extends({}, newProps, {\n                        bodyAttributes: _extends({}, newChildProps)\n                    });\n\n                case TAG_NAMES.HTML:\n                    return _extends({}, newProps, {\n                        htmlAttributes: _extends({}, newChildProps)\n                    });\n            }\n\n            return _extends({}, newProps, (_babelHelpers$extends3 = {}, _babelHelpers$extends3[child.type] = _extends({}, newChildProps), _babelHelpers$extends3));\n        };\n\n        HelmetWrapper.prototype.mapArrayTypeChildrenToProps = function mapArrayTypeChildrenToProps(arrayTypeChildren, newProps) {\n            var newFlattenedProps = _extends({}, newProps);\n\n            Object.keys(arrayTypeChildren).forEach(function (arrayChildName) {\n                var _babelHelpers$extends4;\n\n                newFlattenedProps = _extends({}, newFlattenedProps, (_babelHelpers$extends4 = {}, _babelHelpers$extends4[arrayChildName] = arrayTypeChildren[arrayChildName], _babelHelpers$extends4));\n            });\n\n            return newFlattenedProps;\n        };\n\n        HelmetWrapper.prototype.warnOnInvalidChildren = function warnOnInvalidChildren(child, nestedChildren) {\n            if (process.env.NODE_ENV !== \"production\") {\n                if (!VALID_TAG_NAMES.some(function (name) {\n                    return child.type === name;\n                })) {\n                    if (typeof child.type === \"function\") {\n                        return warn(\"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.\");\n                    }\n\n                    return warn(\"Only elements types \" + VALID_TAG_NAMES.join(\", \") + \" are allowed. Helmet does not support rendering <\" + child.type + \"> elements. Refer to our API for more information.\");\n                }\n\n                if (nestedChildren && typeof nestedChildren !== \"string\" && (!Array.isArray(nestedChildren) || nestedChildren.some(function (nestedChild) {\n                    return typeof nestedChild !== \"string\";\n                }))) {\n                    throw new Error(\"Helmet expects a string as a child of <\" + child.type + \">. Did you forget to wrap your children in braces? ( <\" + child.type + \">{``}</\" + child.type + \"> ) Refer to our API for more information.\");\n                }\n            }\n\n            return true;\n        };\n\n        HelmetWrapper.prototype.mapChildrenToProps = function mapChildrenToProps(children, newProps) {\n            var _this2 = this;\n\n            var arrayTypeChildren = {};\n\n            React.Children.forEach(children, function (child) {\n                if (!child || !child.props) {\n                    return;\n                }\n\n                var _child$props = child.props,\n                    nestedChildren = _child$props.children,\n                    childProps = objectWithoutProperties(_child$props, [\"children\"]);\n\n                var newChildProps = convertReactPropstoHtmlAttributes(childProps);\n\n                _this2.warnOnInvalidChildren(child, nestedChildren);\n\n                switch (child.type) {\n                    case TAG_NAMES.LINK:\n                    case TAG_NAMES.META:\n                    case TAG_NAMES.NOSCRIPT:\n                    case TAG_NAMES.SCRIPT:\n                    case TAG_NAMES.STYLE:\n                        arrayTypeChildren = _this2.flattenArrayTypeChildren({\n                            child: child,\n                            arrayTypeChildren: arrayTypeChildren,\n                            newChildProps: newChildProps,\n                            nestedChildren: nestedChildren\n                        });\n                        break;\n\n                    default:\n                        newProps = _this2.mapObjectTypeChildren({\n                            child: child,\n                            newProps: newProps,\n                            newChildProps: newChildProps,\n                            nestedChildren: nestedChildren\n                        });\n                        break;\n                }\n            });\n\n            newProps = this.mapArrayTypeChildrenToProps(arrayTypeChildren, newProps);\n            return newProps;\n        };\n\n        HelmetWrapper.prototype.render = function render() {\n            var _props = this.props,\n                children = _props.children,\n                props = objectWithoutProperties(_props, [\"children\"]);\n\n            var newProps = _extends({}, props);\n\n            if (children) {\n                newProps = this.mapChildrenToProps(children, newProps);\n            }\n\n            return React.createElement(Component, newProps);\n        };\n\n        createClass(HelmetWrapper, null, [{\n            key: \"canUseDOM\",\n\n\n            // Component.peek comes from react-side-effect:\n            // For testing, you may use a static peek() method available on the returned component.\n            // It lets you get the current state without resetting the mounted instance stack.\n            // Donâ€™t use it for anything other than testing.\n\n            /**\n             * @param {Object} base: {\"target\": \"_blank\", \"href\": \"http://mysite.com/\"}\n             * @param {Object} bodyAttributes: {\"className\": \"root\"}\n             * @param {String} defaultTitle: \"Default Title\"\n             * @param {Boolean} defer: true\n             * @param {Boolean} encodeSpecialCharacters: true\n             * @param {Object} htmlAttributes: {\"lang\": \"en\", \"amp\": undefined}\n             * @param {Array} link: [{\"rel\": \"canonical\", \"href\": \"http://mysite.com/example\"}]\n             * @param {Array} meta: [{\"name\": \"description\", \"content\": \"Test description\"}]\n             * @param {Array} noscript: [{\"innerHTML\": \"<img src='http://mysite.com/js/test.js'\"}]\n             * @param {Function} onChangeClientState: \"(newState) => console.log(newState)\"\n             * @param {Array} script: [{\"type\": \"text/javascript\", \"src\": \"http://mysite.com/js/test.js\"}]\n             * @param {Array} style: [{\"type\": \"text/css\", \"cssText\": \"div { display: block; color: blue; }\"}]\n             * @param {String} title: \"Title\"\n             * @param {Object} titleAttributes: {\"itemprop\": \"name\"}\n             * @param {String} titleTemplate: \"MySite.com - %s\"\n             */\n            set: function set$$1(canUseDOM) {\n                Component.canUseDOM = canUseDOM;\n            }\n        }]);\n        return HelmetWrapper;\n    }(React.Component), _class.propTypes = {\n        base: PropTypes.object,\n        bodyAttributes: PropTypes.object,\n        children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]),\n        defaultTitle: PropTypes.string,\n        defer: PropTypes.bool,\n        encodeSpecialCharacters: PropTypes.bool,\n        htmlAttributes: PropTypes.object,\n        link: PropTypes.arrayOf(PropTypes.object),\n        meta: PropTypes.arrayOf(PropTypes.object),\n        noscript: PropTypes.arrayOf(PropTypes.object),\n        onChangeClientState: PropTypes.func,\n        script: PropTypes.arrayOf(PropTypes.object),\n        style: PropTypes.arrayOf(PropTypes.object),\n        title: PropTypes.string,\n        titleAttributes: PropTypes.object,\n        titleTemplate: PropTypes.string\n    }, _class.defaultProps = {\n        defer: true,\n        encodeSpecialCharacters: true\n    }, _class.peek = Component.peek, _class.rewind = function () {\n        var mappedState = Component.rewind();\n        if (!mappedState) {\n            // provide fallback if mappedState is undefined\n            mappedState = mapStateOnServer({\n                baseTag: [],\n                bodyAttributes: {},\n                encodeSpecialCharacters: true,\n                htmlAttributes: {},\n                linkTags: [],\n                metaTags: [],\n                noscriptTags: [],\n                scriptTags: [],\n                styleTags: [],\n                title: \"\",\n                titleAttributes: {}\n            });\n        }\n\n        return mappedState;\n    }, _temp;\n};\n\nvar NullComponent = function NullComponent() {\n    return null;\n};\n\nvar HelmetSideEffects = withSideEffect(reducePropsToState, handleClientStateChange, mapStateOnServer)(NullComponent);\n\nvar HelmetExport = Helmet(HelmetSideEffects);\nHelmetExport.renderStatic = HelmetExport.rewind;\n\nexport default HelmetExport;\nexport { HelmetExport as Helmet };\n","import React, { useState, useMemo } from 'react';\nimport { Link } from 'react-router-dom';\nimport { ArrowUpDown } from 'lucide-react'; // For sort indicator\n\ninterface Player {\n  id: string;\n  player_id: string;\n  full_name: string;\n  first_name?: string;\n  last_name?: string;\n  position?: string;\n  number?: number | string | null;\n  headshot_url?: string;\n  is_active?: boolean;\n  team_id?: string | null;\n  team_name?: string | null;\n  stats_batting_hits?: number | null;\n  stats_batting_runs?: number | null;\n  stats_fielding_assists?: number | null;\n  impact_score?: number | null;\n}\n\ninterface TeamRosterProps {\n  players: Player[];\n  teamId: string;\n  // playerImpacts?: Record<string, number>; // Removed playerImpacts prop\n}\n\nexport default function TeamRoster({ players, teamId }: TeamRosterProps) {\n  const [sortConfig, setSortConfig] = useState<{ key: 'impact_score' | null; direction: 'asc' | 'desc' }>({ \n    key: 'impact_score', \n    direction: 'desc' \n  });\n\n  // Sort players based on sortConfig\n  const sortedPlayers = useMemo(() => {\n    if (!players) return [];\n    let sortablePlayers = [...players];\n    \n    if (sortConfig.key) {\n      sortablePlayers.sort((a, b) => {\n        // Handle null/undefined values\n        if (a[sortConfig.key!] === null || a[sortConfig.key!] === undefined) return 1;\n        if (b[sortConfig.key!] === null || b[sortConfig.key!] === undefined) return -1;\n        \n        if (a[sortConfig.key!] < b[sortConfig.key!]) {\n          return sortConfig.direction === 'asc' ? -1 : 1;\n        }\n        if (a[sortConfig.key!] > b[sortConfig.key!]) {\n          return sortConfig.direction === 'asc' ? 1 : -1;\n        }\n        return 0;\n      });\n    }\n    \n    return sortablePlayers;\n  }, [players, sortConfig]);\n\n  // Toggle sort direction when clicking on the Impact header\n  const requestSort = (key: 'impact_score') => {\n    let direction: 'asc' | 'desc' = 'desc';\n    if (sortConfig.key === key && sortConfig.direction === 'desc') {\n      direction = 'asc';\n    }\n    setSortConfig({ key, direction });\n  };\n\n  // Get color class based on impact score\n  const getImpactColor = (score: number | null | undefined) => {\n    if (score === null || score === undefined) return 'bg-gray-200';\n    if (score >= 80) return 'bg-green-500';\n    if (score >= 60) return 'bg-blue-500';\n    if (score >= 40) return 'bg-yellow-500';\n    return 'bg-red-500';\n  };\n\n  if (!players || players.length === 0) {\n    return <div className=\"px-4 py-8 text-center text-slate-500\">No players available for this team</div>;\n  }\n\n  return (\n    <div className=\"bg-white rounded-lg shadow-sm overflow-hidden\">\n      <div className=\"overflow-x-auto\">\n        <table className=\"w-full\">\n          <thead>\n            <tr className=\"bg-slate-100\">\n              <th \n                className=\"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider relative group cursor-help\"\n                title=\"Player\"\n              >\n                <span className=\"truncate inline-block max-w-[60px]\">Player</span>\n              </th>\n              <th \n                className=\"px-2 py-3 text-center text-xs font-medium text-slate-500 uppercase tracking-wider relative group\"\n                title=\"Jersey Number\"\n              >\n                <span className=\"truncate inline-block\">#</span>\n              </th>\n              <th \n                className=\"px-2 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider relative group\"\n                title=\"Position\"\n              >\n                <span className=\"truncate inline-block max-w-[60px]\">Pos</span>\n              </th>\n              <th \n                className=\"px-3 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider cursor-pointer hover:bg-slate-200 transition-colors relative group\"\n                onClick={() => requestSort('impact_score')}\n                title=\"Impact Score\"\n              >\n                <div className=\"flex items-center justify-end\">\n                  <span className=\"truncate inline-block\">Impact</span>\n                  <ArrowUpDown className=\"ml-1 h-3 w-3 flex-shrink-0\" />\n                  {sortConfig.key === 'impact_score' && (\n                    <span className=\"ml-0.5\">\n                      {sortConfig.direction === 'asc' ? 'â†‘' : 'â†“'}\n                    </span>\n                  )}\n                </div>\n              </th>\n              <th \n                className=\"px-3 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider relative group\"\n                title=\"Hits\"\n              >\n                <span className=\"truncate inline-block\">H</span>\n              </th>\n              <th \n                className=\"px-3 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider relative group\"\n                title=\"Runs\"\n              >\n                <span className=\"truncate inline-block\">R</span>\n              </th>\n              <th \n                className=\"px-3 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider relative group\"\n                title=\"Fielding Assists\"\n              >\n                <span className=\"truncate inline-block\">A</span>\n              </th>\n              <th className=\"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider\"></th>\n            </tr>\n          </thead>\n          <tbody className=\"divide-y divide-slate-200\">\n            {sortedPlayers.map((player, index) => (\n              <tr key={player.id} className={index % 2 === 0 ? 'bg-white' : 'bg-slate-50'}>\n                <td className=\"px-4 py-3 whitespace-nowrap\">\n                  <a href={`/teams/${teamId}/player-details/${player.player_id}`} className=\"hover:opacity-80 transition-opacity\">\n                    <div className=\"flex items-center\">\n                      <div className=\"h-10 w-10 flex-shrink-0 mr-3\">\n                        <img \n                          className=\"h-10 w-10 rounded-full object-cover\"\n                          src={player.headshot_url || '/placeholder-player.png'}\n                          alt={player.full_name}\n                          onError={(e) => {\n                            (e.target as HTMLImageElement).src = '/placeholder-player.png';\n                          }}\n                        />\n                      </div>\n                      <div>\n                        <div className=\"text-sm font-medium text-slate-900 hover:text-blue-600 transition-colors\">\n                          {player.full_name}\n                        </div>\n                      </div>\n                    </div>\n                  </a>\n                </td>\n                <td className=\"px-4 py-3 whitespace-nowrap text-sm text-slate-500\">\n                  {player.number || 'N/A'}\n                </td>\n                <td className=\"px-4 py-3 whitespace-nowrap text-sm text-slate-500\">\n                  {player.position || 'N/A'}\n                </td>\n                <td className=\"px-4 py-3 whitespace-nowrap\">\n                  {player.impact_score !== undefined && player.impact_score !== null ? (\n                    <div className=\"flex items-center\">\n                      <span className=\"mr-2 font-medium\">{player.impact_score}</span>\n                      <div className=\"relative w-16 h-2 bg-slate-200 rounded-full overflow-hidden\">\n                        <div \n                          className={`h-full ${getImpactColor(player.impact_score)}`}\n                          style={{ width: `${Math.min(100, Math.max(0, player.impact_score))}%` }}\n                        />\n                      </div>\n                    </div>\n                  ) : (\n                    <span className=\"text-slate-400\">â€”</span>\n                  )}\n                </td>\n                <td className=\"px-4 py-3 whitespace-nowrap text-right text-sm text-slate-500\">\n                  {player.stats_batting_hits !== undefined ? player.stats_batting_hits : 'N/A'}\n                </td>\n                <td className=\"px-4 py-3 whitespace-nowrap text-right text-sm text-slate-500\">\n                  {player.stats_batting_runs !== undefined ? player.stats_batting_runs : 'N/A'}\n                </td>\n                <td className=\"px-4 py-3 whitespace-nowrap text-right text-sm text-slate-500\">\n                  {player.stats_fielding_assists !== undefined ? player.stats_fielding_assists : 'N/A'}\n                </td>\n                <td className=\"px-4 py-3 whitespace-nowrap text-right text-sm font-medium\">\n                  <a href={`/teams/${teamId}/player-details/${player.player_id}`} className=\"text-blue-600 hover:text-blue-900\">\n                    View\n                  </a>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport { format } from 'date-fns';\nimport { Clock, Zap, Star, Calendar as CalendarIcon } from 'lucide-react';\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Team, Game } from \"@/types/dashboard\";\nimport { Link } from 'react-router-dom';\n\ninterface GameCardProps {\n  game: Game & {\n    astroEdge?: number;\n    astroInfluence?: string;\n    odds?: Array<{\n      market?: string;\n      outcome?: string;\n      price?: number;\n    }>;\n  };\n  homeTeam: Team;\n  awayTeam: Team;\n  defaultLogo: string;\n  className?: string;\n}\n\nexport const GameCard: React.FC<GameCardProps> = ({\n  game,\n  homeTeam,\n  awayTeam,\n  defaultLogo,\n  className = '',\n}) => {\n  // Debug: Log the actual date/time values passed to this card\n  console.log('GameCard game_date:', game.game_date, 'game_time_utc:', game.game_time_utc, 'full game:', game);\n\n  // Safely parse the date with validation\n  let gameDate: Date;\n  try {\n    // Use game_date as a full ISO string if present\n    if (game.game_date) {\n      gameDate = new Date(game.game_date);\n    } else if (game.game_time_utc) {\n      gameDate = new Date(game.game_time_utc);\n    } else if (game.updated_at) {\n      gameDate = new Date(game.updated_at);\n    } else {\n      gameDate = new Date();\n    }\n    // Final check if the date is valid\n    if (isNaN(gameDate.getTime())) {\n      console.warn('Invalid game date, using current date as fallback');\n      gameDate = new Date();\n    }\n  } catch (error) {\n    console.error('Error parsing game date:', error);\n    gameDate = new Date();\n  }\n  const isLive = game.status === 'in_progress' || game.status === 'in-progress';\n  const getTeamColor = (team: Team, defaultColor: string) => {\n    if (!team || typeof team === 'string') return defaultColor;\n    return 'primary_color' in team ? team.primary_color || defaultColor : defaultColor;\n  };\n\n  const homePrimaryColor = getTeamColor(homeTeam, '#6366f1');\n  const awayPrimaryColor = getTeamColor(awayTeam, '#8b5cf6');\n  \n  // Get team logo or fallback to default\n  const getTeamLogo = (team: Team) => {\n    if (!team) return defaultLogo;\n    if (typeof team === 'string') return defaultLogo;\n    if ('logo_url' in team && team.logo_url) return team.logo_url;\n    if ('logo' in team && team.logo) return team.logo;\n    return defaultLogo;\n  };\n\n  // Get team record string\n  const getTeamRecord = (team: Team): string => {\n    if (!team) return '';\n    if (typeof team === 'string') return '';\n    if ('record' in team && team.record) return team.record;\n    if ('wins' in team && 'losses' in team && team.wins !== undefined && team.losses !== undefined) {\n      return `${team.wins}-${team.losses}`;\n    }\n    return '';\n  };\n\n  // Format the game time with validation and timezone handling\n  const formatGameTime = (date: Date) => {\n    try {\n      // Validate date before formatting\n      if (isNaN(date.getTime())) {\n        return (\n          <div className=\"flex flex-col items-center\">\n            <div className=\"text-sm font-medium\">TBD</div>\n            <div className=\"text-xs text-muted-foreground\">--</div>\n          </div>\n        );\n      }\n      \n      // Create a date string in the user's local timezone\n      const localDate = new Date(date);\n      \n      // Format the time in 12-hour format with AM/PM\n      const timeString = localDate.toLocaleTimeString('en-US', {\n        hour: 'numeric',\n        minute: '2-digit',\n        hour12: true,\n        timeZone: Intl.DateTimeFormat().resolvedOptions().timeZone\n      });\n      \n      // Format the date as \"MMM d\" (e.g., \"May 28\")\n      const dateString = localDate.toLocaleDateString('en-US', {\n        month: 'short',\n        day: 'numeric',\n        timeZone: Intl.DateTimeFormat().resolvedOptions().timeZone\n      });\n      \n      return (\n        <div className=\"flex flex-col items-center\">\n          <div className=\"text-sm font-medium\">{timeString}</div>\n          <div className=\"text-xs text-muted-foreground\">{dateString}</div>\n        </div>\n      );\n    } catch (error) {\n      console.error('Error formatting game time:', error);\n      return (\n        <div className=\"flex flex-col items-center\">\n          <div className=\"text-sm font-medium\">TBD</div>\n          <div className=\"text-xs text-muted-foreground\">--</div>\n        </div>\n      );\n    }\n  };\n\n  return (\n    <Card className={`w-[252px] md:w-[336px] flex-shrink-0 bg-white border-0.5 border-gray-200 hover:shadow-md transition-shadow duration-300 overflow-hidden ${className}`}>\n      {/* Game Status Bar */}\n      <div \n        className={`h-1 w-full ${isLive ? 'bg-red-500' : 'bg-gradient-to-r from-blue-500 to-indigo-600'}`}\n      ></div>\n      \n      <CardContent className=\"p-4\">\n        {/* Game Date & Status */}\n        <div className=\"flex justify-between items-center mb-3\">\n          <div className=\"flex items-center space-x-1\">\n            <CalendarIcon className=\"h-3.5 w-3.5 text-gray-500\" />\n            <span className=\"text-xs text-gray-600\">\n              {isNaN(gameDate.getTime()) ? 'Date TBD' : format(gameDate, 'EEE, MMM d')}\n            </span>\n          </div>\n          {isLive ? (\n            <Badge variant=\"destructive\" className=\"h-5 text-[10px] px-1.5 animate-pulse\">\n              LIVE\n            </Badge>\n          ) : (\n            <span className=\"text-gray-700\">\n              {formatGameTime(gameDate)}\n            </span>\n          )}\n        </div>\n\n        {/* Teams */}\n        <div className=\"flex items-center justify-between\">\n          {/* Home Team */}\n          <Link \n            to={`/teams/${homeTeam.id}`}\n            className=\"flex flex-col items-center w-2/5 group/team\"\n            onClick={(e) => e.stopPropagation()}\n          >\n            <div className=\"relative\">\n              <div \n                className=\"absolute inset-0 rounded-full opacity-0 group-hover/team:opacity-100 transition-opacity duration-300\"\n                style={{\n                  background: `radial-gradient(circle at center, ${homePrimaryColor}15, transparent 70%)`,\n                }}\n              />\n              <img\n                src={getTeamLogo(homeTeam)}\n                alt={homeTeam.name}\n                className=\"relative z-10 w-16 h-16 object-contain transition-transform duration-300 group-hover/team:scale-110\"\n                onError={(e) => {\n                  const target = e.target as HTMLImageElement;\n                  target.src = defaultLogo;\n                }}\n              />\n            </div>\n            <span className=\"font-semibold text-center mt-1 text-sm text-gray-800 truncate w-full px-1 group-hover/team:text-blue-600 transition-colors\">\n              {typeof homeTeam === 'string' ? homeTeam : homeTeam.name}\n            </span>\n            {getTeamRecord(homeTeam) && (\n              <span className=\"text-xs text-gray-500 group-hover/team:text-blue-500 transition-colors\">\n                {getTeamRecord(homeTeam)}\n              </span>\n            )}\n          </Link>\n\n          {/* Game Info */}\n          <div className=\"flex flex-col items-center px-2\">\n            <div className=\"text-4xl font-black text-gray-800 mb-2\">\n              VS\n            </div>\n            {game.venue?.name && (\n              <div className=\"mt-2 text-xs text-center text-gray-500 max-w-[120px] truncate\">\n                {game.venue.name}\n              </div>\n            )}\n            \n            {/* Add vertical spacing */}\n            <div className=\"h-12\"></div>\n            \n            {game.astroInfluence && (\n              <div className=\"mt-2\">\n                <Badge \n                  variant=\"outline\" \n                  className=\"h-6 text-xs px-2 bg-purple-50 text-purple-700 border-purple-200 hover:bg-purple-100 whitespace-nowrap\"\n                >\n                  <Star className=\"w-3 h-3 mr-1 text-purple-500\" />\n                  {game.astroInfluence}\n                </Badge>\n              </div>\n            )}\n          </div>\n\n          {/* Away Team */}\n          <Link \n            to={`/teams/${typeof awayTeam === 'string' ? '' : awayTeam.id}`}\n            className=\"flex flex-col items-center w-2/5 group/team\"\n            onClick={(e) => e.stopPropagation()}\n          >\n            <div className=\"relative\">\n              <div \n                className=\"absolute inset-0 rounded-full opacity-0 group-hover/team:opacity-100 transition-opacity duration-300\"\n                style={{\n                  background: `radial-gradient(circle at center, ${awayPrimaryColor}15, transparent 70%)`,\n                }}\n              />\n              <img\n                src={getTeamLogo(awayTeam)}\n                alt={typeof awayTeam === 'string' ? awayTeam : awayTeam.name}\n                className=\"relative z-10 w-16 h-16 object-contain transition-transform duration-300 group-hover/team:scale-110\"\n                onError={(e) => {\n                  const target = e.target as HTMLImageElement;\n                  target.src = defaultLogo;\n                }}\n              />\n            </div>\n            <span className=\"font-semibold text-center mt-1 text-sm text-gray-800 truncate w-full px-1 group-hover/team:text-blue-600 transition-colors\">\n              {typeof awayTeam === 'string' ? awayTeam : awayTeam.name}\n            </span>\n            {getTeamRecord(awayTeam) && (\n              <span className=\"text-xs text-gray-500 group-hover/team:text-blue-500 transition-colors\">\n                {getTeamRecord(awayTeam)}\n              </span>\n            )}\n          </Link>\n        </div>\n\n        {/* Odds & Additional Info */}\n        {(game.odds && game.odds.length > 0 && game.odds[0]?.market) && (\n          <div className=\"mt-3 pt-2 border-t border-gray-100\">\n            <div className=\"flex items-center justify-center space-x-2\">\n              <Zap className=\"w-4 h-4 text-yellow-500\" />\n              <span className=\"text-sm font-medium text-gray-700\">\n                {game.odds[0].market}: {game.odds[0]?.outcome || ''} {game.odds[0]?.price ? (game.odds[0].price > 0 ? '+' : '') + game.odds[0].price : ''}\n              </span>\n              {game.astroEdge && (\n                <Badge variant=\"secondary\" className=\"h-6 text-xs px-2 bg-blue-50 text-blue-700 border-blue-200\">\n                  âš¡ {game.astroEdge.toFixed(1)}% Edge\n                </Badge>\n              )}\n            </div>\n          </div>\n        )}\n      </CardContent>\n    </Card>\n  );\n};\n\n// Carousel Component\ntype GameCarouselProps = {\n  games: Array<Game & {\n    home_team: Team;\n    away_team: Team;\n    astroEdge?: number;\n    astroInfluence?: string;\n  }>;\n  defaultLogo: string;\n  className?: string;\n};\n\nexport const GameCarousel: React.FC<GameCarouselProps> = ({ \n  games, \n  defaultLogo, \n  className = '' \n}) => {\n  const [currentIndex, setCurrentIndex] = React.useState(0);\n  const [touchStart, setTouchStart] = React.useState(0);\n  const [touchEnd, setTouchEnd] = React.useState(0);\n  const carouselRef = React.useRef<HTMLDivElement>(null);\n\n  // Number of cards to show based on screen size\n  const [cardsToShow, setCardsToShow] = React.useState(3);\n\n  React.useEffect(() => {\n    const updateCardsToShow = () => {\n      if (typeof window !== 'undefined') {\n        if (window.innerWidth < 640) {\n          setCardsToShow(1);\n        } else if (window.innerWidth < 1024) {\n          setCardsToShow(2);\n        } else {\n          setCardsToShow(3);\n        }\n      }\n    };\n\n    // Set initial value\n    updateCardsToShow();\n\n    // Add event listener\n    window.addEventListener('resize', updateCardsToShow);\n\n    // Clean up\n    return () => window.removeEventListener('resize', updateCardsToShow);\n  }, []);\n\n  const visibleGames = games.slice(currentIndex, currentIndex + cardsToShow);\n  const canGoNext = currentIndex < games.length - cardsToShow;\n  const canGoPrev = currentIndex > 0;\n\n  const next = () => {\n    if (canGoNext) {\n      setCurrentIndex(prev => Math.min(prev + 1, games.length - cardsToShow));\n    }\n  };\n\n  const prev = () => {\n    if (canGoPrev) {\n      setCurrentIndex(prev => Math.max(0, prev - 1));\n    }\n  };\n\n  const handleTouchStart = (e: React.TouchEvent) => {\n    setTouchStart(e.targetTouches[0].clientX);\n  };\n\n  const handleTouchMove = (e: React.TouchEvent) => {\n    setTouchEnd(e.targetTouches[0].clientX);\n  };\n\n  const handleTouchEnd = () => {\n    if (touchStart - touchEnd > 50) {\n      next();\n    }\n    if (touchStart - touchEnd < -50) {\n      prev();\n    }\n  };\n\n  if (games.length === 0) {\n    return (\n      <div className=\"text-center py-8 text-gray-500\">\n        No upcoming games scheduled\n      </div>\n    );\n  }\n\n\n  return (\n    <div className={`relative ${className}`}>\n      {/* Navigation Arrows */}\n      {games.length > cardsToShow && (\n        <>\n          <button\n            onClick={prev}\n            disabled={!canGoPrev}\n            className={`absolute left-0 top-1/2 -translate-y-1/2 -translate-x-4 z-10 w-8 h-8 rounded-full bg-white shadow-md flex items-center justify-center text-gray-700 hover:bg-gray-100 disabled:opacity-30 disabled:cursor-not-allowed transition-all`}\n            aria-label=\"Previous games\"\n          >\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n              <path d=\"m15 18-6-6 6-6\" />\n            </svg>\n          </button>\n          <button\n            onClick={next}\n            disabled={!canGoNext}\n            className={`absolute right-0 top-1/2 -translate-y-1/2 translate-x-4 z-10 w-8 h-8 rounded-full bg-white shadow-md flex items-center justify-center text-gray-700 hover:bg-gray-100 disabled:opacity-30 disabled:cursor-not-allowed transition-all`}\n            aria-label=\"Next games\"\n          >\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n              <path d=\"m9 18 6-6-6-6\" />\n            </svg>\n          </button>\n        </>\n      )}\n      \n      {/* Carousel Container */}\n      <div \n        ref={carouselRef}\n        className=\"relative w-full overflow-hidden\"\n        onTouchStart={handleTouchStart}\n        onTouchMove={handleTouchMove}\n        onTouchEnd={handleTouchEnd}\n      >\n        <div \n          className=\"flex transition-transform duration-300 ease-out\"\n          style={{\n            transform: `translateX(-${currentIndex * (100 / cardsToShow)}%)`,\n            width: `${(games.length / cardsToShow) * 100}%`\n          }}\n        >\n          {games.map((game) => (\n            <div \n              key={game.id} \n              className=\"flex-shrink-0\"\n              style={{ width: `${100 / cardsToShow}%` }}\n            >\n              <div className=\"px-2\">\n                <GameCard\n                  game={game}\n                  homeTeam={game.home_team}\n                  awayTeam={game.away_team}\n                  defaultLogo={defaultLogo}\n                  className=\"mx-auto\"\n                />\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n      \n      {/* Dots Indicator */}\n      {games.length > cardsToShow && (\n        <div className=\"flex justify-center mt-4 space-x-2\">\n          {Array.from({ length: Math.ceil(games.length / cardsToShow) }).map((_, index) => (\n            <button\n              key={index}\n              onClick={() => setCurrentIndex(index * cardsToShow)}\n              className={`w-2 h-2 rounded-full transition-all ${\n                index === Math.floor(currentIndex / cardsToShow) \n                  ? 'bg-blue-600 w-6' \n                  : 'bg-gray-300'\n              }`}\n              aria-label={`Go to slide ${index + 1}`}\n            />\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n","import { useState, useEffect } from 'react';\n\nexport const useWindowSize = () => {\n  const [windowSize, setWindowSize] = useState({\n    width: typeof window !== 'undefined' ? window.innerWidth : 0,\n    height: typeof window !== 'undefined' ? window.innerHeight : 0,\n  });\n\n  useEffect(() => {\n    const handleResize = () => {\n      setWindowSize({\n        width: window.innerWidth,\n        height: window.innerHeight,\n      });\n    };\n\n    window.addEventListener('resize', handleResize);\n    handleResize(); // Set initial size\n    \n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  return windowSize;\n};\n","import React, { useState, useRef, useEffect } from 'react';\nimport { Game, Team } from \"@/types/dashboard\";\nimport { GameCard } from './GameCard';\nimport { motion, PanInfo, useAnimation } from 'framer-motion';\nimport { useWindowSize } from '@/hooks/useWindowSize';\n\n// Carousel Component\ntype GameCarouselProps = {\n  games: Array<Game & {\n    astroEdge?: number;\n    astroInfluence?: string;\n    home_team: Team;\n    away_team: Team;\n  }>;\n  defaultLogo: string;\n  className?: string;\n};\n\nexport const GameCarousel: React.FC<GameCarouselProps> = ({ \n  games, \n  defaultLogo, \n  className = '' \n}) => {\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [isDragging, setIsDragging] = useState(false);\n  const carouselRef = useRef<HTMLDivElement>(null);\n  const controls = useAnimation();\n  const windowSize = useWindowSize();\n\n  // Calculate card width based on screen size\n  const getCardWidth = () => {\n    if (!windowSize.width) return 336; // Default width\n    if (windowSize.width < 640) return windowSize.width * 0.85; // Full width on mobile\n    if (windowSize.width < 1024) return windowSize.width * 0.5 - 32; // 2 cards on tablet\n    return 336; // 3 cards on desktop\n  };\n\n  const [cardWidth, setCardWidth] = useState(getCardWidth());\n  const gap = windowSize.width < 640 ? 16 : 32; // Smaller gap on mobile\n\n  // Update card width when window resizes\n  useEffect(() => {\n    setCardWidth(getCardWidth());\n  }, [windowSize.width]);\n\n  // Handle drag end with momentum\n  const handleDragEnd = (event: MouseEvent | TouchEvent | PointerEvent, info: PanInfo) => {\n    setIsDragging(false);\n    \n    // If we're not dragging enough, snap back to the current position\n    if (Math.abs(info.offset.x) < cardWidth * 0.2) {\n      controls.start({ x: -currentIndex * (cardWidth + gap), transition: { type: 'spring', bounce: 0.3 } });\n      return;\n    }\n\n    // Determine direction of swipe\n    const direction = info.offset.x < 0 ? 1 : -1;\n    let newIndex = currentIndex + direction;\n\n    // Ensure we don't go out of bounds\n    newIndex = Math.max(0, Math.min(newIndex, games.length - 1));\n\n    // Update current index and animate to the new position\n    setCurrentIndex(newIndex);\n    controls.start({ \n      x: -newIndex * (cardWidth + gap),\n      transition: { \n        type: 'spring',\n        damping: 30,\n        stiffness: 300,\n        mass: 0.5\n      } \n    });\n  };\n\n  // Handle touch start to improve responsiveness\n  const handleTouchStart = () => {\n    setIsDragging(true);\n  };\n\n  // Handle touch move to prevent page scroll when swiping\n  const handleTouchMove = (e: TouchEvent) => {\n    if (isDragging) {\n      e.preventDefault();\n    }\n  };\n\n  // Add/remove touch move event listener\n  useEffect(() => {\n    const carousel = carouselRef.current;\n    if (carousel) {\n      carousel.addEventListener('touchmove', handleTouchMove as EventListener, { passive: false });\n      return () => {\n        carousel.removeEventListener('touchmove', handleTouchMove as EventListener);\n      };\n    }\n  }, [isDragging]);\n\n  // Handle window resize\n  useEffect(() => {\n    controls.start({ x: -currentIndex * (cardWidth + gap) });\n  }, [cardWidth, gap, currentIndex, controls]);\n\n  if (games.length === 0) {\n    return (\n      <div className=\"text-center py-8 text-gray-500\">\n        No upcoming games scheduled\n      </div>\n    );\n  }\n\n  // Calculate the total width of the carousel content\n  const contentWidth = games.length * (cardWidth + gap) - gap;\n\n  return (\n    <div className={`relative w-full overflow-hidden ${className}`}>\n      <motion.div \n        ref={carouselRef}\n        className=\"w-full py-4 px-4\"\n        drag=\"x\"\n        dragConstraints={{\n          left: -contentWidth + cardWidth,\n          right: 0,\n        }}\n        onDragStart={handleTouchStart}\n        onDragEnd={handleDragEnd}\n        animate={controls}\n        dragElastic={0.1}\n        style={{\n          cursor: isDragging ? 'grabbing' : 'grab',\n        }}\n      >\n        <motion.div \n          className=\"flex\"\n          style={{\n            width: contentWidth,\n            gap: `${gap}px`,\n          }}\n        >\n          {games.map((game, index) => (\n            <motion.div \n              key={game.id} \n              className=\"flex-shrink-0\"\n              style={{\n                width: cardWidth,\n                scale: currentIndex === index ? 1 : 0.95,\n                opacity: currentIndex === index ? 1 : 0.8,\n                transition: 'all 0.3s ease',\n              }}\n              whileTap={{ scale: 0.98 }}\n            >\n              <GameCard\n                game={game}\n                homeTeam={game.home_team}\n                awayTeam={game.away_team}\n                defaultLogo={defaultLogo}\n                className=\"w-full h-full\"\n              />\n            </motion.div>\n          ))}\n        </motion.div>\n      </motion.div>\n\n      {/* Scroll indicators */}\n      {games.length > 1 && (\n        <div className=\"flex justify-center mt-4 space-x-2\">\n          {games.map((_, index) => (\n            <button\n              key={index}\n              onClick={() => {\n                setCurrentIndex(index);\n                controls.start({ \n                  x: -index * (cardWidth + gap),\n                  transition: { \n                    type: 'spring',\n                    damping: 30,\n                    stiffness: 300,\n                    mass: 0.5\n                  } \n                });\n              }}\n              className={`w-2 h-2 rounded-full transition-all ${\n                index === currentIndex \n                  ? 'bg-blue-600 w-6' \n                  : 'bg-gray-300 hover:bg-gray-400'\n              }`}\n              aria-label={`Go to slide ${index + 1}`}\n            />\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n","// Team colors utility\nexport const getTeamColorStyles = (team: any) => {\n  const primaryColor = team?.primary_color || '#1e40af';  // Default to a blue\n  const secondaryColor = team?.secondary_color || '#60a5fa';\n\n  return {\n    primary: primaryColor,\n    secondary: secondaryColor,\n    gradientBg: `linear-gradient(to bottom, ${primaryColor}10, #f8fafc)`,\n    highlight: `${primaryColor}33`, // 20% opacity version of primary color\n  };\n};\n","\"use client\";\n\n// src/progress.tsx\nimport * as React from \"react\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { jsx } from \"react/jsx-runtime\";\nvar PROGRESS_NAME = \"Progress\";\nvar DEFAULT_MAX = 100;\nvar [createProgressContext, createProgressScope] = createContextScope(PROGRESS_NAME);\nvar [ProgressProvider, useProgressContext] = createProgressContext(PROGRESS_NAME);\nvar Progress = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeProgress,\n      value: valueProp = null,\n      max: maxProp,\n      getValueLabel = defaultGetValueLabel,\n      ...progressProps\n    } = props;\n    if ((maxProp || maxProp === 0) && !isValidMaxNumber(maxProp)) {\n      console.error(getInvalidMaxError(`${maxProp}`, \"Progress\"));\n    }\n    const max = isValidMaxNumber(maxProp) ? maxProp : DEFAULT_MAX;\n    if (valueProp !== null && !isValidValueNumber(valueProp, max)) {\n      console.error(getInvalidValueError(`${valueProp}`, \"Progress\"));\n    }\n    const value = isValidValueNumber(valueProp, max) ? valueProp : null;\n    const valueLabel = isNumber(value) ? getValueLabel(value, max) : void 0;\n    return /* @__PURE__ */ jsx(ProgressProvider, { scope: __scopeProgress, value, max, children: /* @__PURE__ */ jsx(\n      Primitive.div,\n      {\n        \"aria-valuemax\": max,\n        \"aria-valuemin\": 0,\n        \"aria-valuenow\": isNumber(value) ? value : void 0,\n        \"aria-valuetext\": valueLabel,\n        role: \"progressbar\",\n        \"data-state\": getProgressState(value, max),\n        \"data-value\": value ?? void 0,\n        \"data-max\": max,\n        ...progressProps,\n        ref: forwardedRef\n      }\n    ) });\n  }\n);\nProgress.displayName = PROGRESS_NAME;\nvar INDICATOR_NAME = \"ProgressIndicator\";\nvar ProgressIndicator = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeProgress, ...indicatorProps } = props;\n    const context = useProgressContext(INDICATOR_NAME, __scopeProgress);\n    return /* @__PURE__ */ jsx(\n      Primitive.div,\n      {\n        \"data-state\": getProgressState(context.value, context.max),\n        \"data-value\": context.value ?? void 0,\n        \"data-max\": context.max,\n        ...indicatorProps,\n        ref: forwardedRef\n      }\n    );\n  }\n);\nProgressIndicator.displayName = INDICATOR_NAME;\nfunction defaultGetValueLabel(value, max) {\n  return `${Math.round(value / max * 100)}%`;\n}\nfunction getProgressState(value, maxValue) {\n  return value == null ? \"indeterminate\" : value === maxValue ? \"complete\" : \"loading\";\n}\nfunction isNumber(value) {\n  return typeof value === \"number\";\n}\nfunction isValidMaxNumber(max) {\n  return isNumber(max) && !isNaN(max) && max > 0;\n}\nfunction isValidValueNumber(value, max) {\n  return isNumber(value) && !isNaN(value) && value <= max && value >= 0;\n}\nfunction getInvalidMaxError(propValue, componentName) {\n  return `Invalid prop \\`max\\` of value \\`${propValue}\\` supplied to \\`${componentName}\\`. Only numbers greater than 0 are valid max values. Defaulting to \\`${DEFAULT_MAX}\\`.`;\n}\nfunction getInvalidValueError(propValue, componentName) {\n  return `Invalid prop \\`value\\` of value \\`${propValue}\\` supplied to \\`${componentName}\\`. The \\`value\\` prop must be:\n  - a positive number\n  - less than the value passed to \\`max\\` (or ${DEFAULT_MAX} if no \\`max\\` prop is set)\n  - \\`null\\` or \\`undefined\\` if the progress is indeterminate.\n\nDefaulting to \\`null\\`.`;\n}\nvar Root = Progress;\nvar Indicator = ProgressIndicator;\nexport {\n  Indicator,\n  Progress,\n  ProgressIndicator,\n  Root,\n  createProgressScope\n};\n//# sourceMappingURL=index.mjs.map\n","import * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"../../lib/utils\"\n\ninterface ProgressProps extends React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root> {\n  indicatorClassName?: string;\n}\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  ProgressProps\n>(({ className, value, indicatorClassName, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-4 w-full overflow-hidden rounded-full bg-secondary\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className={cn(\n        \"h-full w-full flex-1 bg-primary transition-all\",\n        indicatorClassName\n      )}\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n","import React, { useEffect, useRef } from 'react';\nimport { motion, useAnimation, useInView } from 'framer-motion';\nimport { Card, CardContent, CardHeader, CardTitle } from './ui/card';\nimport { Progress } from './ui/progress';\nimport { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger } from './ui/tooltip';\nimport { Info } from 'lucide-react';\nimport { getElementColor, getElementEmoji } from '../utils/zodiacUtils';\n\ninterface ElementalBalance {\n  fire: number;\n  earth: number;\n  air: number;\n  water: number;\n  balance: number;\n}\n\ninterface AspectHarmony {\n  harmonyScore: number;\n  challengeScore: number;\n  netHarmony: number;\n}\n\nexport interface TeamChemistryData {\n  score: number;\n  elements: ElementalBalance;\n  aspects?: AspectHarmony; // Made aspects optional\n  calculatedAt: string;\n}\n\ninterface TeamChemistryMeterProps {\n  chemistry: TeamChemistryData;\n  className?: string;\n}\n\nexport const TeamChemistryMeter: React.FC<TeamChemistryMeterProps> = ({ \n  chemistry, \n  className = '' \n}) => {\n  console.log('TeamChemistryMeter - Received chemistry prop:', chemistry);\n  \n  // Helper function to get the dominant element\n  const getDominantElement = () => {\n    const { fire, earth, air, water, ...rest } = chemistry.elements;\n    const elements = { fire, earth, air, water };\n    const [dominantElement] = Object.entries(elements).sort((a, b) => b[1] - a[1])[0];\n    return dominantElement as keyof typeof elements;\n  };\n\n  const dominantElement = getDominantElement();\n  const dominantElementName = {\n    fire: 'Fire',\n    earth: 'Earth',\n    air: 'Air',\n    water: 'Water'\n  }[dominantElement];\n\n  const elementColors = {\n    fire: 'bg-red-50 text-red-800 border-red-200',\n    earth: 'bg-amber-50 text-amber-800 border-amber-200',\n    air: 'bg-blue-50 text-blue-800 border-blue-200',\n    water: 'bg-blue-50 text-blue-800 border-blue-200'\n  };\n  // Helper function to get color based on score\n  const getScoreColor = (score: number) => {\n    if (score >= 75) return 'text-emerald-500';\n    if (score >= 50) return 'text-amber-500';\n    if (score >= 25) return 'text-orange-500';\n    return 'text-red-500';\n  };\n\n  // Helper function to get progress bar color\n  const getProgressColor = (score: number) => {\n    if (score >= 75) return 'bg-emerald-500';\n    if (score >= 50) return 'bg-amber-500';\n    if (score >= 25) return 'bg-orange-500';\n    return 'bg-red-500';\n  };\n\n  // Format date to readable string\n  const formattedDate = new Date(chemistry.calculatedAt).toLocaleString();\n\n  // Helper function to render element progress bar\n  const controls = useAnimation();\n  const ref = useRef<HTMLDivElement>(null);\n  const isInView = useInView(ref, { once: true, amount: 0.1 });\n\n  useEffect(() => {\n    if (isInView) {\n      // Animate all progress bars when component comes into view\n      controls.start({\n        opacity: 1,\n        width: '100%',\n        transition: { duration: 0.8, ease: 'easeOut' }\n      });\n    }\n  }, [isInView, chemistry, controls]);\n\n  const renderElementBar = (element: keyof ElementalBalance, label: string) => {\n    const value = chemistry.elements[element];\n    const emoji = getElementEmoji(element);\n    const color = getElementColor(element);\n    \n    // Get the color class based on the element\n    const colorClass = {\n      fire: 'bg-red-500',\n      earth: 'bg-amber-700',\n      air: 'bg-blue-400',\n      water: 'bg-blue-600'\n    }[element];\n    \n    return (\n      <div key={element} className=\"mb-3 sm:mb-4\">\n        <div className=\"flex items-center justify-between text-xs sm:text-sm text-slate-600 mb-1\">\n          <span className=\"font-medium flex items-center\">\n            <span className=\"mr-1 sm:mr-2\" role=\"img\" aria-label={element}>{emoji}</span>\n            <span className=\"whitespace-nowrap\">{label}</span>\n          </span>\n          <motion.span \n            className={`font-semibold text-xs sm:text-sm ${\n              element === dominantElement ? 'text-white bg-opacity-20 px-1.5 py-0.5 rounded' : ''\n            }`}\n            style={element === dominantElement ? { backgroundColor: getElementColor(element) } : {}}\n            initial={{ opacity: 0, y: 5 }}\n            animate={isInView ? { opacity: 1, y: 0 } : { opacity: 0, y: 5 }}\n            transition={{ delay: 0.3, duration: 0.8, ease: 'easeOut' }}\n          >\n            {Math.round(value)}%\n          </motion.span>\n        </div>\n        <div className=\"h-2 sm:h-2.5 bg-slate-100 rounded-full overflow-hidden\">\n          <motion.div \n            className={`h-full ${colorClass} rounded-full ${\n              element === dominantElement ? 'ring-2 ring-offset-1 ring-opacity-70 ring-white' : ''\n            }`}\n            initial={{ width: 0 }}\n            animate={isInView ? { width: `${value}%` } : { width: 0 }}\n            transition={{ duration: 1.5, ease: [0.16, 1, 0.3, 1], delay: 0.2 }}\n          />\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div className={className} ref={ref}>\n      <Card className=\"overflow-hidden border-2 border-slate-200 shadow-sm h-full flex flex-col\">\n        <CardHeader className=\"bg-gradient-to-r from-indigo-800 to-purple-800 text-white pb-4\">\n          <div className=\"flex flex-col md:flex-row md:justify-between md:items-center space-y-2 md:space-y-0\">\n            <CardTitle className=\"text-2xl font-bold flex items-center\">\n              <span className=\"bg-white/10 px-3 py-1 rounded-full text-sm font-semibold mr-3\">\n                Astro Chemistry\n              </span>\n              <TooltipProvider>\n                <Tooltip>\n                  <TooltipTrigger asChild>\n                    <Info className=\"h-4 w-4 cursor-help opacity-80 hover:opacity-100 transition-opacity\" />\n                  </TooltipTrigger>\n                  <TooltipContent className=\"max-w-xs bg-slate-800 text-white border-0\">\n                    <p>\n                      Astro Chemistry measures the astrological compatibility among players, \n                      weighted by their impact scores. Higher scores indicate better performance potential.\n                    </p>\n                  </TooltipContent>\n                </Tooltip>\n              </TooltipProvider>\n            </CardTitle>\n            <div className={`text-4xl font-bold ${getScoreColor(chemistry.score)} drop-shadow-md`}>\n              {Math.round(chemistry.score)}<span className=\"text-xl opacity-80\">/100</span>\n            </div>\n          </div>\n          <motion.div \n            className=\"mt-3\"\n            initial={{ opacity: 0, y: 15 }}\n            animate={isInView ? { opacity: 1, y: 0 } : { opacity: 0, y: 15 }}\n            transition={{ duration: 0.8, ease: [0.16, 1, 0.3, 1] }}\n          >\n            <motion.div \n              initial={{ opacity: 0, scaleX: 0.9 }}\n              animate={isInView ? { opacity: 1, scaleX: 1 } : { opacity: 0, scaleX: 0.9 }}\n              transition={{ \n                delay: 0.4, \n                duration: 1.2, \n                ease: [0.16, 1, 0.3, 1] \n              }}\n            >\n              <Progress \n                value={chemistry.score} \n                className=\"h-2.5 bg-white/20 overflow-hidden\"\n                indicatorClassName={`${getProgressColor(chemistry.score)} shadow-lg transition-all duration-1500 ease-[cubic-bezier(0.16,1,0.3,1)]`}\n              />\n            </motion.div>\n          </motion.div>\n        </CardHeader>\n        \n        <CardContent className=\"flex-1 p-6\">\n          {/* Team Elemental Balance Section */}\n          <div className=\"mb-6 sm:mb-8\">\n            <div className=\"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2 mb-3 sm:mb-4\">\n              <div className=\"flex items-center\">\n                <h3 className=\"text-base sm:text-lg font-semibold text-slate-800 flex items-center\">\n                  Team Elemental Balance\n                  <TooltipProvider>\n                    <Tooltip>\n                      <TooltipTrigger asChild>\n                        <Info className=\"h-3.5 w-3.5 sm:h-4 sm:w-4 ml-1.5 sm:ml-2 cursor-help text-slate-400 hover:text-slate-600\" />\n                      </TooltipTrigger>\n                      <TooltipContent className=\"max-w-xs bg-slate-800 text-white border-0 text-sm\">\n                        <p>\n                          Shows the distribution of astrological elements in the team.\n                          A balanced team (about 25% each) scores higher.\n                        </p>\n                      </TooltipContent>\n                    </Tooltip>\n                  </TooltipProvider>\n                </h3>\n              </div>\n              <div className={`text-sm font-medium px-3 py-1 rounded-md inline-flex items-center border ${elementColors[dominantElement]}`}>\n                <span className=\"font-semibold\">\n                  {dominantElementName} Dominant\n                </span>\n              </div>\n            </div>\n            \n            {/* Element Progress Bars */}\n            <div className=\"grid grid-cols-2 gap-4 sm:gap-6\">\n              {renderElementBar('fire', 'Fire')}\n              {renderElementBar('earth', 'Earth')}\n              {renderElementBar('air', 'Air')}\n              {renderElementBar('water', 'Water')}\n            </div>\n          </div>\n          \n          {/* Aspect Harmony Section - Conditionally render if aspects data is available */}\n          {chemistry.aspects && (\n            <div className=\"mb-6\">\n              <div className=\"flex items-center mb-3 sm:mb-4\">\n                <h3 className=\"text-base sm:text-lg font-semibold text-slate-800 flex items-center\">\n                  Astrological Aspects\n                <TooltipProvider>\n                  <Tooltip>\n                    <TooltipTrigger asChild>\n                      <Info className=\"h-3.5 w-3.5 sm:h-4 sm:w-4 ml-1.5 sm:ml-2 cursor-help text-slate-400 hover:text-slate-600\" />\n                    </TooltipTrigger>\n                    <TooltipContent className=\"max-w-xs bg-slate-800 text-white border-0 text-sm\">\n                      <p>\n                        Measures the astrological aspects between players.\n                        Higher harmony scores indicate better compatibility.\n                      </p>\n                    </TooltipContent>\n                  </Tooltip>\n                </TooltipProvider>\n              </h3>\n            </div>\n            \n            <div className=\"grid grid-cols-2 gap-3 sm:gap-4\">\n              <div className=\"bg-slate-50 p-3 sm:p-4 rounded-lg border border-slate-100\">\n                <div className=\"text-xs sm:text-sm font-medium text-slate-500 mb-1\">Harmony</div>\n                <div className=\"text-xl sm:text-2xl font-bold text-emerald-600\">\n                  {Math.round(chemistry.aspects.harmonyScore)}%\n                </div>\n                <div className=\"h-1.5 bg-slate-100 rounded-full mt-2 overflow-hidden\">\n                  <motion.div \n                    className=\"h-full bg-emerald-500 rounded-full\"\n                    initial={{ width: 0 }}\n                    animate={isInView ? { width: `${chemistry.aspects.harmonyScore}%` } : { width: 0 }}\n                    transition={{ duration: 1.8, ease: [0.16, 1, 0.3, 1], delay: 0.4 }}\n                  />\n                </div>\n              </div>\n              \n              <div className=\"bg-slate-50 p-3 sm:p-4 rounded-lg border border-slate-100\">\n                <div className=\"text-xs sm:text-sm font-medium text-slate-500 mb-1\">Challenges</div>\n                <div className=\"text-xl sm:text-2xl font-bold text-amber-600\">\n                  {Math.round(chemistry.aspects.challengeScore)}%\n                </div>\n                <div className=\"h-1.5 bg-slate-100 rounded-full mt-2 overflow-hidden\">\n                  <motion.div \n                    className=\"h-full bg-amber-500 rounded-full\"\n                    initial={{ width: 0 }}\n                    animate={isInView ? { width: `${chemistry.aspects.challengeScore}%` } : { width: 0 }}\n                    transition={{ duration: 1.8, ease: [0.16, 1, 0.3, 1], delay: 0.6 }}\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n          )} {/* End of conditional rendering for aspects section */}\n          \n          {/* Last Updated */}\n          <motion.div \n            className=\"text-xs text-slate-400 text-right mt-auto pt-4 border-t border-slate-100\"\n            initial={{ opacity: 0, y: 10 }}\n            animate={isInView ? { opacity: 1, y: 0 } : { opacity: 0, y: 10 }}\n            transition={{ delay: 0.8, duration: 0.8, ease: [0.16, 1, 0.3, 1] }}\n          >\n            Last updated: {formattedDate}\n          </motion.div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n};\n\nexport default TeamChemistryMeter;\n","// Utility to calculate a player's impact score based on stats\nexport interface ImpactScorePlayer {\n  stats_batting_hits?: number | null;\n  stats_batting_runs?: number | null;\n  stats_fielding_assists?: number | null;\n}\n\nexport function calculateImpactScore(player: ImpactScorePlayer | null | undefined): number {\n  if (!player) return 0;\n  let score = 0;\n  // Batting stats\n  if (player.stats_batting_hits) score += player.stats_batting_hits * 0.5;\n  if (player.stats_batting_runs) score += player.stats_batting_runs * 0.75;\n  // Fielding stats\n  if (player.stats_fielding_assists) score += player.stats_fielding_assists * 0.3;\n  // Normalize score to 0-100 range\n  score = Math.min(100, Math.max(0, score));\n  return Math.round(score);\n}\n","import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate, Link } from 'react-router-dom';\nimport { supabase } from '@/lib/supabase';\nimport TeamShareButton from '@/components/teams/TeamShareButton';\nimport { Helmet } from 'react-helmet';\n\nconst UUID_REGEX = /^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/;\nconst isUUID = (id: string | undefined): boolean => {\n  if (!id) return false;\n  return UUID_REGEX.test(id);\n};\n\n// Debug log for environment variables\nconsole.log('VITE_SUPABASE_URL:', import.meta.env.VITE_SUPABASE_URL);\nconsole.log('VITE_SUPABASE_KEY:', import.meta.env.VITE_SUPABASE_KEY ? '***' : 'missing');\nconsole.log('Supabase client:', supabase);\n\n// Type for chemistry data from the database\ninterface TeamChemistryDB {\n  id: string;\n  team_id: string | number;\n  team_name?: string;\n  team_abbreviation?: string;\n  score: number;\n  elements: Record<string, any> | string;\n  aspects?: any;\n  last_updated?: string;\n  calculated_at?: string;\n}\n\n// Function to fetch team chemistry data\nconst fetchTeamChemistry = async (teamId: string): Promise<TeamChemistryData | null> => {\n  try {\n    // Add authentication state logging\n    const { data: { session } } = await supabase.auth.getSession();\n    console.log('[fetchTeamChemistry] Authentication state:', \n      session?.user?.email ? `Authenticated as ${session.user.email}` : 'Not authenticated');\n    \n    console.log('[fetchTeamChemistry] Fetching chemistry for team ID:', teamId);\n    \n    // Unified approach for all leagues - use team_chemistry table\n    const { data, error } = await supabase\n      .from('team_chemistry')\n      .select('*')\n      .eq('team_id', teamId)\n      .maybeSingle<TeamChemistryDB>();\n\n    if (data && !error) {\n      console.log('[fetchTeamChemistry] Found chemistry data in team_chemistry table');\n      \n      // Parse elements from JSON if it's a string\n      let elements: Record<string, any> = {};\n      try {\n        const elementsData = typeof data.elements === 'string' \n          ? JSON.parse(data.elements)\n          : data.elements || {};\n        \n        // Ensure we have all required fields with defaults\n        elements = {\n          fire: typeof elementsData.fire === 'number' ? elementsData.fire : 25,\n          earth: typeof elementsData.earth === 'number' ? elementsData.earth : 25,\n          air: typeof elementsData.air === 'number' ? elementsData.air : 25,\n          water: typeof elementsData.water === 'number' ? elementsData.water : 25,\n          balance: typeof elementsData.balance === 'number' ? elementsData.balance : 50,\n          ...elementsData // Spread any additional properties\n        };\n      } catch (e) {\n        console.error('[fetchTeamChemistry] Error parsing elements JSON:', e);\n        elements = {\n          fire: 25,\n          earth: 25,\n          air: 25,\n          water: 25,\n          balance: 50\n        };\n      }\n      \n      return {\n        score: data.score || 50,\n        elements: {\n          fire: elements.fire || 25,\n          earth: elements.earth || 25,\n          air: elements.air || 25,\n          water: elements.water || 25,\n          balance: elements.balance || 50\n        },\n        aspects: {\n          harmonyScore: 50,\n          challengeScore: 20,\n          netHarmony: 50\n        },\n        calculatedAt: data.last_updated || new Date().toISOString()\n      };\n    }\n\n    if (error) {\n      console.error('[fetchTeamChemistry] Team chemistry query error:', {\n        message: error.message,\n        code: error.code,\n        details: error.details,\n        hint: error.hint\n      });\n    }\n\n    // Special handling only for NBA teams\n    if (teamId && isUUID(teamId)) {\n      console.log('[fetchTeamChemistry] Using NBA-specific fallback');\n      // First try to get from nba_teams\n      const { data: nbaTeamData, error: nbaTeamError } = await supabase\n        .from('nba_teams')\n        .select('chemistry_score, elemental_balance, last_astro_update')\n        .eq('id', teamId)\n        .single();\n\n      if (!nbaTeamError && nbaTeamData) {\n        console.log('[fetchTeamChemistry] Found chemistry data in nba_teams');\n        const elementalBalance = typeof nbaTeamData.elemental_balance === 'string' \n          ? JSON.parse(nbaTeamData.elemental_balance) \n          : nbaTeamData.elemental_balance;\n        \n        return {\n          score: nbaTeamData.chemistry_score || 50,\n          elements: {\n            fire: elementalBalance?.fire || 25,\n            earth: elementalBalance?.earth || 25,\n            air: elementalBalance?.air || 25,\n            water: elementalBalance?.water || 25,\n            balance: elementalBalance?.balance || 50\n          },\n          aspects: {\n            harmonyScore: 50,\n            challengeScore: 20,\n            netHarmony: 50\n          },\n          calculatedAt: nbaTeamData.last_astro_update || new Date().toISOString()\n        };\n      }\n    }\n\n    console.log('[fetchTeamChemistry] No chemistry data found');\n    return null;\n  } catch (error) {\n    console.error('[fetchTeamChemistry] Unhandled error:', error);\n    return null;\n  }\n};\nimport { motion } from 'framer-motion';\nimport { Badge } from '../components/ui/badge';\nimport { Button } from '../components/ui/button';\nimport { Alert, AlertDescription, AlertTitle } from '../components/ui/alert';\nimport { AlertCircle, ChevronLeft, Calendar as CalendarIcon, Check, Info, MapPin as MapPinIcon, PlusSquare, ShieldCheck, Sparkles, Star, TrendingUp, Trophy, Users, Zap } from 'lucide-react';\nimport PlayerCardNew from '@/components/PlayerCardNew';\nimport { toast } from '../components/ui/use-toast';\nimport TeamRoster from '../components/TeamRoster';\nimport { GameCarousel } from '../components/games/GameCarousel';\nimport { getTeamColorStyles } from '@/utils/teamColors';\nimport { Card, CardContent } from '../components/ui/card';\nimport { Skeleton } from '../components/ui/skeleton';\nimport { TeamChemistryMeter } from '@/components/TeamChemistryMeter';\nimport { calculateImpactScore } from '../utils/calculateImpactScore';\n\n// Type for ElementalBalance to match TeamChemistryData\ninterface ElementalBalance {\n  fire: number;\n  earth: number;\n  air: number;\n  water: number;\n  balance: number;\n}\n\n// Type definitions for the component\ninterface Team {\n  id: string;\n  name: string;\n  logo_url: string;\n  city: string;\n  venue?: string;\n  conference?: string;\n  division?: string;\n  abbreviation: string;\n  primary_color: string;\n  secondary_color: string;\n  league_id: string;\n  external_id?: string | number;\n  intFormedYear?: string | number;\n  strStadium?: string;\n  strDescriptionEN?: string;\n  slug?: string;\n  league?: {\n    id: string;\n    name: string;\n    sport?: string;\n  };\n  [key: string]: any; // For any additional properties\n}\n\ninterface TeamData {\n  id: string;\n  name: string;\n  abbreviation: string;\n  // Add other team properties as needed\n  venue?: { name?: string | null; city?: string | null } | null;\n  primary_color?: string | null;\n  secondary_color?: string | null;\n  conference?: string | null;\n  division?: string | null;\n  // For NBA specific data if fetched into this structure initially\n  chemistry_score?: number | null;\n  elemental_balance?: any | null; // Changed Json to any\n  last_astro_update?: string | null;\n}\n\n// Specific type for the elemental_balance data structure from the DB\ninterface ElementalBalanceFromDB {\n  fire?: number;\n  earth?: number;\n  air?: number;\n  water?: number;\n  balance?: number;\n  synergyBonus?: number;\n  diversityBonus?: number;\n}\n\ninterface Player {\n  id: string;\n  player_id: string; // Store the original player_id\n  full_name: string;\n  first_name?: string;\n  last_name?: string;\n  headshot_url?: string;\n  position?: string;\n  number?: number | string | null;\n  team_id?: string | null;\n  team_name?: string | null;\n  birth_date?: string | null;\n  is_active?: boolean;\n  player_current_team_abbreviation?: string;\n  stats_batting_hits?: number | null;\n  stats_batting_runs?: number | null;\n  stats_fielding_assists?: number | null;\n  impact_score?: number | null; // Added impact_score\n  astro_influence?: number | null; // Added astro_influence\n  [key: string]: any; // For any additional properties\n} \n\n// Helper type for team data in games\ninterface GameTeam {\n  id: string;\n  name: string;\n  abbreviation: string;\n  logo_url?: string;\n  city: string;\n  [key: string]: any; // For any additional properties\n}\n\n// Type for the game data from the API\ninterface GameData {\n  id: string | number;\n  game_date?: string | null;\n  game_time_utc?: string | null;\n  status?: string | null;\n  home_team_id?: string | number | null;\n  away_team_id?: string | number | null;\n  home_score?: number | null;\n  away_score?: number | null;\n  external_id?: string | number | null;\n  created_at?: string | null;\n  updated_at?: string | null;\n  home_team?: Team | null;\n  away_team?: Team | null;\n  league_id?: string | number | null;\n  venue_id?: string | number | null;\n  venue?: {\n    name?: string | null;\n    city?: string | null;\n  } | null;\n  astroInfluence?: string | null;\n  astroEdge?: number | null;\n  home_odds?: number | null;\n  away_odds?: number | null;\n  spread?: number | null;\n  over_under?: number | null;\n  season?: number | null;\n  week?: number | null;\n  name?: string | null;\n  city?: string | null;\n}\n\n// Base Game interface with all possible fields\ninterface GameBase {\n  id: string | number;\n  game_date: string;\n  game_time_utc: string;\n  status: string;\n  home_team_id: string | number;\n  away_team_id: string | number;\n  home_score: number | null;\n  away_score: number | null;\n  home_team: Team | null;\n  away_team: Team | null;\n  league_id: string | number;\n  venue_id?: string | number | null;\n  external_id?: string | number | null;\n  created_at?: string | null;\n  updated_at?: string | null;\n  home_odds?: number | null;\n  away_odds?: number | null;\n  spread?: number | null;\n  over_under?: number | null;\n  season?: number | null;\n  week?: number | null;\n  astroInfluence?: string;\n  astroEdge?: number;\n  venue?: {\n    name?: string | null;\n    city?: string | null;\n  } | null;\n  name?: string | null;\n  city?: string | null;\n}\n\n// Type for the processed game with required fields\ntype Game = Omit<GameBase, 'id' | 'home_team_id' | 'away_team_id' | 'league_id'> & {\n  id: string;\n  home_team_id: string;\n  away_team_id: string;\n  league_id: string;\n  home_team: Team;\n  away_team: Team;\n  home_odds: number | null;\n  away_odds: number | null;\n  spread: number | null;\n  over_under: number | null;\n  astroInfluence: string;\n  astroEdge: number;\n  venue: {\n    name: string | null;\n    city: string | null;\n  } | null;\n};\n\n// Type for games with non-null teams for the GameCarousel\ntype GameWithTeams = Game;\n\n// Define the interfaces for team chemistry data\ninterface ElementalBalance {\n  fire: number;\n  earth: number;\n  air: number;\n  water: number;\n  balance: number;\n}\n\ninterface AspectHarmony {\n  harmonyScore: number;\n  challengeScore: number;\n  netHarmony: number;\n}\n\ninterface TeamChemistryData {\n  score: number;\n  elements: ElementalBalance;\n  aspects?: AspectHarmony;\n  calculatedAt: string;\n}\n\nconst TeamPage = () => {\n  // Get parameters from URL - handle both teamId, id, and identifier for compatibility\n  const params = useParams<{ teamId?: string; id?: string; slug?: string; identifier?: string }>();\n  \n  // The identifier could be either a teamId (UUID) or a slug\n  const identifier = params.identifier || params.teamId || params.id;\n  \n  // Determine if the identifier is a UUID, numeric ID, or slug\n  const isUuidIdentifier = isUUID(identifier);\n  const isNumIdentifier = !isUuidIdentifier && identifier ? /^\\d+$/.test(identifier) : false;\n  \n  // If it's not a UUID or numeric ID, treat it as a slug\n  const teamId = isUuidIdentifier || isNumIdentifier ? identifier : null;\n  const teamSlug = !isUuidIdentifier && !isNumIdentifier ? identifier : params.slug;\n  \n  // Debug logs to track data flow\n  console.log('[TeamPage] Team ID from URL:', teamId);\n  console.log('[TeamPage] Team Slug from URL:', teamSlug);\n  if (!teamId && !teamSlug) {\n    console.error('[TeamPage] No team ID or slug found in URL parameters');\n  }\n  const navigate = useNavigate();\n\n  const [team, setTeam] = useState<Team | null>(null);\n  const [players, setPlayers] = useState<Player[]>([]);\n  const [topPlayers, setTopPlayers] = useState<Player[]>([]);\n  const [chemistry, setChemistry] = useState<TeamChemistryData | null>(null);\n  const [chemistryLoading, setChemistryLoading] = useState<boolean>(true);\n  \n  // Type for games with non-null teams for the GameCarousel\n  type GameWithTeams = Game & { home_team: Team; away_team: Team };\n  \n  const [upcomingGames, setUpcomingGames] = useState<Game[]>([]);\n  const [loading, setLoading] = useState<boolean>(true);\n  const [error, setError] = useState<string | null>(null);\n  \n  useEffect(() => {\n    if (!teamId && !teamSlug) {\n      setError('No team ID or slug provided');\n      setLoading(false);\n      return;\n    }\n\n    const fetchTeamData = async (): Promise<void> => {\n      try {\n        setLoading(true);\n\n        // --- NBA TEAM LOGIC ---\n        // Try to fetch from nba_teams first\n        console.log('[TeamPage] Fetching NBA team data for ID:', teamId);\n        const isNum = teamId ? /^\\d+$/.test(teamId) : false;\n\n        let nbaTeamQuery = supabase.from('nba_teams').select('*');\n        if (isUUID(teamId)) {\n          nbaTeamQuery = nbaTeamQuery.eq('id', teamId);\n        } else if (isNum) {\n          // Ensure we're using string comparison for external_team_id\n          nbaTeamQuery = nbaTeamQuery.eq('external_team_id', teamId);\n        } else {\n          // Assuming non-UUID, non-numeric teamId is an abbreviation\n          nbaTeamQuery = nbaTeamQuery.eq('abbreviation', teamId!.toUpperCase());\n        }\n        const { data: nbaTeam, error: nbaTeamError } = await nbaTeamQuery.single();\n        console.log('[TeamPage] NBA team query result:', { nbaTeam, nbaTeamError });\n\n        if (nbaTeam) {\n          console.log('[TeamPage] Found NBA team:', nbaTeam.name);\n          // Map NBA team data to our Team interface with safe property access\n          setTeam({\n            id: nbaTeam.id?.toString() ?? '',\n            name: nbaTeam.name ?? '',\n            logo_url: nbaTeam.logo_url ?? '/placeholder-team.png',\n            city: nbaTeam.city ?? '',\n            // Use optional chaining and provide fallbacks for potentially undefined properties\n            venue: 'str_stadium' in nbaTeam ? (nbaTeam as any).str_stadium ?? '' : '',\n            conference: nbaTeam.conference ?? '',\n            division: nbaTeam.division ?? '',\n            abbreviation: nbaTeam.abbreviation ?? '',\n            primary_color: 'primary_color' in nbaTeam ? (nbaTeam as any).primary_color ?? '#17408B' : '#17408B',\n            secondary_color: 'secondary_color' in nbaTeam ? (nbaTeam as any).secondary_color ?? '#C9082A' : '#C9082A',\n            league_id: 'nba',\n            external_id: nbaTeam.external_team_id ?? nbaTeam.id,\n            intFormedYear: 'int_formed_year' in nbaTeam ? (nbaTeam as any).int_formed_year ?? '' : '',\n            strStadium: 'str_stadium' in nbaTeam ? (nbaTeam as any).str_stadium ?? '' : '',\n            strDescriptionEN: 'str_description_en' in nbaTeam ? (nbaTeam as any).str_description_en ?? '' : '',\n            sport: 'Basketball',\n            league: { id: 'nba', name: 'NBA', sport: 'Basketball' },\n          });\n\n          // Fetch NBA players for this team, including their scores directly\n          console.log('[TeamPage] Fetching players for team:', nbaTeam.external_team_id);\n          const { data: nbaPlayersData, error: nbaPlayersError } = await supabase\n            .from('nba_players')\n            .select('*, impact_score, astro_influence') // Assuming impact_score and astro_influence columns now exist here\n            .eq('team_id', nbaTeam.external_team_id);\n          \n          console.log('[TeamPage] Players query result:', { playerCount: nbaPlayersData?.length, error: nbaPlayersError });\n\n          if (nbaPlayersError) {\n            setError(nbaPlayersError.message);\n            setLoading(false);\n            return;\n          }\n\n          // Map NBA player fields to generic Player fields\n          const mappedPlayers = nbaPlayersData.map((p: any) => ({\n            id: p.id,\n            player_id: p.external_player_id, // Ensure this is the correct ID for linking if needed elsewhere\n            full_name: `${p.first_name || ''} ${p.last_name || ''}`.trim(),\n            first_name: p.first_name,\n            last_name: p.last_name,\n            headshot_url: p.photo_url,\n            position: p.primary_position,\n            number: p.jersey_number,\n            team_id: p.team_id,\n            team_name: nbaTeam.name,\n            birth_date: p.birth_date,\n            is_active: p.active,\n            impact_score: p.impact_score ?? null, // Directly from nba_players table\n            astro_influence: p.astro_influence ?? null, // Directly from nba_players table\n          }));\n          \n          // Fetch chemistry data for the NBA team only\n          if (nbaTeam.id) {\n            const chemistryData = await fetchTeamChemistry(nbaTeam.id.toString());\n            if (chemistryData) {\n              console.log('[TeamPage] Setting chemistry data (NBA):', chemistryData);\n              setChemistry(chemistryData);\n            } else {\n              console.log('[TeamPage] Using default chemistry data (NBA)');\n              setChemistry({\n                score: 50,\n                elements: { fire: 25, earth: 25, air: 25, water: 25, balance: 50 },\n                aspects: { harmonyScore: 50, challengeScore: 20, netHarmony: 50 },\n                calculatedAt: new Date().toISOString()\n              });\n            }\n          } else {\n            console.warn('[TeamPage] NBA team id is missing, skipping chemistry fetch.');\n            setChemistry({\n              score: 50,\n              elements: { fire: 25, earth: 25, air: 25, water: 25, balance: 50 },\n              aspects: { harmonyScore: 50, challengeScore: 20, netHarmony: 50 },\n              calculatedAt: new Date().toISOString()\n            });\n          }\n\n          // Sort players by impact score (descending) and then by last name (ascending)\n          const sortedPlayers = [...mappedPlayers].sort((a, b) => {\n            const scoreA = a.impact_score ? parseFloat(String(a.impact_score)) : 0;\n            const scoreB = b.impact_score ? parseFloat(String(b.impact_score)) : 0;\n            \n            // Sort by impact score in descending order\n            if (scoreA > scoreB) return -1;\n            if (scoreA < scoreB) return 1;\n            \n            // If scores are equal, sort by last name\n            return (a.last_name || '').localeCompare(b.last_name || '');\n          });\n\n          setPlayers(sortedPlayers);\n          setTopPlayers(sortedPlayers.slice(0, 4));\n          setLoading(false);\n          return;\n        }\n        // --- END NBA TEAM LOGIC ---\n\n        // Fallback: Fetch team from regular teams table (MLB/other)\n        let fallbackTeamQuery = supabase.from('teams').select(`*,\n            league:league_id(*)\n          `);\n        \n        // If we have a slug parameter, use that first\n        if (teamSlug) {\n          console.log('[TeamPage] Fetching team by slug:', teamSlug);\n          \n          // First try exact match on slug - use single() to ensure we get exactly one row\n          // This will throw an error if there are multiple matches or no matches\n          try {\n            const { data: exactMatch, error: exactError } = await supabase\n              .from('teams')\n              .select(`*, league:league_id(*)`)\n              .eq('slug', teamSlug)\n              .single();\n              \n            if (exactMatch && !exactError) {\n              setTeam(exactMatch);\n              \n              // Fetch chemistry data for MLB/other leagues\n              if (exactMatch.id) {\n                try {\n                  const chemistryData = await fetchTeamChemistry(exactMatch.id);\n                  if (chemistryData) {\n                    setChemistry(chemistryData);\n                  }\n                } catch (chemError) {\n                  console.error('[TeamPage] Error fetching chemistry data:', chemError);\n                } finally {\n                  setChemistryLoading(false);\n                }\n              }\n              \n              // Fetch upcoming games\n              fetchUpcomingGames(exactMatch.id);\n              \n              // Set loading to false and return early\n              setLoading(false);\n              return;\n            } else {\n              console.log('[TeamPage] No exact slug match found, continuing with fallback approaches');\n              console.log('[TeamPage] Exact match error:', exactError);\n            }\n          } catch (singleError) {\n            console.error('[TeamPage] Error with single() query:', singleError);\n          }\n          \n          // If we get here, the single() query failed, so fall back to the regular query\n          fallbackTeamQuery = fallbackTeamQuery.eq('slug', teamSlug);\n          \n          // Log the query for debugging\n          console.log('[TeamPage] Falling back to regular query with slug:', fallbackTeamQuery);\n        } else if (teamId && isUUID(teamId)) {\n          fallbackTeamQuery = fallbackTeamQuery.eq('id', teamId);\n        } else if (teamId && /^\\d+$/.test(teamId)) {\n          fallbackTeamQuery = fallbackTeamQuery.eq('external_id', parseInt(teamId, 10));\n        } else if (teamId && typeof teamId === 'string') {\n          // Assuming non-UUID, non-numeric teamId is an abbreviation\n          fallbackTeamQuery = fallbackTeamQuery.eq('abbreviation', teamId.toUpperCase());\n        }\n        \n        // First, get all matching rows to check if we have multiple matches\n        let { data: allMatches, error: countError } = await fallbackTeamQuery;\n        \n        if (countError) {\n          console.error('[TeamPage] Error checking team count:', countError);\n          setError(countError.message);\n          setLoading(false);\n          return;\n        }\n        \n        console.log(`[TeamPage] Found ${allMatches?.length || 0} matching teams`);\n        \n        // If no matches found with slug, try a more flexible approach\n        if (teamSlug && (!allMatches || allMatches.length === 0)) {\n          console.log('[TeamPage] No exact slug match found, trying case-insensitive search');\n          \n          // Try a case-insensitive search or partial match\n          const { data: fuzzyMatches, error: fuzzyError } = await supabase\n            .from('teams')\n            .select(`*, league:league_id(*)`)\n            .ilike('slug', `%${teamSlug}%`);\n            \n          if (fuzzyError) {\n            console.error('[TeamPage] Error with fuzzy search:', fuzzyError);\n          }\n          \n          console.log(`[TeamPage] Found ${fuzzyMatches?.length || 0} fuzzy matches`);\n          \n          if (fuzzyMatches && fuzzyMatches.length > 0) {\n            // Use the fuzzy matches instead\n            console.log('[TeamPage] Using fuzzy matches:', fuzzyMatches);\n            allMatches = fuzzyMatches;\n          } else {\n            // Try searching by team name as last resort\n            console.log('[TeamPage] Trying to match by team name');\n            const { data: nameMatches, error: nameError } = await supabase\n              .from('teams')\n              .select(`*, league:league_id(*)`)\n              .ilike('name', `%${teamSlug.replace(/-/g, ' ')}%`);\n              \n            if (nameError) {\n              console.error('[TeamPage] Error with name search:', nameError);\n            }\n            \n            console.log(`[TeamPage] Found ${nameMatches?.length || 0} name matches`);\n            \n            if (nameMatches && nameMatches.length > 0) {\n              allMatches = nameMatches;\n            }\n          }\n        }\n        \n        if (!allMatches || allMatches.length === 0) {\n          console.error(`[TeamPage] Team not found with identifier: ${teamSlug || teamId}`);\n          setError(`Team not found: ${teamSlug || teamId}`);\n          setLoading(false);\n          return;\n        }\n        \n        if (allMatches.length > 1) {\n          console.warn('[TeamPage] Multiple teams found with the same identifier:', \n            allMatches.map(t => {\n              // Use type assertion to access slug property\n              const team = t as any;\n              return `${team.name} (${team.id}, slug: ${team.slug || 'undefined'})`;\n            }))\n          // Continue with the first match\n          console.log('[TeamPage] Using first match:', allMatches[0]);\n        }\n        \n        const teamData = allMatches[0];\n        \n        if (!teamData) {\n          console.error('[TeamPage] No team data found');\n          setError('Team not found');\n          setLoading(false);\n          return;\n        }\n\n        console.log('[TeamPage] Fallback team data:', teamData);\n        console.log('Fetched team data:', teamData);\n        setTeam(teamData);\n\n        // Fetch chemistry data for MLB/other leagues using the main fetchTeamChemistry function\n        if (teamData && teamData.id) {\n          try {\n            console.log('[TeamPage] Fetching chemistry data for team ID:', teamData.id);\n            const chemistryData = await fetchTeamChemistry(teamData.id);\n            \n            if (chemistryData) {\n              console.log('[TeamPage] Setting chemistry data (MLB/Other):', chemistryData);\n              setChemistry(chemistryData);\n            } else {\n              console.log('[TeamPage] Using default chemistry data (MLB/Other)');\n              setChemistry({\n                score: 50,\n                elements: { fire: 25, earth: 25, air: 25, water: 25, balance: 50 },\n                aspects: { harmonyScore: 50, challengeScore: 20, netHarmony: 50 },\n                calculatedAt: new Date().toISOString()\n              });\n            }\n          } catch (chemError) {\n            console.error('[TeamPage] Error fetching chemistry data (MLB/Other):', chemError);\n            setChemistry({\n              score: 50,\n              elements: { fire: 25, earth: 25, air: 25, water: 25, balance: 50 },\n              calculatedAt: new Date().toISOString()\n            });\n          }\n        } else {\n          console.warn('[TeamPage] Fallback team id is missing, skipping chemistry fetch.');\n          setChemistry({\n            score: 50,\n            elements: { fire: 25, earth: 25, air: 25, water: 25, balance: 50 },\n            aspects: { harmonyScore: 50, challengeScore: 20, netHarmony: 50 },\n            calculatedAt: new Date().toISOString()\n          });\n        }\n        \n        // Fetch players from Supabase by matching team's external_id with baseball_players.team_id\n        console.log('Fetching players for team:', teamData.name, 'abbreviation:', teamData.abbreviation);\n        \n        // Initialize player variables\n        let playersData: any[] = [];\n        let playersError: any = null;\n        \n        try {\n          // Query all baseball players and filter by team abbreviation client-side\n          // This avoids potential issues with Supabase filter formatting\n          const { data, error } = await supabase\n            .from('baseball_players')\n            .select<'*', Player>('*'); // Specify Player type for select\n          const allPlayers: Player[] = data || [];\n          \n          if (error) {\n            console.error('Error fetching players:', error.message);\n            playersError = error;\n          } else if (!allPlayers || allPlayers.length === 0) {\n            console.log('No players found in database');\n          } else {\n            // Special case for Athletics (OAK/ATH)\n            const isAthletics = teamData.abbreviation.toUpperCase() === 'OAK';\n            const abbreviation = teamData.abbreviation.toUpperCase();\n            \n            // Filter players client-side where either abbreviation field matches\n            const playersForTeam = allPlayers.filter(player => {\n              // Safely access fields that might not exist\n              const currentTeamAbbr = player.player_current_team_abbreviation as string | null;\n              const teamAbbr = (player as any).team_abbreviation as string | null;\n              \n              // For Athletics, check both OAK and ATH abbreviations\n              if (isAthletics) {\n                return (currentTeamAbbr && (currentTeamAbbr.toUpperCase() === 'OAK' || currentTeamAbbr.toUpperCase() === 'ATH')) || \n                       (teamAbbr && (teamAbbr.toUpperCase() === 'OAK' || teamAbbr.toUpperCase() === 'ATH'));\n              }\n              \n              // For other teams, match the exact abbreviation\n              return (currentTeamAbbr && currentTeamAbbr.toUpperCase() === abbreviation) || \n                     (teamAbbr && teamAbbr.toUpperCase() === abbreviation);\n            });\n            \n            // Sort players by hits (descending) and then by last name (ascending)\n            playersData = playersForTeam.sort((a, b) => {\n              // Convert hits to numbers, defaulting to 0 if not available\n              const hitsA = Number(a.stats_batting_hits) || 0;\n              const hitsB = Number(b.stats_batting_hits) || 0;\n              \n              // Sort by hits in descending order\n              if (hitsA > hitsB) return -1;\n              if (hitsA < hitsB) return 1;\n              \n              // If hits are equal, sort by last name\n              return ((a.last_name || '') as string).localeCompare((b.last_name || '') as string);\n            });\n            \n            console.log('Players found for team:', teamData.abbreviation, ':', playersData.length);\n            \n            if (playersData.length > 0) {\n              // Log first few player names for debugging\n              playersData.slice(0, 3).forEach(player => {\n                console.log('Player:', player.full_name, \n                          'Current Team Abbr:', player.player_current_team_abbreviation,\n                          'Team Abbr:', (player as any).team_abbreviation);\n              });\n            }\n          }\n        } catch (error) {\n          console.error('Exception while fetching players:', error);\n          playersError = { message: String(error) };\n        }\n\n        console.log('Players found for team:', teamData.name, '(abbreviation:', teamData.abbreviation, '):', playersData?.length || 0);\n        \n        // If still no results, log a warning\n        if (!playersData || playersData.length === 0) {\n          console.warn('No players found for team after all search methods');\n          playersData = [];\n          playersError = null;\n        }\n        \n        console.log('Final players data count:', playersData?.length || 0);\n\n        if (playersError) {\n          console.error('Error fetching players from Supabase:', playersError);\n          toast({\n            title: \"Error fetching players\",\n            description: playersError.message,\n            variant: \"destructive\",\n          });\n          setPlayers([]); // Clear players on error\n          setTopPlayers([]); // Clear top players on error\n        } else if (playersData && playersData.length > 0) {\n          console.log('Processing player data:', playersData[0]);\n          const typedPlayers = playersData.map((p: any) => {\n            // Calculate impact score if not provided\n            const calculatedImpactScore = p.impact_score !== undefined && p.impact_score !== null \n              ? p.impact_score \n              : calculateImpactScore({\n                  stats_batting_hits: p.stats_batting_hits,\n                  stats_batting_runs: p.stats_batting_runs,\n                  stats_fielding_assists: p.stats_fielding_assists\n                });\n\n            const player: Player = {\n              id: String(p.player_id || p.id || ''),\n              player_id: String(p.player_id || ''),\n              full_name: p.player_full_name || `${p.player_first_name || ''} ${p.player_last_name || ''}`.trim() || `Player ID: ${p.player_id || p.id || 'Unknown'}`,\n              first_name: p.player_first_name || '',\n              last_name: p.player_last_name || '',\n              headshot_url: p.player_official_image_src || p.headshot_url || '/placeholder-player.png',\n              position: p.player_primary_position || p.position || 'Unknown',\n              number: p.player_jersey_number || p.number || 0,\n              team_id: p.team_id ? String(p.team_id) : null,\n              birth_date: p.player_birth_date || p.birth_date || null,\n              is_active: p.player_current_roster_status !== 'Inactive',\n              player_current_team_abbreviation: p.player_current_team_abbreviation || p.team_abbreviation || null,\n              // Add optional properties if they exist\n              ...(p.team_name && { team_name: p.team_name }),\n              ...(p.team_abbreviation && { team_abbreviation: p.team_abbreviation }),\n              ...(p.stats_batting_hits !== undefined && { stats_batting_hits: p.stats_batting_hits }),\n              ...(p.stats_batting_runs !== undefined && { stats_batting_runs: p.stats_batting_runs }),\n              ...(p.stats_fielding_assists !== undefined && { stats_fielding_assists: p.stats_fielding_assists }),\n              ...(p.impact_score !== undefined && { impact_score: p.impact_score }),\n              ...(p.astro_influence_score !== undefined && { astro_influence: p.astro_influence_score }), // Add astro influence from database\n              impact_score: calculatedImpactScore\n            };\n            \n            // Handle number conversion safely\n            if (p.number !== undefined && p.number !== null) {\n              const parsedNum = typeof p.number === 'string' \n                ? parseInt(p.number, 10) \n                : Number(p.number);\n              if (!isNaN(parsedNum)) {\n                player.number = parsedNum;\n              }\n            } else if (p.player_jersey_number !== undefined && p.player_jersey_number !== null) {\n              const parsedNum = typeof p.player_jersey_number === 'string'\n                ? parseInt(p.player_jersey_number, 10)\n                : Number(p.player_jersey_number);\n              if (!isNaN(parsedNum)) {\n                player.number = parsedNum;\n              }\n            }\n            \n            return player;\n          });\n          \n          console.log('Mapped players:', typedPlayers.length);\n          \n          // Update database with calculated impact scores for players that don't have them\n          const updatePromises = typedPlayers.map(async (player, index) => {\n            const originalPlayer = playersData[index];\n            if (player.impact_score !== undefined && player.impact_score !== null && \n                (originalPlayer.impact_score === undefined || originalPlayer.impact_score === null || player.impact_score !== originalPlayer.impact_score)) {\n              try {\n                const { error } = await supabase\n                  .from('baseball_players')\n                  .update({ impact_score: player.impact_score })\n                  .eq('id', player.id);\n                \n                if (error) {\n                  console.error(`Error updating impact score for player ${player.full_name}:`, error);\n                } else {\n                  console.log(`Updated impact score for ${player.full_name}: ${player.impact_score}`);\n                }\n              } catch (err) {\n                console.error(`Exception updating impact score for player ${player.full_name}:`, err);\n              }\n            }\n          });\n          \n          // Wait for all updates to complete\n          await Promise.all(updatePromises);\n          \n          setPlayers(typedPlayers);\n          \n          // Determine top players by position\n          const sortedPlayers = [...typedPlayers].sort((a, b) => {\n            const getPosValue = (pos?: string) => {\n              if (!pos) return 0;\n              const posLower = pos.toLowerCase();\n              // Baseball positions prioritization (using primary_position)\n              if (posLower.includes('pitcher') || posLower === 'p') return 10;\n              if (posLower.includes('catcher') || posLower === 'c') return 9;\n              if (posLower.includes('shortstop') || posLower === 'ss') return 8;\n              if (posLower.includes('first') || posLower === '1b') return 7;\n              if (posLower.includes('second') || posLower === '2b') return 6;\n              if (posLower.includes('third') || posLower === '3b') return 5;\n              if (posLower.includes('outfield') || posLower.includes('of')) return 4;\n              return 3; // Default for other positions\n            };\n            return getPosValue(b.primary_position) - getPosValue(a.primary_position);\n          });\n          // Show top 4 players instead of 3\n          setTopPlayers(sortedPlayers.slice(0, 4));\n          \n          // Fetch team chemistry data\n          try {\n            // First try to get chemistry data using the unified fetchTeamChemistry function\n            console.log('[TeamPage] Fetching chemistry data for team ID:', teamData.id);\n            const chemistry = await fetchTeamChemistry(teamData.id);\n            \n            if (chemistry) {\n              console.log('[TeamPage] Setting chemistry data (from fetchTeamChemistry):', chemistry);\n              setChemistry(chemistry);\n            } else {\n              // Fallback to direct query if fetchTeamChemistry returns null\n              console.log('[TeamPage] No chemistry data from fetchTeamChemistry, trying direct query...');\n              \n              const { data: chemistryData, error: chemistryError } = await supabase\n                .from('team_chemistry')\n                .select('*')\n                .or(`team_id.eq.${teamData.id}${teamData.external_id ? `,team_id.eq.${teamData.external_id}` : ''}`)\n                .maybeSingle();\n\n              console.log('[TeamPage] Direct chemistry data query result:', { chemistryData, chemistryError });\n\n              if (chemistryData) {\n                console.log('[TeamPage] Found chemistry data in direct query, score:', chemistryData.score);\n                \n                // Parse elements if it's a string\n                let parsedElements: ElementalBalance = {\n                  fire: 25,\n                  earth: 25,\n                  air: 25,\n                  water: 25,\n                  balance: 50\n                };\n                \n                if (chemistryData.elements) {\n                  try {\n                    const elements = typeof chemistryData.elements === 'string' \n                      ? JSON.parse(chemistryData.elements)\n                      : chemistryData.elements;\n                    \n                    parsedElements = {\n                      fire: elements.fire || 25,\n                      earth: elements.earth || 25,\n                      air: elements.air || 25,\n                      water: elements.water || 25,\n                      balance: elements.balance || 50\n                    };\n                  } catch (e) {\n                    console.error('[TeamPage] Error parsing elements:', e);\n                  }\n                }\n\n                const chemistry: TeamChemistryData = {\n                  score: chemistryData.score || 50,\n                  elements: parsedElements,\n                  calculatedAt: chemistryData.calculated_at || chemistryData.last_updated || new Date().toISOString()\n                };\n                \n                console.log('[TeamPage] Setting chemistry data from direct query:', chemistry);\n                setChemistry(chemistry);\n              } else {\n                console.log('[TeamPage] No chemistry data found, using defaults');\n                setChemistry({\n                  score: 50,\n                  elements: { fire: 25, earth: 25, air: 25, water: 25, balance: 50 },\n                  calculatedAt: new Date().toISOString()\n                });\n              }\n            }\n          } catch (error) {\n            console.error('[TeamPage] Error fetching chemistry data:', error);\n            setChemistry({\n              score: 50,\n              elements: { fire: 25, earth: 25, air: 25, water: 25, balance: 50 },\n              calculatedAt: new Date().toISOString()\n            });\n          } finally {\n            setChemistryLoading(false);\n          }\n        } else {\n          // No players found or playersData is null\n          setPlayers([]);\n          setTopPlayers([]);\n          setChemistry({\n            score: 50,\n            elements: { fire: 25, earth: 25, air: 25, water: 25, balance: 50 },\n            aspects: { harmonyScore: 50, challengeScore: 20, netHarmony: 50 },\n            calculatedAt: new Date().toISOString()\n          });\n          setChemistryLoading(false);\n        }\n\n        // Fetch upcoming games with proper type handling\n        const { data: gamesData, error: gamesError } = await supabase\n          .from('games')\n          .select(`\n            id,\n            game_date,\n            game_time_utc,\n            status,\n            home_team_id,\n            away_team_id,\n            home_score,\n            away_score,\n            home_team:home_team_id(id, name, abbreviation, logo_url, city),\n            away_team:away_team_id(id, name, abbreviation, logo_url, city)\n          `)\n          .or(`home_team_id.eq.${teamId},away_team_id.eq.${teamId}`)\n          .gte('game_time_utc', new Date().toISOString())\n          .order('game_time_utc', { ascending: true })\n          .limit(6);\n\n        if (gamesError) {\n          console.error('Error fetching games:', gamesError);\n          toast({\n            title: 'Error loading games',\n            description: gamesError.message,\n            variant: 'destructive',\n          });\n        } else if (gamesData) {\n          console.log('Fetched upcoming games:', gamesData);\n          \n          // Process games data to ensure it matches the Game type\n          // Filter out error responses and ensure we have valid game data\n          const processedGames = gamesData\n            .filter((item): item is GameData => {\n              // Check if this is a valid game object with required properties\n              return typeof item === 'object' && \n                item !== null && \n                'id' in item && \n                !('error' in item);\n            })\n            .map((gameData: GameData): Game => {\n            // Safely extract home team data\n            const homeTeam: Team | null = gameData.home_team && \n              typeof gameData.home_team === 'object' && \n              !('error' in gameData.home_team)\n                ? {\n                    id: String(gameData.home_team.id || ''),\n                    name: String(gameData.home_team.name || 'Unknown Team'),\n                    abbreviation: String(gameData.home_team.abbreviation || 'TBD'),\n                    city: String(gameData.home_team.city || 'Unknown'),\n                    logo_url: gameData.home_team.logo_url,\n                    primary_color: gameData.home_team.primary_color || '#000000',\n                    secondary_color: gameData.home_team.secondary_color || '#FFFFFF',\n                    league_id: String(gameData.home_team.league_id || gameData.league_id || 'unknown'),\n                    external_id: String(gameData.home_team.external_id || gameData.home_team.id || '')\n                  }\n                : null;\n            \n            // Safely extract away team data\n            const awayTeam: Team | null = gameData.away_team && \n              typeof gameData.away_team === 'object' && \n              !('error' in gameData.away_team)\n                ? {\n                    id: String(gameData.away_team.id || ''),\n                    name: String(gameData.away_team.name || 'Unknown Team'),\n                    abbreviation: String(gameData.away_team.abbreviation || 'TBD'),\n                    city: String(gameData.away_team.city || 'Unknown'),\n                    logo_url: gameData.away_team.logo_url,\n                    primary_color: gameData.away_team.primary_color || '#000000',\n                    secondary_color: gameData.away_team.secondary_color || '#FFFFFF',\n                    league_id: String(gameData.away_team.league_id || gameData.league_id || 'unknown'),\n                    external_id: String(gameData.away_team.external_id || gameData.away_team.id || '')\n                  }\n                : null;\n            \n            // Create the processed game object with all required fields\n            const game: Game = {\n              id: String(gameData.id || ''),\n              game_date: String(gameData.game_date || ''),\n              game_time_utc: String(gameData.game_time_utc || ''),\n              status: String(gameData.status || 'Scheduled'),\n              home_team_id: String(gameData.home_team_id || ''),\n              away_team_id: String(gameData.away_team_id || ''),\n              home_score: typeof gameData.home_score === 'number' ? gameData.home_score : null,\n              away_score: typeof gameData.away_score === 'number' ? gameData.away_score : null,\n              home_team: homeTeam,\n              away_team: awayTeam,\n              league_id: gameData.league_id ? String(gameData.league_id) : 'unknown',\n              venue_id: gameData.venue_id ? String(gameData.venue_id) : 'unknown',\n              // Include any additional properties with proper type handling\n              ...Object.fromEntries(\n                Object.entries(gameData)\n                  .filter(([key]) => ![\n                    'id', 'game_date', 'game_time_utc', 'status', 'home_team_id', \n                    'away_team_id', 'home_score', 'away_score', 'home_team', 'away_team',\n                    'league_id', 'venue_id'\n                  ].includes(key))\n                  .map(([key, value]) => [key, value])\n              )\n            };\n            \n            return game;\n          });\n          \n          setUpcomingGames(processedGames);\n        }\n      } catch (err: any) {\n        console.error('Error in team page:', err);\n        setError(err.message || 'An unexpected error occurred');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchTeamData();\n  }, [teamId]);\n\n  // Zodiac sign calculation utility\n  function getZodiacSign(dateString?: string): string {\n    if (!dateString) return '';\n    const date = new Date(dateString);\n    const day = date.getUTCDate();\n    const month = date.getUTCMonth() + 1;\n    if ((month === 1 && day >= 20) || (month === 2 && day <= 18)) return 'Aquarius';\n    if ((month === 2 && day >= 19) || (month === 3 && day <= 20)) return 'Pisces';\n    if ((month === 3 && day >= 21) || (month === 4 && day <= 19)) return 'Aries';\n    if ((month === 4 && day >= 20) || (month === 5 && day <= 20)) return 'Taurus';\n    if ((month === 5 && day >= 21) || (month === 6 && day <= 20)) return 'Gemini';\n    if ((month === 6 && day >= 21) || (month === 7 && day <= 22)) return 'Cancer';\n    if ((month === 7 && day >= 23) || (month === 8 && day <= 22)) return 'Leo';\n    if ((month === 8 && day >= 23) || (month === 9 && day <= 22)) return 'Virgo';\n    if ((month === 9 && day >= 23) || (month === 10 && day <= 22)) return 'Libra';\n    if ((month === 10 && day >= 23) || (month === 11 && day <= 21)) return 'Scorpio';\n    if ((month === 11 && day >= 22) || (month === 12 && day <= 21)) return 'Sagittarius';\n    return 'Capricorn';\n  }\n\n  // Function to fetch upcoming games for a team\n  const fetchUpcomingGames = async (teamId: string) => {\n    try {\n      // First, get the basic game data\n      const { data: games, error } = await supabase\n        .from('games')\n        .select('*')\n        .or(`home_team_id.eq.${teamId},away_team_id.eq.${teamId}`)\n        .gte('game_date', new Date().toISOString())\n        .order('game_date', { ascending: true })\n        .limit(5);\n\n      if (error) throw error;\n      \n      if (!games || games.length === 0) return;\n\n      // Then, get the team data for the home and away teams\n      const teamIds = new Set<string>();\n      games.forEach(game => {\n        if (game.home_team_id) teamIds.add(game.home_team_id);\n        if (game.away_team_id) teamIds.add(game.away_team_id);\n      });\n\n      const { data: teams, error: teamError } = await supabase\n        .from('teams')\n        .select('*')\n        .in('id', Array.from(teamIds));\n\n      if (teamError) throw teamError;\n\n      const teamMap = new Map(teams?.map(team => [team.id, team]) || []);\n\n      // Format the games with team data\n      const formattedGames = games.map(game => {\n        const homeTeam = teamMap.get(game.home_team_id) || null;\n        const awayTeam = teamMap.get(game.away_team_id) || null;\n        \n        return {\n          ...game,\n          id: game.id.toString(),\n          home_team_id: game.home_team_id?.toString() || '',\n          away_team_id: game.away_team_id?.toString() || '',\n          league_id: game.league_id?.toString() || '',\n          venue_id: game.venue_id?.toString() || '',\n          home_team: homeTeam,\n          away_team: awayTeam,\n          venue: game.venue_id ? {\n            id: game.venue_id.toString(),\n            name: null,\n            city: null\n          } : null\n        };\n      });\n      \n      setUpcomingGames(formattedGames as unknown as Game[]);\n    } catch (error) {\n      console.error('Error fetching upcoming games:', error);\n    }\n  };\n\n  // Function to generate Open Graph meta tags\n  const renderMetaTags = () => {\n    if (!team) return null;\n    \n    try {\n      // Use the team's abbreviation for a clean URL\n      const teamAbbr = (team.abbreviation || team.id || '').toLowerCase();\n      const teamPageUrl = `${window.location.origin}/teams/${teamAbbr}`;\n      \n      const astroScore = team.astro_score || 0;\n      const teamName = team.name || 'Team';\n      const title = `${teamName} | Astro Score: ${astroScore}/100 | Full Moon Odds`;\n      const description = `Discover ${teamName}'s Astro Score: ${astroScore}/100 and see how the stars align for their performance!`;\n      \n      // Use the team logo directly if available, otherwise fall back to the OG image generator\n      let logoUrl = '';\n      if (team.logo_url) {\n        logoUrl = team.logo_url.startsWith('http') ? team.logo_url : `${window.location.origin}${team.logo_url}`;\n      } else {\n        logoUrl = `${window.location.origin}/team-logos/${teamAbbr}.png`;\n      }\n      \n      // Ensure image URL is absolute\n      const imageUrl = logoUrl.startsWith('http') ? logoUrl : `${window.location.origin}${logoUrl}`;\n      \n      return (\n        <Helmet>\n          <title>{title}</title>\n          <meta name=\"description\" content={description} />\n          \n          {/* Open Graph / Facebook */}\n          <meta property=\"og:type\" content=\"website\" />\n          <meta property=\"og:site_name\" content=\"Full Moon Odds\" />\n          <meta property=\"og:url\" content={teamPageUrl} />\n          <meta property=\"og:title\" content={title} />\n          <meta property=\"og:description\" content={description} />\n          <meta property=\"og:image\" content={imageUrl} />\n          <meta property=\"og:image:width\" content=\"1200\" />\n          <meta property=\"og:image:height\" content=\"630\" />\n          <meta property=\"og:image:alt\" content={`${teamName} Astro Score: ${astroScore}/100`} />\n          \n          {/* Twitter */}\n          <meta name=\"twitter:card\" content=\"summary_large_image\" />\n          <meta name=\"twitter:site\" content=\"@fullmoonodds\" />\n          <meta name=\"twitter:creator\" content=\"@fullmoonodds\" />\n          <meta name=\"twitter:url\" content={teamPageUrl} />\n          <meta name=\"twitter:title\" content={title} />\n          <meta name=\"twitter:description\" content={description} />\n          <meta name=\"twitter:image\" content={imageUrl} />\n          <meta name=\"twitter:image:alt\" content={`${teamName} logo with Astro Score: ${astroScore}/100`} />\n        </Helmet>\n      );\n    } catch (error) {\n      console.error('Error generating meta tags:', error);\n      return null;\n    }\n  };\n\n  // Loading state\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-slate-50 p-4 sm:p-8\">\n        <div className=\"container mx-auto\">\n          <div className=\"flex items-center mb-8\">\n            <div className=\"h-16 w-16 rounded-full bg-gray-200 mr-4\" />\n            <div className=\"space-y-2\">\n              <div className=\"h-8 w-48 bg-gray-200 rounded\" />\n              <div className=\"h-4 w-64 bg-gray-200 rounded\" />\n            </div>\n          </div>\n          \n          <div className=\"mb-12\">\n            <div className=\"h-8 w-48 bg-gray-200 rounded mb-6\" />\n            <div className=\"grid gap-4 grid-cols-2 sm:grid-cols-3 md:grid-cols-6\">\n              {[1, 2, 3, 4, 5, 6].map(i => (\n                <div key={i} className=\"h-40 w-full bg-gray-200 rounded-lg\" />\n              ))}\n            </div>\n          </div>\n          \n          <div className=\"mb-12\">\n            <div className=\"h-8 w-48 bg-gray-200 rounded mb-6\" />\n            <div className=\"h-64 w-full bg-gray-200 rounded-lg\" />\n          </div>\n          \n          <div className=\"mb-12\">\n            <div className=\"h-8 w-48 bg-gray-200 rounded mb-6\" />\n            <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-3\">\n              {[1, 2, 3].map(i => (\n                <div key={i} className=\"h-40 w-full bg-gray-200 rounded-lg\" />\n              ))}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // Error state\n  if (error) {\n    return (\n      <div className=\"min-h-screen bg-slate-50 p-4 sm:p-8\">\n        <div className=\"container mx-auto\">\n          <div className=\"max-w-2xl mx-auto\">\n            <Alert variant=\"destructive\">\n              <AlertDescription>{error}</AlertDescription>\n            </Alert>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  const teamColors = getTeamColorStyles(team);\n\n  // Prepare data for sharing with chemistry score from team_chemistry\n  const teamShareData = team ? {\n    id: team.id,\n    name: team.name,\n    logo: team.logo_url || '',\n    astro_score: chemistry?.score || 0, // Use chemistry score from team_chemistry\n    leagueSlug: team.league?.sport || 'mlb',\n    teamSlug: team.slug || team.id,\n  } : null;\n  \n  console.log('Team Share Data:', {\n    ...teamShareData,\n    // Don't log the entire chemistry object to avoid console spam\n    chemistryScore: chemistry?.score\n  });\n\n  return (\n    <div \n      className=\"min-h-screen bg-slate-50 text-slate-800 p-4 sm:p-8\"\n      style={{\n        '--primary-color': teamColors.primary,\n        '--secondary-color': teamColors.secondary,\n        '--text-color': teamColors.text\n      } as React.CSSProperties}\n    >\n      {renderMetaTags()}\n      <div className=\"container pb-12 pt-0 px-4 md:px-6 mx-auto\">\n        \n        {/* Team Header */}\n        <motion.div \n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.5 }}\n          className=\"mb-8 md:mb-12 flex flex-col md:flex-row items-center md:items-start gap-4 md:gap-8 mt-1.5\"\n        >\n          <div className=\"flex-shrink-0 w-32 h-32 md:w-42 md:h-42\">\n            {team?.logo_url ? (\n              <img \n                src={team.logo_url} \n                alt={`${team.name} logo`} \n                className=\"w-full h-full object-contain\" \n                loading=\"lazy\"\n              />\n            ) : (\n              <div className=\"w-full h-full flex items-center justify-center bg-gray-200 rounded-full\">\n                <span className=\"text-gray-600 font-bold text-2xl\">{team?.abbreviation || '?'}</span>\n              </div>\n            )}\n          </div>\n          \n          <div className=\"text-center md:text-left flex-1\">\n            <div className=\"flex flex-row items-start justify-center md:justify-start space-x-3 mb-3.5\">\n              <div>\n                <h1 className=\"text-2xl md:text-3xl font-bold\">{team?.name}</h1>\n                <p className=\"text-slate-500 text-sm\">\n                  {team?.city} â€¢ {team?.venue || 'Venue N/A'}\n                </p>\n              </div>\n              {team?.league?.name && (\n                <Badge \n                  variant=\"outline\"\n                  className=\"text-[10px] sm:text-xs px-2 py-0.5 sm:py-1 mt-2\"\n                  style={{ borderColor: teamColors.secondary, color: teamColors.primary }}\n                >\n                  {team.league.name}\n                </Badge>\n              )}\n            </div>\n          </div>\n        </motion.div>\n        \n        {/* Top Floating Share Button */}\n        <div className=\"fixed top-40 right-8 z-50\">\n          <div className=\"backdrop-blur-lg bg-white/80 dark:bg-gray-900/80 rounded-lg p-2 shadow-lg shadow-blue-500/50 hover:shadow-xl hover:shadow-blue-500/70 transition-shadow\">\n            <TeamShareButton team={teamShareData} />\n          </div>\n        </div>\n        \n        {/* Top Players */}\n        <motion.div \n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.5, delay: 0.1 }}\n          className=\"-mt-1.5 mb-8 md:mb-12\"\n        >\n          <h2 className=\"text-xl md:text-2xl font-bold mb-4 md:mb-6 flex items-center\">\n            <Star className=\"mr-2 h-5 w-5 md:h-6 md:w-6\" style={{ color: teamColors.primary }} />\n            Top Players\n          </h2>\n          <div className=\"flex overflow-x-auto pb-4 -mx-4 px-4 space-x-4 md:space-x-0 md:mx-0 md:px-0 md:grid md:gap-4 md:grid-cols-2 lg:grid-cols-4 md:justify-items-center md:overflow-visible\">\n            {topPlayers.length > 0 ? topPlayers.slice(0, 4).map(player => {\n              // Calculate team average astro influence for the glow effect\n              const teamAverageAstroInfluence = players.length > 0 \n                ? players.reduce((sum, p) => sum + (p.astro_influence || 0), 0) / players.length \n                : 0;\n                \n              return (\n                <PlayerCardNew\n                  key={player.id}\n                  id={player.id}\n                  player_id={player.player_id}\n                  full_name={player.full_name}\n                  headshot_url={player.headshot_url || undefined}\n                  birth_date={player.birth_date || undefined}\n                  primary_number={player.number?.toString() || undefined}\n                  primary_position={player.position || undefined}\n                  impact_score={player.impact_score || 0}\n                  astro_influence={player.astro_influence || 0}\n                  teamAverageAstroInfluence={teamAverageAstroInfluence}\n                  linkPath={team?.league_id === 'nba' \n                    ? `/nba/players/${player.id}`\n                    : `/teams/${teamId}/players/${player.id}`\n                  }\n                />\n              );\n            }) : (\n              <p className=\"col-span-full text-slate-500 text-center py-10\">No player data available</p>\n            )}\n          </div>\n        </motion.div>\n        \n        {/* Team Insights */}\n        <motion.div \n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.5, delay: 0.2 }}\n          className=\"mb-8 md:mb-12\"\n        >\n          <h2 className=\"text-xl md:text-2xl font-bold mb-4 md:mb-6 flex items-center\">\n            <Info className=\"mr-2 h-5 w-5 md:h-6 md:w-6\" style={{ color: teamColors.primary }} />\n            Team Insights\n          </h2>\n          \n          <Card className=\"bg-white w-full\">\n            <CardContent className=\"p-0\">\n              {/* Team Chemistry Meter - Full Width */}\n              <div className=\"w-full border rounded-lg overflow-hidden\">\n                {chemistry ? (\n                  <div className=\"p-4 bg-white\">\n                    <h3 className=\"font-semibold text-lg mb-4 text-slate-800 flex items-center\">\n                      <Zap className=\"h-5 w-5 mr-2 text-amber-500\" />\n                      Team Chemistry\n                    </h3>\n                    <div className=\"border rounded-lg p-4 bg-slate-50\">\n                      <TeamChemistryMeter \n                        chemistry={chemistry} \n                        className=\"w-full\" \n                      />\n                    </div>\n                    <p className=\"text-xs text-slate-500 mt-2 text-right\">\n                      Last updated: {new Date(chemistry.calculatedAt).toLocaleString()}\n                    </p>\n                  </div>\n                ) : chemistryLoading ? (\n                  <div className=\"p-6 md:p-8 rounded-lg bg-slate-50 animate-pulse w-full\">\n                    <h3 className=\"font-semibold mb-4 text-slate-700 text-lg\">Team Chemistry</h3>\n                    <div className=\"w-full h-48 md:h-64 bg-slate-200 rounded-md\"></div>\n                  </div>\n                ) : (\n                  <div className=\"p-6 md:p-8 rounded-lg bg-slate-50 border border-dashed border-slate-300 w-full\">\n                    <h3 className=\"font-semibold mb-4 text-slate-700 flex items-center text-lg\">\n                      <Zap className=\"h-5 w-5 mr-2 text-amber-500\" />\n                      Team Chemistry\n                    </h3>\n                    <p className=\"text-slate-600 text-base mb-4\">\n                      No chemistry data is available for this team. The data needs to be generated first.\n                    </p>\n                    <div className=\"bg-amber-50 p-4 rounded-md border border-amber-200\">\n                      <h4 className=\"text-base font-medium text-amber-800 flex items-center mb-2\">\n                        <AlertCircle className=\"h-4 w-4 mr-2\" />\n                        Admin Action Required\n                      </h4>\n                      <ol className=\"text-sm text-amber-700 list-decimal pl-5 space-y-1\">\n                        <li>For NBA teams, run <code className=\"bg-amber-100 px-1.5 py-0.5 rounded\">node scripts/calculate_nba_team_chemistry_v2.js</code></li>\n                        <li>For other teams, ensure the <code className=\"bg-amber-100 px-1.5 py-0.5 rounded\">team_chemistry</code> table exists</li>\n                        <li>Refresh this page to see the team chemistry meter</li>\n                      </ol>\n                    </div>\n                  </div>\n                )}\n              </div>\n            </CardContent>\n          </Card>\n        </motion.div>\n        \n        {/* Upcoming Games */}\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.5, delay: 0.3 }}\n          className=\"mb-8 md:mb-12 mt-8\"\n        >\n          <h2 className=\"text-xl md:text-2xl font-bold mb-4 md:mb-6 flex items-center\">\n            <CalendarIcon className=\"mr-2 h-5 w-5 md:h-6 md:w-6\" style={{ color: teamColors.primary }} />\n            Upcoming Games\n          </h2>\n          \n          {upcomingGames.length > 0 ? (\n            <GameCarousel \n              games={upcomingGames\n                .filter((game): game is GameWithTeams => (\n                    !!game.home_team && \n                    !!game.away_team\n                  ))\n                  .map(game => ({\n                    ...game,\n                    home_team: game.home_team,\n                    away_team: game.away_team,\n                    astroInfluence: game.astroInfluence || ['Favorable Moon', 'Rising Mars', 'Jupiter Aligned'][Math.floor(Math.random() * 3)],\n                    astroEdge: game.astroEdge || Math.random() * 15 + 5\n                  }))\n                }\n                defaultLogo=\"/placeholder-team.png\"\n                className=\"mt-6 -ml-5\"\n              />\n            ) : (\n              <p className=\"text-center py-8 text-slate-500\">No upcoming games scheduled</p>\n            )}\n        </motion.div>\n        \n        {/* Team Roster */}\n        <motion.div \n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.5, delay: 0.4 }}\n          className=\"mb-4 md:mb-6\" \n        >\n          <h2 className=\"text-xl md:text-2xl font-bold mb-4 md:mb-6 flex items-center\">\n            <Users className=\"mr-2 h-5 w-5 md:h-6 md:w-6\" style={{ color: teamColors.primary }} />\n            Team Roster\n          </h2>\n          \n          <div className=\"overflow-x-auto -mx-4 px-4 md:mx-0 md:px-0\">\n            <TeamRoster \n              players={players.map(player => ({\n                id: player.id,\n                player_id: player.player_id,\n                full_name: player.full_name,\n                first_name: player.first_name,\n                last_name: player.last_name,\n                position: player.position,\n                number: player.number,\n                headshot_url: player.headshot_url,\n                is_active: player.is_active,\n                team_id: player.team_id,\n                team_name: player.team_name,\n                stats_batting_hits: player.stats_batting_hits,\n                stats_batting_runs: player.stats_batting_runs,\n                stats_fielding_assists: player.stats_fielding_assists,\n                impact_score: player.impact_score\n              }))} \n              teamId={teamId || ''} \n            />\n          </div>\n        </motion.div>\n      </div>\n      <div className=\"flex items-center space-x-4\">\n        <TeamShareButton team={teamShareData} className=\"ml-auto\" />\n      </div>\n    </div>\n  );\n};\n\nexport default TeamPage;\n"],"names":["ArrowUpDown","createLucideIcon","Link","stopAnimation","visualElement","value","setVariants","variantLabels","key","variant","setTarget","child","setValues","definition","animationControls","subscribers","controls","transitionOverride","animations","animateVisualElement","useAnimationControls","useConstant","useIsomorphicLayoutEffect","useAnimation","thresholds","inView","elementOrSelector","onStart","root","rootMargin","amount","elements","resolveElements","activeIntersections","onIntersectionChange","entries","entry","onEnd","newOnEnd","observer","element","useInView","ref","margin","once","initial","isInView","setInView","useState","useEffect","onEnter","options","TeamShareButton","team","className","copied","setCopied","toast","useToast","teamPageUrl","astroScore","teamName","shareText","getLeagueEmoji","leagueSlug","trackShareEvent","platform","error","handlePlatformShare","url","handleCopyLink","err","DropdownMenu","jsx","DropdownMenuTrigger","jsxs","Button","Share2Icon","DropdownMenuContent","DropdownMenuItem","TwitterIcon","FacebookIcon","CheckIcon","LinkIcon","_interopDefault","ex","React","require$$0","React__default","_defineProperty","obj","_inheritsLoose","subClass","superClass","canUseDOM","withSideEffect","reducePropsToState","handleStateChangeOnClient","mapStateOnServer","getDisplayName","WrappedComponent","mountedInstances","state","emitChange","instance","SideEffect","_PureComponent","recordedState","_proto","index","lib","hasElementType","hasMap","hasSet","hasArrayBuffer","equal","a","b","length","i","keys","it","reactFastCompare","getOwnPropertySymbols","hasOwnProperty","propIsEnumerable","toObject","val","shouldUseNative","test1","test2","order2","n","test3","letter","objectAssign","target","source","from","to","symbols","ATTRIBUTE_NAMES","TAG_NAMES","name","TAG_PROPERTIES","REACT_TAG_MAP","HELMET_PROPS","HTML_TAG_MAP","SELF_CLOSING_TAGS","HELMET_ATTRIBUTE","_typeof","classCallCheck","Constructor","createClass","defineProperties","props","descriptor","protoProps","staticProps","_extends","inherits","objectWithoutProperties","possibleConstructorReturn","self","call","encodeSpecialCharacters","str","encode","getTitleFromPropsList","propsList","innermostTitle","getInnermostProperty","innermostTemplate","innermostDefaultTitle","getOnChangeClientState","getAttributesFromPropsList","tagType","tagAttrs","current","getBaseTagFromPropsList","primaryAttributes","innermostBaseTag","tag","attributeKey","lowerCaseAttributeKey","getTagsFromPropsList","tagName","approvedSeenTags","warn","approvedTags","instanceTags","instanceSeenTags","primaryAttributeKey","tagUnion","property","rafPolyfill","clock","callback","currentTime","cafPolyfill","id","requestAnimationFrame","cancelAnimationFrame","msg","_helmetCallback","handleClientStateChange","newState","commitTagChanges","cb","baseTag","bodyAttributes","htmlAttributes","linkTags","metaTags","noscriptTags","onChangeClientState","scriptTags","styleTags","title","titleAttributes","updateAttributes","updateTitle","tagUpdates","updateTags","addedTags","removedTags","_tagUpdates$tagType","newTags","oldTags","flattenArray","possibleArray","attributes","elementTag","helmetAttributeString","helmetAttributes","attributesToRemove","attributeKeys","attribute","indexToSave","_i","type","tags","headElement","tagNodes","indexToDelete","newElement","existingTag","generateElementAttributesAsString","attr","generateTitleAsString","attributeString","flattenedTitle","generateTagsAsString","attributeHtml","string","tagContent","isSelfClosing","convertElementAttributestoReactProps","initProps","convertReactPropstoHtmlAttributes","initAttributes","generateTitleAsReactComponent","_initProps","generateTagsAsReactComponent","_mappedTag","mappedTag","mappedAttribute","content","getMethodsForTag","_ref","_ref$title","Helmet","Component","_class","_temp","_React$Component","HelmetWrapper","nextProps","isEqual","nestedChildren","_babelHelpers$extends","arrayTypeChildren","newChildProps","_ref2","_babelHelpers$extends2","_babelHelpers$extends3","newProps","newFlattenedProps","arrayChildName","_babelHelpers$extends4","children","_this2","_child$props","childProps","_props","PropTypes","mappedState","NullComponent","HelmetSideEffects","HelmetExport","TeamRoster","players","teamId","sortConfig","setSortConfig","sortedPlayers","useMemo","sortablePlayers","requestSort","direction","getImpactColor","score","player","e","GameCard","game","homeTeam","awayTeam","defaultLogo","gameDate","isLive","getTeamColor","defaultColor","homePrimaryColor","awayPrimaryColor","getTeamLogo","getTeamRecord","formatGameTime","date","localDate","timeString","dateString","Card","CardContent","CalendarIcon","format","Badge","_a","Star","_b","Zap","_c","_d","useWindowSize","windowSize","setWindowSize","handleResize","GameCarousel","games","currentIndex","setCurrentIndex","isDragging","setIsDragging","carouselRef","useRef","getCardWidth","cardWidth","setCardWidth","gap","handleDragEnd","event","info","newIndex","handleTouchStart","handleTouchMove","carousel","contentWidth","motion","_","getTeamColorStyles","primaryColor","secondaryColor","PROGRESS_NAME","DEFAULT_MAX","createProgressContext","createProgressScope","createContextScope","ProgressProvider","useProgressContext","Progress","React.forwardRef","forwardedRef","__scopeProgress","valueProp","maxProp","getValueLabel","defaultGetValueLabel","progressProps","isValidMaxNumber","getInvalidMaxError","max","isValidValueNumber","getInvalidValueError","valueLabel","isNumber","Primitive","getProgressState","INDICATOR_NAME","ProgressIndicator","indicatorProps","context","maxValue","propValue","componentName","Root","Indicator","indicatorClassName","ProgressPrimitive.Root","cn","ProgressPrimitive.Indicator","TeamChemistryMeter","chemistry","dominantElement","fire","earth","air","water","rest","dominantElementName","elementColors","getScoreColor","getProgressColor","formattedDate","renderElementBar","label","emoji","getElementEmoji","getElementColor","colorClass","CardHeader","CardTitle","TooltipProvider","Tooltip","TooltipTrigger","Info","TooltipContent","calculateImpactScore","UUID_REGEX","isUUID","supabase","fetchTeamChemistry","session","data","elementsData","nbaTeamData","nbaTeamError","elementalBalance","TeamPage","params","useParams","identifier","isUuidIdentifier","isNumIdentifier","teamSlug","useNavigate","setTeam","setPlayers","topPlayers","setTopPlayers","setChemistry","chemistryLoading","setChemistryLoading","upcomingGames","setUpcomingGames","loading","setLoading","setError","isNum","nbaTeamQuery","nbaTeam","nbaPlayersData","nbaPlayersError","mappedPlayers","p","chemistryData","scoreA","scoreB","fallbackTeamQuery","exactMatch","exactError","chemError","fetchUpcomingGames","singleError","allMatches","countError","fuzzyMatches","fuzzyError","nameMatches","nameError","t","teamData","playersData","playersError","allPlayers","isAthletics","abbreviation","currentTeamAbbr","teamAbbr","hitsA","hitsB","typedPlayers","calculatedImpactScore","parsedNum","updatePromises","originalPlayer","getPosValue","pos","posLower","chemistryError","parsedElements","gamesData","gamesError","processedGames","item","gameData","teamIds","teams","teamError","teamMap","formattedGames","renderMetaTags","description","logoUrl","imageUrl","Alert","AlertDescription","teamColors","teamShareData","teamAverageAstroInfluence","sum","PlayerCardNew","AlertCircle","Users"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,7,8,9,10,16]}