{"version":3,"mappings":"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","names":["ChevronsUpDown","createLucideIcon","usePrevious","value","ref","React.useRef","React.useMemo","SWITCH_NAME","createSwitchContext","createSwitchScope","createContextScope","SwitchProvider","useSwitchContext","Switch","React.forwardRef","props","forwardedRef","__scopeSwitch","name","checkedProp","defaultChecked","required","disabled","onCheckedChange","form","switchProps","button","setButton","React.useState","composedRefs","useComposedRefs","node","hasConsumerStoppedPropagationRef","isFormControl","checked","setChecked","useControllableState","jsxs","jsx","Primitive","getState","composeEventHandlers","event","prevChecked","SwitchBubbleInput","THUMB_NAME","SwitchThumb","thumbProps","context","BUBBLE_INPUT_NAME","control","bubbles","controlSize","useSize","React.useEffect","input","inputProto","Root","Thumb","className","SwitchPrimitives.Root","cn","SwitchPrimitives.Thumb","clamp","min","max","OPEN_KEYS","SELECTION_KEYS","SELECT_NAME","Collection","useCollection","createCollectionScope","createCollection","createSelectContext","createSelectScope","createPopperScope","usePopperScope","SelectProvider","useSelectContext","SelectNativeOptionsProvider","useSelectNativeOptionsContext","Select","__scopeSelect","children","openProp","defaultOpen","onOpenChange","valueProp","defaultValue","onValueChange","dir","autoComplete","popperScope","trigger","setTrigger","valueNode","setValueNode","valueNodeHasChildren","setValueNodeHasChildren","direction","useDirection","open","setOpen","setValue","triggerPointerDownPosRef","nativeOptionsSet","setNativeOptionsSet","nativeSelectKey","option","PopperPrimitive.Root","useId","React.useCallback","prev","optionsSet","SelectBubbleInput","TRIGGER_NAME","SelectTrigger","triggerProps","isDisabled","getItems","pointerTypeRef","searchRef","handleTypeaheadSearch","resetTypeahead","useTypeaheadSearch","search","enabledItems","item","currentItem","nextItem","findNextItem","handleOpen","pointerEvent","PopperPrimitive.Anchor","shouldShowPlaceholder","target","isTypingAhead","VALUE_NAME","SelectValue","style","placeholder","valueProps","onValueNodeHasChildrenChange","hasChildren","useLayoutEffect","Fragment","ICON_NAME","SelectIcon","iconProps","PORTAL_NAME","SelectPortal","PortalPrimitive","CONTENT_NAME","SelectContent","fragment","setFragment","frag","ReactDOM.createPortal","SelectContentProvider","SelectContentImpl","CONTENT_MARGIN","useSelectContentContext","CONTENT_IMPL_NAME","Slot","createSlot","position","onCloseAutoFocus","onEscapeKeyDown","onPointerDownOutside","side","sideOffset","align","alignOffset","arrowPadding","collisionBoundary","collisionPadding","sticky","hideWhenDetached","avoidCollisions","contentProps","content","setContent","viewport","setViewport","selectedItem","setSelectedItem","selectedItemText","setSelectedItemText","isPositioned","setIsPositioned","firstValidItemFoundRef","hideOthers","useFocusGuards","focusFirst","candidates","firstItem","restItems","lastItem","PREVIOUSLY_FOCUSED_ELEMENT","candidate","focusSelectedItem","pointerMoveDelta","handlePointerMove","_a","_b","handlePointerUp","close","itemRefCallback","isFirstValidItem","handleItemLeave","itemTextRefCallback","SelectPosition","SelectPopperPosition","SelectItemAlignedPosition","popperContentProps","RemoveScroll","FocusScope","DismissableLayer","isModifierKey","candidateNodes","currentElement","currentIndex","ITEM_ALIGNED_POSITION_NAME","onPlaced","popperProps","contentContext","contentWrapper","setContentWrapper","shouldExpandOnScrollRef","shouldRepositionRef","triggerRect","contentRect","valueNodeRect","itemTextRect","itemTextOffset","left","leftDelta","minContentWidth","contentWidth","rightEdge","clampedLeft","right","rightDelta","leftEdge","clampedRight","items","availableHeight","itemsHeight","contentStyles","contentBorderTopWidth","contentPaddingTop","contentBorderBottomWidth","contentPaddingBottom","fullContentHeight","minContentHeight","viewportStyles","viewportPaddingTop","viewportPaddingBottom","topEdgeToTriggerMiddle","triggerMiddleToBottomEdge","selectedItemHalfHeight","itemOffsetMiddle","contentTopToItemMiddle","itemMiddleToContentBottom","isLastItem","viewportOffsetBottom","clampedTriggerMiddleToBottomEdge","height","isFirstItem","contentZIndex","setContentZIndex","handleScrollButtonChange","SelectViewportProvider","POPPER_POSITION_NAME","PopperPrimitive.Content","useSelectViewportContext","VIEWPORT_NAME","SelectViewport","nonce","viewportProps","viewportContext","prevScrollTopRef","scrolledBy","cssMinHeight","cssHeight","prevHeight","nextHeight","clampedNextHeight","heightDiff","GROUP_NAME","SelectGroupContextProvider","useSelectGroupContext","SelectGroup","groupProps","groupId","LABEL_NAME","SelectLabel","labelProps","groupContext","ITEM_NAME","SelectItemContextProvider","useSelectItemContext","SelectItem","textValueProp","itemProps","isSelected","textValue","setTextValue","isFocused","setIsFocused","textId","handleSelect","prevTextValue","ITEM_TEXT_NAME","SelectItemText","itemTextProps","itemContext","nativeOptionsContext","itemTextNode","setItemTextNode","textContent","nativeOption","onNativeOptionAdd","onNativeOptionRemove","ITEM_INDICATOR_NAME","SelectItemIndicator","itemIndicatorProps","SCROLL_UP_BUTTON_NAME","SelectScrollUpButton","canScrollUp","setCanScrollUp","handleScroll2","canScrollUp2","SelectScrollButtonImpl","SCROLL_DOWN_BUTTON_NAME","SelectScrollDownButton","canScrollDown","setCanScrollDown","maxScroll","canScrollDown2","onAutoScroll","scrollIndicatorProps","autoScrollTimerRef","clearAutoScrollTimer","activeItem","SEPARATOR_NAME","SelectSeparator","separatorProps","ARROW_NAME","SelectArrow","arrowProps","PopperPrimitive.Arrow","prevValue","select","selectProto","VISUALLY_HIDDEN_STYLES","onSearchChange","handleSearchChange","useCallbackRef","timerRef","key","updateSearch","normalizedSearch","char","currentItemIndex","wrappedItems","wrapArray","v","array","startIndex","_","index","Root2","Trigger","Value","Icon","Portal","Content2","Viewport","Label","Item","ItemText","ItemIndicator","ScrollUpButton","ScrollDownButton","Separator","SelectPrimitive.Root","SelectPrimitive.Value","SelectPrimitive.Trigger","SelectPrimitive.Icon","ChevronDown","SelectPrimitive.ScrollUpButton","ChevronUp","SelectPrimitive.ScrollDownButton","SelectPrimitive.Portal","SelectPrimitive.Content","SelectPrimitive.Viewport","SelectPrimitive.Label","SelectPrimitive.Item","SelectPrimitive.ItemIndicator","Check","SelectPrimitive.ItemText","SelectPrimitive.Separator","ZODIAC_SIGNS","calculatePlanetaryCounts","planetaryData","acc","sign","counts","planet","data","signIndex","processPlanetsPerSign","planetsPerSign","countsToArray","formatAstroChartData","astroData","cusps","cuspSource","_d","_c","house","i","cusp","chartData","angle","planetData","UserBirthDataForm","userId","onSuccess","defaultValues","toast","useToast","isLoading","setIsLoading","useState","formData","setFormData","selectedCity","setSelectedCity","timeUnknown","setTimeUnknown","citySuggestions","setCitySuggestions","cityError","setCityError","cityData","cities","findCityData","cityName","c","useEffect","searchTerm","filtered","city","uniqueSuggestions","seen","validateCity","found","handleCitySelect","handleInputChange","e","type","Card","CardHeader","CardTitle","CardDescription","year","month","day","hour","minute","timeParts","parsedHour","parsedMinute","lat","lng","timezoneOffset","apiData","controller","timeoutId","positionsResponse","errorBody","serverMessage","planetaryCounts","userDataToSave","error","supabase","CardContent","Input","f","Loader2","uniqueKey","CardFooter","Button","ChartLoading","timeout","onRetry","isTimedOut","setIsTimedOut","AlertTriangle","SignInterpretation","placement","interpretation","icon","colorClass","Table","TableHeader","TableBody","TableFooter","TableRow","TableHead","TableCell","TableCaption","aspectSymbols","planetSymbols","AspectsGrid","aspects","interpretations","sortedAspects","a","b","majorAspects","aIsMajor","bIsMajor","aspect","aspectInfo","planet1Symbol","planet2Symbol","TooltipProvider","Tooltip","TooltipTrigger","TooltipContent","SignInterpretationSkeleton","Skeleton","NatalChartProfile","lazy","__vitePreload","SPORTS","SPORT_STYLE","SPORT_PILL","ADD_PILL","itemVariants","ExampleProfilePage","userData","setUserData","loading","setLoading","setUserId","showForm","setShowForm","showAddSports","setShowAddSports","setInterpretations","interpretationsLoading","setInterpretationsLoading","defaultUser","user","fetchSpecificUser","useCallback","specificUserId","setSelectedSports","selectedSports","formattedInterpretations","availableSports","sport","selectedSportData","toggleSport","sportId","id","toggleAddSports","updateFavoriteSports","handleFormSuccess","majorSigns","findSign","planetName","p","getSignFromDegree","degree","signs","signDetails","motion","Avatar","AvatarImage","AvatarFallback","n","Badge","Suspense","_e","_f"],"ignoreList":[0,1,2,4,5],"sources":["../../node_modules/lucide-react/dist/esm/icons/chevrons-up-down.js","../../node_modules/@radix-ui/react-use-previous/dist/index.mjs","../../node_modules/@radix-ui/react-switch/dist/index.mjs","../../src/components/ui/switch.tsx","../../node_modules/@radix-ui/number/dist/index.mjs","../../node_modules/@radix-ui/react-select/dist/index.mjs","../../src/components/ui/select.tsx","../../src/components/astrology/utils/types.ts","../../src/components/astrology/utils/chartUtils.ts","../../src/components/forms/UserBirthDataForm.tsx","../../src/components/astrology/components/ChartLoading.tsx","../../src/components/astrology/SignInterpretation.tsx","../../src/components/ui/table.tsx","../../src/components/astrology/AspectsGrid.tsx","../../src/components/astrology/SignInterpretationSkeleton.tsx","../../src/pages/preview/ExampleProfilePage.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ChevronsUpDown = createLucideIcon(\"ChevronsUpDown\", [\n  [\"path\", { d: \"m7 15 5 5 5-5\", key: \"1hf1tw\" }],\n  [\"path\", { d: \"m7 9 5-5 5 5\", key: \"sgt6xg\" }]\n]);\n\nexport { ChevronsUpDown as default };\n//# sourceMappingURL=chevrons-up-down.js.map\n","// packages/react/use-previous/src/use-previous.tsx\nimport * as React from \"react\";\nfunction usePrevious(value) {\n  const ref = React.useRef({ value, previous: value });\n  return React.useMemo(() => {\n    if (ref.current.value !== value) {\n      ref.current.previous = ref.current.value;\n      ref.current.value = value;\n    }\n    return ref.current.previous;\n  }, [value]);\n}\nexport {\n  usePrevious\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\n\n// src/switch.tsx\nimport * as React from \"react\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { usePrevious } from \"@radix-ui/react-use-previous\";\nimport { useSize } from \"@radix-ui/react-use-size\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { jsx, jsxs } from \"react/jsx-runtime\";\nvar SWITCH_NAME = \"Switch\";\nvar [createSwitchContext, createSwitchScope] = createContextScope(SWITCH_NAME);\nvar [SwitchProvider, useSwitchContext] = createSwitchContext(SWITCH_NAME);\nvar Switch = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeSwitch,\n      name,\n      checked: checkedProp,\n      defaultChecked,\n      required,\n      disabled,\n      value = \"on\",\n      onCheckedChange,\n      form,\n      ...switchProps\n    } = props;\n    const [button, setButton] = React.useState(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setButton(node));\n    const hasConsumerStoppedPropagationRef = React.useRef(false);\n    const isFormControl = button ? form || !!button.closest(\"form\") : true;\n    const [checked, setChecked] = useControllableState({\n      prop: checkedProp,\n      defaultProp: defaultChecked ?? false,\n      onChange: onCheckedChange,\n      caller: SWITCH_NAME\n    });\n    return /* @__PURE__ */ jsxs(SwitchProvider, { scope: __scopeSwitch, checked, disabled, children: [\n      /* @__PURE__ */ jsx(\n        Primitive.button,\n        {\n          type: \"button\",\n          role: \"switch\",\n          \"aria-checked\": checked,\n          \"aria-required\": required,\n          \"data-state\": getState(checked),\n          \"data-disabled\": disabled ? \"\" : void 0,\n          disabled,\n          value,\n          ...switchProps,\n          ref: composedRefs,\n          onClick: composeEventHandlers(props.onClick, (event) => {\n            setChecked((prevChecked) => !prevChecked);\n            if (isFormControl) {\n              hasConsumerStoppedPropagationRef.current = event.isPropagationStopped();\n              if (!hasConsumerStoppedPropagationRef.current) event.stopPropagation();\n            }\n          })\n        }\n      ),\n      isFormControl && /* @__PURE__ */ jsx(\n        SwitchBubbleInput,\n        {\n          control: button,\n          bubbles: !hasConsumerStoppedPropagationRef.current,\n          name,\n          value,\n          checked,\n          required,\n          disabled,\n          form,\n          style: { transform: \"translateX(-100%)\" }\n        }\n      )\n    ] });\n  }\n);\nSwitch.displayName = SWITCH_NAME;\nvar THUMB_NAME = \"SwitchThumb\";\nvar SwitchThumb = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSwitch, ...thumbProps } = props;\n    const context = useSwitchContext(THUMB_NAME, __scopeSwitch);\n    return /* @__PURE__ */ jsx(\n      Primitive.span,\n      {\n        \"data-state\": getState(context.checked),\n        \"data-disabled\": context.disabled ? \"\" : void 0,\n        ...thumbProps,\n        ref: forwardedRef\n      }\n    );\n  }\n);\nSwitchThumb.displayName = THUMB_NAME;\nvar BUBBLE_INPUT_NAME = \"SwitchBubbleInput\";\nvar SwitchBubbleInput = React.forwardRef(\n  ({\n    __scopeSwitch,\n    control,\n    checked,\n    bubbles = true,\n    ...props\n  }, forwardedRef) => {\n    const ref = React.useRef(null);\n    const composedRefs = useComposedRefs(ref, forwardedRef);\n    const prevChecked = usePrevious(checked);\n    const controlSize = useSize(control);\n    React.useEffect(() => {\n      const input = ref.current;\n      if (!input) return;\n      const inputProto = window.HTMLInputElement.prototype;\n      const descriptor = Object.getOwnPropertyDescriptor(\n        inputProto,\n        \"checked\"\n      );\n      const setChecked = descriptor.set;\n      if (prevChecked !== checked && setChecked) {\n        const event = new Event(\"click\", { bubbles });\n        setChecked.call(input, checked);\n        input.dispatchEvent(event);\n      }\n    }, [prevChecked, checked, bubbles]);\n    return /* @__PURE__ */ jsx(\n      \"input\",\n      {\n        type: \"checkbox\",\n        \"aria-hidden\": true,\n        defaultChecked: checked,\n        ...props,\n        tabIndex: -1,\n        ref: composedRefs,\n        style: {\n          ...props.style,\n          ...controlSize,\n          position: \"absolute\",\n          pointerEvents: \"none\",\n          opacity: 0,\n          margin: 0\n        }\n      }\n    );\n  }\n);\nSwitchBubbleInput.displayName = BUBBLE_INPUT_NAME;\nfunction getState(checked) {\n  return checked ? \"checked\" : \"unchecked\";\n}\nvar Root = Switch;\nvar Thumb = SwitchThumb;\nexport {\n  Root,\n  Switch,\n  SwitchThumb,\n  Thumb,\n  createSwitchScope\n};\n//# sourceMappingURL=index.mjs.map\n","import * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n","// packages/core/number/src/number.ts\nfunction clamp(value, [min, max]) {\n  return Math.min(max, Math.max(min, value));\n}\nexport {\n  clamp\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\n\n// src/select.tsx\nimport * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport { clamp } from \"@radix-ui/number\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { createCollection } from \"@radix-ui/react-collection\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { useDirection } from \"@radix-ui/react-direction\";\nimport { DismissableLayer } from \"@radix-ui/react-dismissable-layer\";\nimport { useFocusGuards } from \"@radix-ui/react-focus-guards\";\nimport { FocusScope } from \"@radix-ui/react-focus-scope\";\nimport { useId } from \"@radix-ui/react-id\";\nimport * as PopperPrimitive from \"@radix-ui/react-popper\";\nimport { createPopperScope } from \"@radix-ui/react-popper\";\nimport { Portal as PortalPrimitive } from \"@radix-ui/react-portal\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { createSlot } from \"@radix-ui/react-slot\";\nimport { useCallbackRef } from \"@radix-ui/react-use-callback-ref\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { useLayoutEffect } from \"@radix-ui/react-use-layout-effect\";\nimport { usePrevious } from \"@radix-ui/react-use-previous\";\nimport { VISUALLY_HIDDEN_STYLES } from \"@radix-ui/react-visually-hidden\";\nimport { hideOthers } from \"aria-hidden\";\nimport { RemoveScroll } from \"react-remove-scroll\";\nimport { Fragment, jsx, jsxs } from \"react/jsx-runtime\";\nvar OPEN_KEYS = [\" \", \"Enter\", \"ArrowUp\", \"ArrowDown\"];\nvar SELECTION_KEYS = [\" \", \"Enter\"];\nvar SELECT_NAME = \"Select\";\nvar [Collection, useCollection, createCollectionScope] = createCollection(SELECT_NAME);\nvar [createSelectContext, createSelectScope] = createContextScope(SELECT_NAME, [\n  createCollectionScope,\n  createPopperScope\n]);\nvar usePopperScope = createPopperScope();\nvar [SelectProvider, useSelectContext] = createSelectContext(SELECT_NAME);\nvar [SelectNativeOptionsProvider, useSelectNativeOptionsContext] = createSelectContext(SELECT_NAME);\nvar Select = (props) => {\n  const {\n    __scopeSelect,\n    children,\n    open: openProp,\n    defaultOpen,\n    onOpenChange,\n    value: valueProp,\n    defaultValue,\n    onValueChange,\n    dir,\n    name,\n    autoComplete,\n    disabled,\n    required,\n    form\n  } = props;\n  const popperScope = usePopperScope(__scopeSelect);\n  const [trigger, setTrigger] = React.useState(null);\n  const [valueNode, setValueNode] = React.useState(null);\n  const [valueNodeHasChildren, setValueNodeHasChildren] = React.useState(false);\n  const direction = useDirection(dir);\n  const [open, setOpen] = useControllableState({\n    prop: openProp,\n    defaultProp: defaultOpen ?? false,\n    onChange: onOpenChange,\n    caller: SELECT_NAME\n  });\n  const [value, setValue] = useControllableState({\n    prop: valueProp,\n    defaultProp: defaultValue,\n    onChange: onValueChange,\n    caller: SELECT_NAME\n  });\n  const triggerPointerDownPosRef = React.useRef(null);\n  const isFormControl = trigger ? form || !!trigger.closest(\"form\") : true;\n  const [nativeOptionsSet, setNativeOptionsSet] = React.useState(/* @__PURE__ */ new Set());\n  const nativeSelectKey = Array.from(nativeOptionsSet).map((option) => option.props.value).join(\";\");\n  return /* @__PURE__ */ jsx(PopperPrimitive.Root, { ...popperScope, children: /* @__PURE__ */ jsxs(\n    SelectProvider,\n    {\n      required,\n      scope: __scopeSelect,\n      trigger,\n      onTriggerChange: setTrigger,\n      valueNode,\n      onValueNodeChange: setValueNode,\n      valueNodeHasChildren,\n      onValueNodeHasChildrenChange: setValueNodeHasChildren,\n      contentId: useId(),\n      value,\n      onValueChange: setValue,\n      open,\n      onOpenChange: setOpen,\n      dir: direction,\n      triggerPointerDownPosRef,\n      disabled,\n      children: [\n        /* @__PURE__ */ jsx(Collection.Provider, { scope: __scopeSelect, children: /* @__PURE__ */ jsx(\n          SelectNativeOptionsProvider,\n          {\n            scope: props.__scopeSelect,\n            onNativeOptionAdd: React.useCallback((option) => {\n              setNativeOptionsSet((prev) => new Set(prev).add(option));\n            }, []),\n            onNativeOptionRemove: React.useCallback((option) => {\n              setNativeOptionsSet((prev) => {\n                const optionsSet = new Set(prev);\n                optionsSet.delete(option);\n                return optionsSet;\n              });\n            }, []),\n            children\n          }\n        ) }),\n        isFormControl ? /* @__PURE__ */ jsxs(\n          SelectBubbleInput,\n          {\n            \"aria-hidden\": true,\n            required,\n            tabIndex: -1,\n            name,\n            autoComplete,\n            value,\n            onChange: (event) => setValue(event.target.value),\n            disabled,\n            form,\n            children: [\n              value === void 0 ? /* @__PURE__ */ jsx(\"option\", { value: \"\" }) : null,\n              Array.from(nativeOptionsSet)\n            ]\n          },\n          nativeSelectKey\n        ) : null\n      ]\n    }\n  ) });\n};\nSelect.displayName = SELECT_NAME;\nvar TRIGGER_NAME = \"SelectTrigger\";\nvar SelectTrigger = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, disabled = false, ...triggerProps } = props;\n    const popperScope = usePopperScope(__scopeSelect);\n    const context = useSelectContext(TRIGGER_NAME, __scopeSelect);\n    const isDisabled = context.disabled || disabled;\n    const composedRefs = useComposedRefs(forwardedRef, context.onTriggerChange);\n    const getItems = useCollection(__scopeSelect);\n    const pointerTypeRef = React.useRef(\"touch\");\n    const [searchRef, handleTypeaheadSearch, resetTypeahead] = useTypeaheadSearch((search) => {\n      const enabledItems = getItems().filter((item) => !item.disabled);\n      const currentItem = enabledItems.find((item) => item.value === context.value);\n      const nextItem = findNextItem(enabledItems, search, currentItem);\n      if (nextItem !== void 0) {\n        context.onValueChange(nextItem.value);\n      }\n    });\n    const handleOpen = (pointerEvent) => {\n      if (!isDisabled) {\n        context.onOpenChange(true);\n        resetTypeahead();\n      }\n      if (pointerEvent) {\n        context.triggerPointerDownPosRef.current = {\n          x: Math.round(pointerEvent.pageX),\n          y: Math.round(pointerEvent.pageY)\n        };\n      }\n    };\n    return /* @__PURE__ */ jsx(PopperPrimitive.Anchor, { asChild: true, ...popperScope, children: /* @__PURE__ */ jsx(\n      Primitive.button,\n      {\n        type: \"button\",\n        role: \"combobox\",\n        \"aria-controls\": context.contentId,\n        \"aria-expanded\": context.open,\n        \"aria-required\": context.required,\n        \"aria-autocomplete\": \"none\",\n        dir: context.dir,\n        \"data-state\": context.open ? \"open\" : \"closed\",\n        disabled: isDisabled,\n        \"data-disabled\": isDisabled ? \"\" : void 0,\n        \"data-placeholder\": shouldShowPlaceholder(context.value) ? \"\" : void 0,\n        ...triggerProps,\n        ref: composedRefs,\n        onClick: composeEventHandlers(triggerProps.onClick, (event) => {\n          event.currentTarget.focus();\n          if (pointerTypeRef.current !== \"mouse\") {\n            handleOpen(event);\n          }\n        }),\n        onPointerDown: composeEventHandlers(triggerProps.onPointerDown, (event) => {\n          pointerTypeRef.current = event.pointerType;\n          const target = event.target;\n          if (target.hasPointerCapture(event.pointerId)) {\n            target.releasePointerCapture(event.pointerId);\n          }\n          if (event.button === 0 && event.ctrlKey === false && event.pointerType === \"mouse\") {\n            handleOpen(event);\n            event.preventDefault();\n          }\n        }),\n        onKeyDown: composeEventHandlers(triggerProps.onKeyDown, (event) => {\n          const isTypingAhead = searchRef.current !== \"\";\n          const isModifierKey = event.ctrlKey || event.altKey || event.metaKey;\n          if (!isModifierKey && event.key.length === 1) handleTypeaheadSearch(event.key);\n          if (isTypingAhead && event.key === \" \") return;\n          if (OPEN_KEYS.includes(event.key)) {\n            handleOpen();\n            event.preventDefault();\n          }\n        })\n      }\n    ) });\n  }\n);\nSelectTrigger.displayName = TRIGGER_NAME;\nvar VALUE_NAME = \"SelectValue\";\nvar SelectValue = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, className, style, children, placeholder = \"\", ...valueProps } = props;\n    const context = useSelectContext(VALUE_NAME, __scopeSelect);\n    const { onValueNodeHasChildrenChange } = context;\n    const hasChildren = children !== void 0;\n    const composedRefs = useComposedRefs(forwardedRef, context.onValueNodeChange);\n    useLayoutEffect(() => {\n      onValueNodeHasChildrenChange(hasChildren);\n    }, [onValueNodeHasChildrenChange, hasChildren]);\n    return /* @__PURE__ */ jsx(\n      Primitive.span,\n      {\n        ...valueProps,\n        ref: composedRefs,\n        style: { pointerEvents: \"none\" },\n        children: shouldShowPlaceholder(context.value) ? /* @__PURE__ */ jsx(Fragment, { children: placeholder }) : children\n      }\n    );\n  }\n);\nSelectValue.displayName = VALUE_NAME;\nvar ICON_NAME = \"SelectIcon\";\nvar SelectIcon = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, children, ...iconProps } = props;\n    return /* @__PURE__ */ jsx(Primitive.span, { \"aria-hidden\": true, ...iconProps, ref: forwardedRef, children: children || \"\\u25BC\" });\n  }\n);\nSelectIcon.displayName = ICON_NAME;\nvar PORTAL_NAME = \"SelectPortal\";\nvar SelectPortal = (props) => {\n  return /* @__PURE__ */ jsx(PortalPrimitive, { asChild: true, ...props });\n};\nSelectPortal.displayName = PORTAL_NAME;\nvar CONTENT_NAME = \"SelectContent\";\nvar SelectContent = React.forwardRef(\n  (props, forwardedRef) => {\n    const context = useSelectContext(CONTENT_NAME, props.__scopeSelect);\n    const [fragment, setFragment] = React.useState();\n    useLayoutEffect(() => {\n      setFragment(new DocumentFragment());\n    }, []);\n    if (!context.open) {\n      const frag = fragment;\n      return frag ? ReactDOM.createPortal(\n        /* @__PURE__ */ jsx(SelectContentProvider, { scope: props.__scopeSelect, children: /* @__PURE__ */ jsx(Collection.Slot, { scope: props.__scopeSelect, children: /* @__PURE__ */ jsx(\"div\", { children: props.children }) }) }),\n        frag\n      ) : null;\n    }\n    return /* @__PURE__ */ jsx(SelectContentImpl, { ...props, ref: forwardedRef });\n  }\n);\nSelectContent.displayName = CONTENT_NAME;\nvar CONTENT_MARGIN = 10;\nvar [SelectContentProvider, useSelectContentContext] = createSelectContext(CONTENT_NAME);\nvar CONTENT_IMPL_NAME = \"SelectContentImpl\";\nvar Slot = createSlot(\"SelectContent.RemoveScroll\");\nvar SelectContentImpl = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeSelect,\n      position = \"item-aligned\",\n      onCloseAutoFocus,\n      onEscapeKeyDown,\n      onPointerDownOutside,\n      //\n      // PopperContent props\n      side,\n      sideOffset,\n      align,\n      alignOffset,\n      arrowPadding,\n      collisionBoundary,\n      collisionPadding,\n      sticky,\n      hideWhenDetached,\n      avoidCollisions,\n      //\n      ...contentProps\n    } = props;\n    const context = useSelectContext(CONTENT_NAME, __scopeSelect);\n    const [content, setContent] = React.useState(null);\n    const [viewport, setViewport] = React.useState(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setContent(node));\n    const [selectedItem, setSelectedItem] = React.useState(null);\n    const [selectedItemText, setSelectedItemText] = React.useState(\n      null\n    );\n    const getItems = useCollection(__scopeSelect);\n    const [isPositioned, setIsPositioned] = React.useState(false);\n    const firstValidItemFoundRef = React.useRef(false);\n    React.useEffect(() => {\n      if (content) return hideOthers(content);\n    }, [content]);\n    useFocusGuards();\n    const focusFirst = React.useCallback(\n      (candidates) => {\n        const [firstItem, ...restItems] = getItems().map((item) => item.ref.current);\n        const [lastItem] = restItems.slice(-1);\n        const PREVIOUSLY_FOCUSED_ELEMENT = document.activeElement;\n        for (const candidate of candidates) {\n          if (candidate === PREVIOUSLY_FOCUSED_ELEMENT) return;\n          candidate?.scrollIntoView({ block: \"nearest\" });\n          if (candidate === firstItem && viewport) viewport.scrollTop = 0;\n          if (candidate === lastItem && viewport) viewport.scrollTop = viewport.scrollHeight;\n          candidate?.focus();\n          if (document.activeElement !== PREVIOUSLY_FOCUSED_ELEMENT) return;\n        }\n      },\n      [getItems, viewport]\n    );\n    const focusSelectedItem = React.useCallback(\n      () => focusFirst([selectedItem, content]),\n      [focusFirst, selectedItem, content]\n    );\n    React.useEffect(() => {\n      if (isPositioned) {\n        focusSelectedItem();\n      }\n    }, [isPositioned, focusSelectedItem]);\n    const { onOpenChange, triggerPointerDownPosRef } = context;\n    React.useEffect(() => {\n      if (content) {\n        let pointerMoveDelta = { x: 0, y: 0 };\n        const handlePointerMove = (event) => {\n          pointerMoveDelta = {\n            x: Math.abs(Math.round(event.pageX) - (triggerPointerDownPosRef.current?.x ?? 0)),\n            y: Math.abs(Math.round(event.pageY) - (triggerPointerDownPosRef.current?.y ?? 0))\n          };\n        };\n        const handlePointerUp = (event) => {\n          if (pointerMoveDelta.x <= 10 && pointerMoveDelta.y <= 10) {\n            event.preventDefault();\n          } else {\n            if (!content.contains(event.target)) {\n              onOpenChange(false);\n            }\n          }\n          document.removeEventListener(\"pointermove\", handlePointerMove);\n          triggerPointerDownPosRef.current = null;\n        };\n        if (triggerPointerDownPosRef.current !== null) {\n          document.addEventListener(\"pointermove\", handlePointerMove);\n          document.addEventListener(\"pointerup\", handlePointerUp, { capture: true, once: true });\n        }\n        return () => {\n          document.removeEventListener(\"pointermove\", handlePointerMove);\n          document.removeEventListener(\"pointerup\", handlePointerUp, { capture: true });\n        };\n      }\n    }, [content, onOpenChange, triggerPointerDownPosRef]);\n    React.useEffect(() => {\n      const close = () => onOpenChange(false);\n      window.addEventListener(\"blur\", close);\n      window.addEventListener(\"resize\", close);\n      return () => {\n        window.removeEventListener(\"blur\", close);\n        window.removeEventListener(\"resize\", close);\n      };\n    }, [onOpenChange]);\n    const [searchRef, handleTypeaheadSearch] = useTypeaheadSearch((search) => {\n      const enabledItems = getItems().filter((item) => !item.disabled);\n      const currentItem = enabledItems.find((item) => item.ref.current === document.activeElement);\n      const nextItem = findNextItem(enabledItems, search, currentItem);\n      if (nextItem) {\n        setTimeout(() => nextItem.ref.current.focus());\n      }\n    });\n    const itemRefCallback = React.useCallback(\n      (node, value, disabled) => {\n        const isFirstValidItem = !firstValidItemFoundRef.current && !disabled;\n        const isSelectedItem = context.value !== void 0 && context.value === value;\n        if (isSelectedItem || isFirstValidItem) {\n          setSelectedItem(node);\n          if (isFirstValidItem) firstValidItemFoundRef.current = true;\n        }\n      },\n      [context.value]\n    );\n    const handleItemLeave = React.useCallback(() => content?.focus(), [content]);\n    const itemTextRefCallback = React.useCallback(\n      (node, value, disabled) => {\n        const isFirstValidItem = !firstValidItemFoundRef.current && !disabled;\n        const isSelectedItem = context.value !== void 0 && context.value === value;\n        if (isSelectedItem || isFirstValidItem) {\n          setSelectedItemText(node);\n        }\n      },\n      [context.value]\n    );\n    const SelectPosition = position === \"popper\" ? SelectPopperPosition : SelectItemAlignedPosition;\n    const popperContentProps = SelectPosition === SelectPopperPosition ? {\n      side,\n      sideOffset,\n      align,\n      alignOffset,\n      arrowPadding,\n      collisionBoundary,\n      collisionPadding,\n      sticky,\n      hideWhenDetached,\n      avoidCollisions\n    } : {};\n    return /* @__PURE__ */ jsx(\n      SelectContentProvider,\n      {\n        scope: __scopeSelect,\n        content,\n        viewport,\n        onViewportChange: setViewport,\n        itemRefCallback,\n        selectedItem,\n        onItemLeave: handleItemLeave,\n        itemTextRefCallback,\n        focusSelectedItem,\n        selectedItemText,\n        position,\n        isPositioned,\n        searchRef,\n        children: /* @__PURE__ */ jsx(RemoveScroll, { as: Slot, allowPinchZoom: true, children: /* @__PURE__ */ jsx(\n          FocusScope,\n          {\n            asChild: true,\n            trapped: context.open,\n            onMountAutoFocus: (event) => {\n              event.preventDefault();\n            },\n            onUnmountAutoFocus: composeEventHandlers(onCloseAutoFocus, (event) => {\n              context.trigger?.focus({ preventScroll: true });\n              event.preventDefault();\n            }),\n            children: /* @__PURE__ */ jsx(\n              DismissableLayer,\n              {\n                asChild: true,\n                disableOutsidePointerEvents: true,\n                onEscapeKeyDown,\n                onPointerDownOutside,\n                onFocusOutside: (event) => event.preventDefault(),\n                onDismiss: () => context.onOpenChange(false),\n                children: /* @__PURE__ */ jsx(\n                  SelectPosition,\n                  {\n                    role: \"listbox\",\n                    id: context.contentId,\n                    \"data-state\": context.open ? \"open\" : \"closed\",\n                    dir: context.dir,\n                    onContextMenu: (event) => event.preventDefault(),\n                    ...contentProps,\n                    ...popperContentProps,\n                    onPlaced: () => setIsPositioned(true),\n                    ref: composedRefs,\n                    style: {\n                      // flex layout so we can place the scroll buttons properly\n                      display: \"flex\",\n                      flexDirection: \"column\",\n                      // reset the outline by default as the content MAY get focused\n                      outline: \"none\",\n                      ...contentProps.style\n                    },\n                    onKeyDown: composeEventHandlers(contentProps.onKeyDown, (event) => {\n                      const isModifierKey = event.ctrlKey || event.altKey || event.metaKey;\n                      if (event.key === \"Tab\") event.preventDefault();\n                      if (!isModifierKey && event.key.length === 1) handleTypeaheadSearch(event.key);\n                      if ([\"ArrowUp\", \"ArrowDown\", \"Home\", \"End\"].includes(event.key)) {\n                        const items = getItems().filter((item) => !item.disabled);\n                        let candidateNodes = items.map((item) => item.ref.current);\n                        if ([\"ArrowUp\", \"End\"].includes(event.key)) {\n                          candidateNodes = candidateNodes.slice().reverse();\n                        }\n                        if ([\"ArrowUp\", \"ArrowDown\"].includes(event.key)) {\n                          const currentElement = event.target;\n                          const currentIndex = candidateNodes.indexOf(currentElement);\n                          candidateNodes = candidateNodes.slice(currentIndex + 1);\n                        }\n                        setTimeout(() => focusFirst(candidateNodes));\n                        event.preventDefault();\n                      }\n                    })\n                  }\n                )\n              }\n            )\n          }\n        ) })\n      }\n    );\n  }\n);\nSelectContentImpl.displayName = CONTENT_IMPL_NAME;\nvar ITEM_ALIGNED_POSITION_NAME = \"SelectItemAlignedPosition\";\nvar SelectItemAlignedPosition = React.forwardRef((props, forwardedRef) => {\n  const { __scopeSelect, onPlaced, ...popperProps } = props;\n  const context = useSelectContext(CONTENT_NAME, __scopeSelect);\n  const contentContext = useSelectContentContext(CONTENT_NAME, __scopeSelect);\n  const [contentWrapper, setContentWrapper] = React.useState(null);\n  const [content, setContent] = React.useState(null);\n  const composedRefs = useComposedRefs(forwardedRef, (node) => setContent(node));\n  const getItems = useCollection(__scopeSelect);\n  const shouldExpandOnScrollRef = React.useRef(false);\n  const shouldRepositionRef = React.useRef(true);\n  const { viewport, selectedItem, selectedItemText, focusSelectedItem } = contentContext;\n  const position = React.useCallback(() => {\n    if (context.trigger && context.valueNode && contentWrapper && content && viewport && selectedItem && selectedItemText) {\n      const triggerRect = context.trigger.getBoundingClientRect();\n      const contentRect = content.getBoundingClientRect();\n      const valueNodeRect = context.valueNode.getBoundingClientRect();\n      const itemTextRect = selectedItemText.getBoundingClientRect();\n      if (context.dir !== \"rtl\") {\n        const itemTextOffset = itemTextRect.left - contentRect.left;\n        const left = valueNodeRect.left - itemTextOffset;\n        const leftDelta = triggerRect.left - left;\n        const minContentWidth = triggerRect.width + leftDelta;\n        const contentWidth = Math.max(minContentWidth, contentRect.width);\n        const rightEdge = window.innerWidth - CONTENT_MARGIN;\n        const clampedLeft = clamp(left, [\n          CONTENT_MARGIN,\n          // Prevents the content from going off the starting edge of the\n          // viewport. It may still go off the ending edge, but this can be\n          // controlled by the user since they may want to manage overflow in a\n          // specific way.\n          // https://github.com/radix-ui/primitives/issues/2049\n          Math.max(CONTENT_MARGIN, rightEdge - contentWidth)\n        ]);\n        contentWrapper.style.minWidth = minContentWidth + \"px\";\n        contentWrapper.style.left = clampedLeft + \"px\";\n      } else {\n        const itemTextOffset = contentRect.right - itemTextRect.right;\n        const right = window.innerWidth - valueNodeRect.right - itemTextOffset;\n        const rightDelta = window.innerWidth - triggerRect.right - right;\n        const minContentWidth = triggerRect.width + rightDelta;\n        const contentWidth = Math.max(minContentWidth, contentRect.width);\n        const leftEdge = window.innerWidth - CONTENT_MARGIN;\n        const clampedRight = clamp(right, [\n          CONTENT_MARGIN,\n          Math.max(CONTENT_MARGIN, leftEdge - contentWidth)\n        ]);\n        contentWrapper.style.minWidth = minContentWidth + \"px\";\n        contentWrapper.style.right = clampedRight + \"px\";\n      }\n      const items = getItems();\n      const availableHeight = window.innerHeight - CONTENT_MARGIN * 2;\n      const itemsHeight = viewport.scrollHeight;\n      const contentStyles = window.getComputedStyle(content);\n      const contentBorderTopWidth = parseInt(contentStyles.borderTopWidth, 10);\n      const contentPaddingTop = parseInt(contentStyles.paddingTop, 10);\n      const contentBorderBottomWidth = parseInt(contentStyles.borderBottomWidth, 10);\n      const contentPaddingBottom = parseInt(contentStyles.paddingBottom, 10);\n      const fullContentHeight = contentBorderTopWidth + contentPaddingTop + itemsHeight + contentPaddingBottom + contentBorderBottomWidth;\n      const minContentHeight = Math.min(selectedItem.offsetHeight * 5, fullContentHeight);\n      const viewportStyles = window.getComputedStyle(viewport);\n      const viewportPaddingTop = parseInt(viewportStyles.paddingTop, 10);\n      const viewportPaddingBottom = parseInt(viewportStyles.paddingBottom, 10);\n      const topEdgeToTriggerMiddle = triggerRect.top + triggerRect.height / 2 - CONTENT_MARGIN;\n      const triggerMiddleToBottomEdge = availableHeight - topEdgeToTriggerMiddle;\n      const selectedItemHalfHeight = selectedItem.offsetHeight / 2;\n      const itemOffsetMiddle = selectedItem.offsetTop + selectedItemHalfHeight;\n      const contentTopToItemMiddle = contentBorderTopWidth + contentPaddingTop + itemOffsetMiddle;\n      const itemMiddleToContentBottom = fullContentHeight - contentTopToItemMiddle;\n      const willAlignWithoutTopOverflow = contentTopToItemMiddle <= topEdgeToTriggerMiddle;\n      if (willAlignWithoutTopOverflow) {\n        const isLastItem = items.length > 0 && selectedItem === items[items.length - 1].ref.current;\n        contentWrapper.style.bottom = \"0px\";\n        const viewportOffsetBottom = content.clientHeight - viewport.offsetTop - viewport.offsetHeight;\n        const clampedTriggerMiddleToBottomEdge = Math.max(\n          triggerMiddleToBottomEdge,\n          selectedItemHalfHeight + // viewport might have padding bottom, include it to avoid a scrollable viewport\n          (isLastItem ? viewportPaddingBottom : 0) + viewportOffsetBottom + contentBorderBottomWidth\n        );\n        const height = contentTopToItemMiddle + clampedTriggerMiddleToBottomEdge;\n        contentWrapper.style.height = height + \"px\";\n      } else {\n        const isFirstItem = items.length > 0 && selectedItem === items[0].ref.current;\n        contentWrapper.style.top = \"0px\";\n        const clampedTopEdgeToTriggerMiddle = Math.max(\n          topEdgeToTriggerMiddle,\n          contentBorderTopWidth + viewport.offsetTop + // viewport might have padding top, include it to avoid a scrollable viewport\n          (isFirstItem ? viewportPaddingTop : 0) + selectedItemHalfHeight\n        );\n        const height = clampedTopEdgeToTriggerMiddle + itemMiddleToContentBottom;\n        contentWrapper.style.height = height + \"px\";\n        viewport.scrollTop = contentTopToItemMiddle - topEdgeToTriggerMiddle + viewport.offsetTop;\n      }\n      contentWrapper.style.margin = `${CONTENT_MARGIN}px 0`;\n      contentWrapper.style.minHeight = minContentHeight + \"px\";\n      contentWrapper.style.maxHeight = availableHeight + \"px\";\n      onPlaced?.();\n      requestAnimationFrame(() => shouldExpandOnScrollRef.current = true);\n    }\n  }, [\n    getItems,\n    context.trigger,\n    context.valueNode,\n    contentWrapper,\n    content,\n    viewport,\n    selectedItem,\n    selectedItemText,\n    context.dir,\n    onPlaced\n  ]);\n  useLayoutEffect(() => position(), [position]);\n  const [contentZIndex, setContentZIndex] = React.useState();\n  useLayoutEffect(() => {\n    if (content) setContentZIndex(window.getComputedStyle(content).zIndex);\n  }, [content]);\n  const handleScrollButtonChange = React.useCallback(\n    (node) => {\n      if (node && shouldRepositionRef.current === true) {\n        position();\n        focusSelectedItem?.();\n        shouldRepositionRef.current = false;\n      }\n    },\n    [position, focusSelectedItem]\n  );\n  return /* @__PURE__ */ jsx(\n    SelectViewportProvider,\n    {\n      scope: __scopeSelect,\n      contentWrapper,\n      shouldExpandOnScrollRef,\n      onScrollButtonChange: handleScrollButtonChange,\n      children: /* @__PURE__ */ jsx(\n        \"div\",\n        {\n          ref: setContentWrapper,\n          style: {\n            display: \"flex\",\n            flexDirection: \"column\",\n            position: \"fixed\",\n            zIndex: contentZIndex\n          },\n          children: /* @__PURE__ */ jsx(\n            Primitive.div,\n            {\n              ...popperProps,\n              ref: composedRefs,\n              style: {\n                // When we get the height of the content, it includes borders. If we were to set\n                // the height without having `boxSizing: 'border-box'` it would be too big.\n                boxSizing: \"border-box\",\n                // We need to ensure the content doesn't get taller than the wrapper\n                maxHeight: \"100%\",\n                ...popperProps.style\n              }\n            }\n          )\n        }\n      )\n    }\n  );\n});\nSelectItemAlignedPosition.displayName = ITEM_ALIGNED_POSITION_NAME;\nvar POPPER_POSITION_NAME = \"SelectPopperPosition\";\nvar SelectPopperPosition = React.forwardRef((props, forwardedRef) => {\n  const {\n    __scopeSelect,\n    align = \"start\",\n    collisionPadding = CONTENT_MARGIN,\n    ...popperProps\n  } = props;\n  const popperScope = usePopperScope(__scopeSelect);\n  return /* @__PURE__ */ jsx(\n    PopperPrimitive.Content,\n    {\n      ...popperScope,\n      ...popperProps,\n      ref: forwardedRef,\n      align,\n      collisionPadding,\n      style: {\n        // Ensure border-box for floating-ui calculations\n        boxSizing: \"border-box\",\n        ...popperProps.style,\n        // re-namespace exposed content custom properties\n        ...{\n          \"--radix-select-content-transform-origin\": \"var(--radix-popper-transform-origin)\",\n          \"--radix-select-content-available-width\": \"var(--radix-popper-available-width)\",\n          \"--radix-select-content-available-height\": \"var(--radix-popper-available-height)\",\n          \"--radix-select-trigger-width\": \"var(--radix-popper-anchor-width)\",\n          \"--radix-select-trigger-height\": \"var(--radix-popper-anchor-height)\"\n        }\n      }\n    }\n  );\n});\nSelectPopperPosition.displayName = POPPER_POSITION_NAME;\nvar [SelectViewportProvider, useSelectViewportContext] = createSelectContext(CONTENT_NAME, {});\nvar VIEWPORT_NAME = \"SelectViewport\";\nvar SelectViewport = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, nonce, ...viewportProps } = props;\n    const contentContext = useSelectContentContext(VIEWPORT_NAME, __scopeSelect);\n    const viewportContext = useSelectViewportContext(VIEWPORT_NAME, __scopeSelect);\n    const composedRefs = useComposedRefs(forwardedRef, contentContext.onViewportChange);\n    const prevScrollTopRef = React.useRef(0);\n    return /* @__PURE__ */ jsxs(Fragment, { children: [\n      /* @__PURE__ */ jsx(\n        \"style\",\n        {\n          dangerouslySetInnerHTML: {\n            __html: `[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}`\n          },\n          nonce\n        }\n      ),\n      /* @__PURE__ */ jsx(Collection.Slot, { scope: __scopeSelect, children: /* @__PURE__ */ jsx(\n        Primitive.div,\n        {\n          \"data-radix-select-viewport\": \"\",\n          role: \"presentation\",\n          ...viewportProps,\n          ref: composedRefs,\n          style: {\n            // we use position: 'relative' here on the `viewport` so that when we call\n            // `selectedItem.offsetTop` in calculations, the offset is relative to the viewport\n            // (independent of the scrollUpButton).\n            position: \"relative\",\n            flex: 1,\n            // Viewport should only be scrollable in the vertical direction.\n            // This won't work in vertical writing modes, so we'll need to\n            // revisit this if/when that is supported\n            // https://developer.chrome.com/blog/vertical-form-controls\n            overflow: \"hidden auto\",\n            ...viewportProps.style\n          },\n          onScroll: composeEventHandlers(viewportProps.onScroll, (event) => {\n            const viewport = event.currentTarget;\n            const { contentWrapper, shouldExpandOnScrollRef } = viewportContext;\n            if (shouldExpandOnScrollRef?.current && contentWrapper) {\n              const scrolledBy = Math.abs(prevScrollTopRef.current - viewport.scrollTop);\n              if (scrolledBy > 0) {\n                const availableHeight = window.innerHeight - CONTENT_MARGIN * 2;\n                const cssMinHeight = parseFloat(contentWrapper.style.minHeight);\n                const cssHeight = parseFloat(contentWrapper.style.height);\n                const prevHeight = Math.max(cssMinHeight, cssHeight);\n                if (prevHeight < availableHeight) {\n                  const nextHeight = prevHeight + scrolledBy;\n                  const clampedNextHeight = Math.min(availableHeight, nextHeight);\n                  const heightDiff = nextHeight - clampedNextHeight;\n                  contentWrapper.style.height = clampedNextHeight + \"px\";\n                  if (contentWrapper.style.bottom === \"0px\") {\n                    viewport.scrollTop = heightDiff > 0 ? heightDiff : 0;\n                    contentWrapper.style.justifyContent = \"flex-end\";\n                  }\n                }\n              }\n            }\n            prevScrollTopRef.current = viewport.scrollTop;\n          })\n        }\n      ) })\n    ] });\n  }\n);\nSelectViewport.displayName = VIEWPORT_NAME;\nvar GROUP_NAME = \"SelectGroup\";\nvar [SelectGroupContextProvider, useSelectGroupContext] = createSelectContext(GROUP_NAME);\nvar SelectGroup = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, ...groupProps } = props;\n    const groupId = useId();\n    return /* @__PURE__ */ jsx(SelectGroupContextProvider, { scope: __scopeSelect, id: groupId, children: /* @__PURE__ */ jsx(Primitive.div, { role: \"group\", \"aria-labelledby\": groupId, ...groupProps, ref: forwardedRef }) });\n  }\n);\nSelectGroup.displayName = GROUP_NAME;\nvar LABEL_NAME = \"SelectLabel\";\nvar SelectLabel = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, ...labelProps } = props;\n    const groupContext = useSelectGroupContext(LABEL_NAME, __scopeSelect);\n    return /* @__PURE__ */ jsx(Primitive.div, { id: groupContext.id, ...labelProps, ref: forwardedRef });\n  }\n);\nSelectLabel.displayName = LABEL_NAME;\nvar ITEM_NAME = \"SelectItem\";\nvar [SelectItemContextProvider, useSelectItemContext] = createSelectContext(ITEM_NAME);\nvar SelectItem = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeSelect,\n      value,\n      disabled = false,\n      textValue: textValueProp,\n      ...itemProps\n    } = props;\n    const context = useSelectContext(ITEM_NAME, __scopeSelect);\n    const contentContext = useSelectContentContext(ITEM_NAME, __scopeSelect);\n    const isSelected = context.value === value;\n    const [textValue, setTextValue] = React.useState(textValueProp ?? \"\");\n    const [isFocused, setIsFocused] = React.useState(false);\n    const composedRefs = useComposedRefs(\n      forwardedRef,\n      (node) => contentContext.itemRefCallback?.(node, value, disabled)\n    );\n    const textId = useId();\n    const pointerTypeRef = React.useRef(\"touch\");\n    const handleSelect = () => {\n      if (!disabled) {\n        context.onValueChange(value);\n        context.onOpenChange(false);\n      }\n    };\n    if (value === \"\") {\n      throw new Error(\n        \"A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.\"\n      );\n    }\n    return /* @__PURE__ */ jsx(\n      SelectItemContextProvider,\n      {\n        scope: __scopeSelect,\n        value,\n        disabled,\n        textId,\n        isSelected,\n        onItemTextChange: React.useCallback((node) => {\n          setTextValue((prevTextValue) => prevTextValue || (node?.textContent ?? \"\").trim());\n        }, []),\n        children: /* @__PURE__ */ jsx(\n          Collection.ItemSlot,\n          {\n            scope: __scopeSelect,\n            value,\n            disabled,\n            textValue,\n            children: /* @__PURE__ */ jsx(\n              Primitive.div,\n              {\n                role: \"option\",\n                \"aria-labelledby\": textId,\n                \"data-highlighted\": isFocused ? \"\" : void 0,\n                \"aria-selected\": isSelected && isFocused,\n                \"data-state\": isSelected ? \"checked\" : \"unchecked\",\n                \"aria-disabled\": disabled || void 0,\n                \"data-disabled\": disabled ? \"\" : void 0,\n                tabIndex: disabled ? void 0 : -1,\n                ...itemProps,\n                ref: composedRefs,\n                onFocus: composeEventHandlers(itemProps.onFocus, () => setIsFocused(true)),\n                onBlur: composeEventHandlers(itemProps.onBlur, () => setIsFocused(false)),\n                onClick: composeEventHandlers(itemProps.onClick, () => {\n                  if (pointerTypeRef.current !== \"mouse\") handleSelect();\n                }),\n                onPointerUp: composeEventHandlers(itemProps.onPointerUp, () => {\n                  if (pointerTypeRef.current === \"mouse\") handleSelect();\n                }),\n                onPointerDown: composeEventHandlers(itemProps.onPointerDown, (event) => {\n                  pointerTypeRef.current = event.pointerType;\n                }),\n                onPointerMove: composeEventHandlers(itemProps.onPointerMove, (event) => {\n                  pointerTypeRef.current = event.pointerType;\n                  if (disabled) {\n                    contentContext.onItemLeave?.();\n                  } else if (pointerTypeRef.current === \"mouse\") {\n                    event.currentTarget.focus({ preventScroll: true });\n                  }\n                }),\n                onPointerLeave: composeEventHandlers(itemProps.onPointerLeave, (event) => {\n                  if (event.currentTarget === document.activeElement) {\n                    contentContext.onItemLeave?.();\n                  }\n                }),\n                onKeyDown: composeEventHandlers(itemProps.onKeyDown, (event) => {\n                  const isTypingAhead = contentContext.searchRef?.current !== \"\";\n                  if (isTypingAhead && event.key === \" \") return;\n                  if (SELECTION_KEYS.includes(event.key)) handleSelect();\n                  if (event.key === \" \") event.preventDefault();\n                })\n              }\n            )\n          }\n        )\n      }\n    );\n  }\n);\nSelectItem.displayName = ITEM_NAME;\nvar ITEM_TEXT_NAME = \"SelectItemText\";\nvar SelectItemText = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, className, style, ...itemTextProps } = props;\n    const context = useSelectContext(ITEM_TEXT_NAME, __scopeSelect);\n    const contentContext = useSelectContentContext(ITEM_TEXT_NAME, __scopeSelect);\n    const itemContext = useSelectItemContext(ITEM_TEXT_NAME, __scopeSelect);\n    const nativeOptionsContext = useSelectNativeOptionsContext(ITEM_TEXT_NAME, __scopeSelect);\n    const [itemTextNode, setItemTextNode] = React.useState(null);\n    const composedRefs = useComposedRefs(\n      forwardedRef,\n      (node) => setItemTextNode(node),\n      itemContext.onItemTextChange,\n      (node) => contentContext.itemTextRefCallback?.(node, itemContext.value, itemContext.disabled)\n    );\n    const textContent = itemTextNode?.textContent;\n    const nativeOption = React.useMemo(\n      () => /* @__PURE__ */ jsx(\"option\", { value: itemContext.value, disabled: itemContext.disabled, children: textContent }, itemContext.value),\n      [itemContext.disabled, itemContext.value, textContent]\n    );\n    const { onNativeOptionAdd, onNativeOptionRemove } = nativeOptionsContext;\n    useLayoutEffect(() => {\n      onNativeOptionAdd(nativeOption);\n      return () => onNativeOptionRemove(nativeOption);\n    }, [onNativeOptionAdd, onNativeOptionRemove, nativeOption]);\n    return /* @__PURE__ */ jsxs(Fragment, { children: [\n      /* @__PURE__ */ jsx(Primitive.span, { id: itemContext.textId, ...itemTextProps, ref: composedRefs }),\n      itemContext.isSelected && context.valueNode && !context.valueNodeHasChildren ? ReactDOM.createPortal(itemTextProps.children, context.valueNode) : null\n    ] });\n  }\n);\nSelectItemText.displayName = ITEM_TEXT_NAME;\nvar ITEM_INDICATOR_NAME = \"SelectItemIndicator\";\nvar SelectItemIndicator = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, ...itemIndicatorProps } = props;\n    const itemContext = useSelectItemContext(ITEM_INDICATOR_NAME, __scopeSelect);\n    return itemContext.isSelected ? /* @__PURE__ */ jsx(Primitive.span, { \"aria-hidden\": true, ...itemIndicatorProps, ref: forwardedRef }) : null;\n  }\n);\nSelectItemIndicator.displayName = ITEM_INDICATOR_NAME;\nvar SCROLL_UP_BUTTON_NAME = \"SelectScrollUpButton\";\nvar SelectScrollUpButton = React.forwardRef((props, forwardedRef) => {\n  const contentContext = useSelectContentContext(SCROLL_UP_BUTTON_NAME, props.__scopeSelect);\n  const viewportContext = useSelectViewportContext(SCROLL_UP_BUTTON_NAME, props.__scopeSelect);\n  const [canScrollUp, setCanScrollUp] = React.useState(false);\n  const composedRefs = useComposedRefs(forwardedRef, viewportContext.onScrollButtonChange);\n  useLayoutEffect(() => {\n    if (contentContext.viewport && contentContext.isPositioned) {\n      let handleScroll2 = function() {\n        const canScrollUp2 = viewport.scrollTop > 0;\n        setCanScrollUp(canScrollUp2);\n      };\n      var handleScroll = handleScroll2;\n      const viewport = contentContext.viewport;\n      handleScroll2();\n      viewport.addEventListener(\"scroll\", handleScroll2);\n      return () => viewport.removeEventListener(\"scroll\", handleScroll2);\n    }\n  }, [contentContext.viewport, contentContext.isPositioned]);\n  return canScrollUp ? /* @__PURE__ */ jsx(\n    SelectScrollButtonImpl,\n    {\n      ...props,\n      ref: composedRefs,\n      onAutoScroll: () => {\n        const { viewport, selectedItem } = contentContext;\n        if (viewport && selectedItem) {\n          viewport.scrollTop = viewport.scrollTop - selectedItem.offsetHeight;\n        }\n      }\n    }\n  ) : null;\n});\nSelectScrollUpButton.displayName = SCROLL_UP_BUTTON_NAME;\nvar SCROLL_DOWN_BUTTON_NAME = \"SelectScrollDownButton\";\nvar SelectScrollDownButton = React.forwardRef((props, forwardedRef) => {\n  const contentContext = useSelectContentContext(SCROLL_DOWN_BUTTON_NAME, props.__scopeSelect);\n  const viewportContext = useSelectViewportContext(SCROLL_DOWN_BUTTON_NAME, props.__scopeSelect);\n  const [canScrollDown, setCanScrollDown] = React.useState(false);\n  const composedRefs = useComposedRefs(forwardedRef, viewportContext.onScrollButtonChange);\n  useLayoutEffect(() => {\n    if (contentContext.viewport && contentContext.isPositioned) {\n      let handleScroll2 = function() {\n        const maxScroll = viewport.scrollHeight - viewport.clientHeight;\n        const canScrollDown2 = Math.ceil(viewport.scrollTop) < maxScroll;\n        setCanScrollDown(canScrollDown2);\n      };\n      var handleScroll = handleScroll2;\n      const viewport = contentContext.viewport;\n      handleScroll2();\n      viewport.addEventListener(\"scroll\", handleScroll2);\n      return () => viewport.removeEventListener(\"scroll\", handleScroll2);\n    }\n  }, [contentContext.viewport, contentContext.isPositioned]);\n  return canScrollDown ? /* @__PURE__ */ jsx(\n    SelectScrollButtonImpl,\n    {\n      ...props,\n      ref: composedRefs,\n      onAutoScroll: () => {\n        const { viewport, selectedItem } = contentContext;\n        if (viewport && selectedItem) {\n          viewport.scrollTop = viewport.scrollTop + selectedItem.offsetHeight;\n        }\n      }\n    }\n  ) : null;\n});\nSelectScrollDownButton.displayName = SCROLL_DOWN_BUTTON_NAME;\nvar SelectScrollButtonImpl = React.forwardRef((props, forwardedRef) => {\n  const { __scopeSelect, onAutoScroll, ...scrollIndicatorProps } = props;\n  const contentContext = useSelectContentContext(\"SelectScrollButton\", __scopeSelect);\n  const autoScrollTimerRef = React.useRef(null);\n  const getItems = useCollection(__scopeSelect);\n  const clearAutoScrollTimer = React.useCallback(() => {\n    if (autoScrollTimerRef.current !== null) {\n      window.clearInterval(autoScrollTimerRef.current);\n      autoScrollTimerRef.current = null;\n    }\n  }, []);\n  React.useEffect(() => {\n    return () => clearAutoScrollTimer();\n  }, [clearAutoScrollTimer]);\n  useLayoutEffect(() => {\n    const activeItem = getItems().find((item) => item.ref.current === document.activeElement);\n    activeItem?.ref.current?.scrollIntoView({ block: \"nearest\" });\n  }, [getItems]);\n  return /* @__PURE__ */ jsx(\n    Primitive.div,\n    {\n      \"aria-hidden\": true,\n      ...scrollIndicatorProps,\n      ref: forwardedRef,\n      style: { flexShrink: 0, ...scrollIndicatorProps.style },\n      onPointerDown: composeEventHandlers(scrollIndicatorProps.onPointerDown, () => {\n        if (autoScrollTimerRef.current === null) {\n          autoScrollTimerRef.current = window.setInterval(onAutoScroll, 50);\n        }\n      }),\n      onPointerMove: composeEventHandlers(scrollIndicatorProps.onPointerMove, () => {\n        contentContext.onItemLeave?.();\n        if (autoScrollTimerRef.current === null) {\n          autoScrollTimerRef.current = window.setInterval(onAutoScroll, 50);\n        }\n      }),\n      onPointerLeave: composeEventHandlers(scrollIndicatorProps.onPointerLeave, () => {\n        clearAutoScrollTimer();\n      })\n    }\n  );\n});\nvar SEPARATOR_NAME = \"SelectSeparator\";\nvar SelectSeparator = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, ...separatorProps } = props;\n    return /* @__PURE__ */ jsx(Primitive.div, { \"aria-hidden\": true, ...separatorProps, ref: forwardedRef });\n  }\n);\nSelectSeparator.displayName = SEPARATOR_NAME;\nvar ARROW_NAME = \"SelectArrow\";\nvar SelectArrow = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, ...arrowProps } = props;\n    const popperScope = usePopperScope(__scopeSelect);\n    const context = useSelectContext(ARROW_NAME, __scopeSelect);\n    const contentContext = useSelectContentContext(ARROW_NAME, __scopeSelect);\n    return context.open && contentContext.position === \"popper\" ? /* @__PURE__ */ jsx(PopperPrimitive.Arrow, { ...popperScope, ...arrowProps, ref: forwardedRef }) : null;\n  }\n);\nSelectArrow.displayName = ARROW_NAME;\nvar BUBBLE_INPUT_NAME = \"SelectBubbleInput\";\nvar SelectBubbleInput = React.forwardRef(\n  ({ __scopeSelect, value, ...props }, forwardedRef) => {\n    const ref = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    const prevValue = usePrevious(value);\n    React.useEffect(() => {\n      const select = ref.current;\n      if (!select) return;\n      const selectProto = window.HTMLSelectElement.prototype;\n      const descriptor = Object.getOwnPropertyDescriptor(\n        selectProto,\n        \"value\"\n      );\n      const setValue = descriptor.set;\n      if (prevValue !== value && setValue) {\n        const event = new Event(\"change\", { bubbles: true });\n        setValue.call(select, value);\n        select.dispatchEvent(event);\n      }\n    }, [prevValue, value]);\n    return /* @__PURE__ */ jsx(\n      Primitive.select,\n      {\n        ...props,\n        style: { ...VISUALLY_HIDDEN_STYLES, ...props.style },\n        ref: composedRefs,\n        defaultValue: value\n      }\n    );\n  }\n);\nSelectBubbleInput.displayName = BUBBLE_INPUT_NAME;\nfunction shouldShowPlaceholder(value) {\n  return value === \"\" || value === void 0;\n}\nfunction useTypeaheadSearch(onSearchChange) {\n  const handleSearchChange = useCallbackRef(onSearchChange);\n  const searchRef = React.useRef(\"\");\n  const timerRef = React.useRef(0);\n  const handleTypeaheadSearch = React.useCallback(\n    (key) => {\n      const search = searchRef.current + key;\n      handleSearchChange(search);\n      (function updateSearch(value) {\n        searchRef.current = value;\n        window.clearTimeout(timerRef.current);\n        if (value !== \"\") timerRef.current = window.setTimeout(() => updateSearch(\"\"), 1e3);\n      })(search);\n    },\n    [handleSearchChange]\n  );\n  const resetTypeahead = React.useCallback(() => {\n    searchRef.current = \"\";\n    window.clearTimeout(timerRef.current);\n  }, []);\n  React.useEffect(() => {\n    return () => window.clearTimeout(timerRef.current);\n  }, []);\n  return [searchRef, handleTypeaheadSearch, resetTypeahead];\n}\nfunction findNextItem(items, search, currentItem) {\n  const isRepeated = search.length > 1 && Array.from(search).every((char) => char === search[0]);\n  const normalizedSearch = isRepeated ? search[0] : search;\n  const currentItemIndex = currentItem ? items.indexOf(currentItem) : -1;\n  let wrappedItems = wrapArray(items, Math.max(currentItemIndex, 0));\n  const excludeCurrentItem = normalizedSearch.length === 1;\n  if (excludeCurrentItem) wrappedItems = wrappedItems.filter((v) => v !== currentItem);\n  const nextItem = wrappedItems.find(\n    (item) => item.textValue.toLowerCase().startsWith(normalizedSearch.toLowerCase())\n  );\n  return nextItem !== currentItem ? nextItem : void 0;\n}\nfunction wrapArray(array, startIndex) {\n  return array.map((_, index) => array[(startIndex + index) % array.length]);\n}\nvar Root2 = Select;\nvar Trigger = SelectTrigger;\nvar Value = SelectValue;\nvar Icon = SelectIcon;\nvar Portal = SelectPortal;\nvar Content2 = SelectContent;\nvar Viewport = SelectViewport;\nvar Group = SelectGroup;\nvar Label = SelectLabel;\nvar Item = SelectItem;\nvar ItemText = SelectItemText;\nvar ItemIndicator = SelectItemIndicator;\nvar ScrollUpButton = SelectScrollUpButton;\nvar ScrollDownButton = SelectScrollDownButton;\nvar Separator = SelectSeparator;\nvar Arrow2 = SelectArrow;\nexport {\n  Arrow2 as Arrow,\n  Content2 as Content,\n  Group,\n  Icon,\n  Item,\n  ItemIndicator,\n  ItemText,\n  Label,\n  Portal,\n  Root2 as Root,\n  ScrollDownButton,\n  ScrollUpButton,\n  Select,\n  SelectArrow,\n  SelectContent,\n  SelectGroup,\n  SelectIcon,\n  SelectItem,\n  SelectItemIndicator,\n  SelectItemText,\n  SelectLabel,\n  SelectPortal,\n  SelectScrollDownButton,\n  SelectScrollUpButton,\n  SelectSeparator,\n  SelectTrigger,\n  SelectValue,\n  SelectViewport,\n  Separator,\n  Trigger,\n  Value,\n  Viewport,\n  createSelectScope\n};\n//# sourceMappingURL=index.mjs.map\n","import * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n","/**\n * Type definitions for astrology components\n */\n\n// Birth data structure\nexport interface BirthDataProps {\n  date: string;\n  time: string;\n  timeUnknown: boolean;\n  city: string;\n}\n\n// Props for the main NatalChartProfile component\nexport interface NatalChartProfileProps {\n  birthData?: BirthDataProps;\n  userId?: string;\n  onDataLoad?: (data: {\n    natalChartData?: any;\n    planetaryCounts?: number[];\n    planetsPerSign?: Record<string, string[]>;\n  }) => void;\n  natalChartData?: any;\n  planetaryCounts?: number[];\n  planetsPerSign?: Record<string, string[]>;\n  className?: string;\n}\n\n// Props for the NatalChart component\nexport interface NatalChartProps {\n  astroData: any;\n  isLoading: boolean;\n  error: Error | null;\n  onDownload: () => Promise<void>;\n  onShare: () => Promise<void>;\n  isDownloading: boolean;\n}\n\n// Props for the PlanetaryCountChart component\nexport interface PlanetaryCountChartProps {\n  planetCounts: number[] | null;\n  planetsPerSign: Record<string, string[]> | null;\n  isLoading: boolean;\n  error: Error | null;\n  onDownload: () => Promise<void>;\n  onShare: () => Promise<void>;\n  isDownloading: boolean;\n  className?: string;\n}\n\n// Props for placeholder components\nexport interface ChartPlaceholderProps {\n  showForm?: boolean;\n  setShowForm?: (show: boolean) => void;\n  propBirthData?: BirthDataProps;\n}\n\n// User data structure from Supabase\nexport interface UserData {\n  id: string;\n  birth_date?: string;\n  birth_time?: string;\n  birth_city?: string;\n  birth_time_unknown?: boolean;\n  planetary_data?: any;\n  planetary_count?: number[];\n  planets_per_sign?: Record<string, string[]>;\n  created_at?: string;\n  updated_at?: string;\n}\n\n// Chart.js instance type\nexport interface ChartInstance {\n  destroy: () => void;\n}\n\n// AstroChart instance type\nexport interface AstroChartInstance {\n  radix: (data: {\n    planets: Record<string, number[]>;\n    cusps: number[];\n  }) => void;\n  destroy?: () => void;\n}\n\n// Zodiac sign names\nexport const ZODIAC_SIGNS = [\n  'Aries', 'Taurus', 'Gemini', 'Cancer', \n  'Leo', 'Virgo', 'Libra', 'Scorpio', \n  'Sagittarius', 'Capricorn', 'Aquarius', 'Pisces'\n];\n\n// Planet names for reference\nexport const PLANET_NAMES = [\n  'Sun', 'Moon', 'Mercury', 'Venus', 'Mars', \n  'Jupiter', 'Saturn', 'Uranus', 'Neptune', 'Pluto'\n];\n","/**\n * Utility functions for astrological chart components\n */\nimport { ZODIAC_SIGNS } from './types';\n\n/**\n * Calculate the number of planets in each zodiac sign\n * @param planetaryData - The planetary data from API or Supabase\n * @returns Record mapping zodiac sign names to counts\n */\nexport const calculatePlanetaryCounts = (planetaryData: any): Record<string, number> => {\n  console.log('calculatePlanetaryCounts received data:', planetaryData);\n  \n  if (!planetaryData || !planetaryData.planets) {\n    console.log('No planetary data or planets array found');\n    return ZODIAC_SIGNS.reduce((acc, sign) => ({ ...acc, [sign]: 0 }), {});\n  }\n\n  // Initialize counts for each sign\n  const counts: Record<string, number> = ZODIAC_SIGNS.reduce((acc, sign) => ({ ...acc, [sign]: 0 }), {});\n\n  // Handle both array and object formats\n  if (Array.isArray(planetaryData.planets)) {\n    // New API format: planets is an array of objects with { name, sign, angle, etc. }\n    planetaryData.planets.forEach((planet: any) => {\n      if (planet && planet.sign && ZODIAC_SIGNS.includes(planet.sign)) {\n        counts[planet.sign]++;\n      }\n    });\n  } else {\n    // Legacy format: planets is an object with planet names as keys\n    Object.entries(planetaryData.planets).forEach(([planet, data]: [string, any]) => {\n      if (data && typeof data.lon === 'number') {\n        const signIndex = Math.floor(data.lon / 30) % 12;\n        const sign = ZODIAC_SIGNS[signIndex];\n        counts[sign]++;\n      }\n    });\n  }\n\n  console.log('Calculated planetary counts:', counts);\n  return counts;\n};\n\n/**\n * Process planets per sign to get a mapping of which planets are in each sign\n * @param planetaryData - The planetary data from API or Supabase\n * @returns Record mapping zodiac sign names to arrays of planet names\n */\nexport const processPlanetsPerSign = (planetaryData: any): Record<string, string[]> => {\n  console.log('processPlanetsPerSign received data:', planetaryData);\n  \n  if (!planetaryData || !planetaryData.planets) {\n    console.log('No planetary data or planets array found');\n    return ZODIAC_SIGNS.reduce((acc, sign) => ({ ...acc, [sign]: [] }), {});\n  }\n\n  // Initialize empty arrays for each sign\n  const planetsPerSign: Record<string, string[]> = ZODIAC_SIGNS.reduce((acc, sign) => ({ ...acc, [sign]: [] }), {});\n\n  // Handle both array and object formats\n  if (Array.isArray(planetaryData.planets)) {\n    // New API format: planets is an array of objects with { name, sign, angle, etc. }\n    planetaryData.planets.forEach((planet: any) => {\n      if (planet && planet.name && planet.sign && ZODIAC_SIGNS.includes(planet.sign)) {\n        planetsPerSign[planet.sign].push(planet.name);\n      }\n    });\n  } else {\n    // Legacy format: planets is an object with planet names as keys\n    Object.entries(planetaryData.planets).forEach(([planet, data]: [string, any]) => {\n      if (data && typeof data.lon === 'number') {\n        const signIndex = Math.floor(data.lon / 30) % 12;\n        const sign = ZODIAC_SIGNS[signIndex];\n        planetsPerSign[sign].push(planet);\n      }\n    });\n  }\n\n  console.log('Processed planets per sign:', planetsPerSign);\n  return planetsPerSign;\n};\n\n/**\n * Convert planetary counts object to array format for Chart.js\n * @param counts - Record mapping zodiac sign names to counts\n * @returns Array of counts in zodiac sign order\n */\nexport const countsToArray = (counts: Record<string, number>): number[] => {\n  return ZODIAC_SIGNS.map(sign => counts[sign] || 0);\n};\n\n/**\n * Generate aspect lines data for SVG visualization\n * @param counts - Array of planetary counts by zodiac sign\n * @returns Array of line data objects\n */\nexport interface AspectLineData {\n  key: string;\n  x1: number;\n  y1: number;\n  x2: number;\n  y2: number;\n  stroke: string;\n  strokeWidth: string;\n  strokeDasharray: string;\n}\n\nexport const generateAspectLines = (counts: number[]): AspectLineData[] => {\n  const strongSigns = counts\n    .map((count, i) => ({count, index: i}))\n    .filter(item => item.count > 1)\n    .sort((a, b) => b.count - a.count);\n\n  const lines: AspectLineData[] = [];\n\n  for (let i = 0; i < Math.min(strongSigns.length, 4); i++) {\n    for (let j = i + 1; j < Math.min(strongSigns.length, 4); j++) {\n      const angle1 = strongSigns[i].index * 30;\n      const angle2 = strongSigns[j].index * 30;\n      const diff = Math.abs(angle1 - angle2);\n\n      // Only draw aspects for significant angular relationships\n      if ([0, 30, 60, 90, 120, 150, 180].includes(diff % 180)) {\n        const x1 = 50 + 40 * Math.cos((angle1 - 90) * Math.PI / 180);\n        const y1 = 50 + 40 * Math.sin((angle1 - 90) * Math.PI / 180);\n        const x2 = 50 + 40 * Math.cos((angle2 - 90) * Math.PI / 180);\n        const y2 = 50 + 40 * Math.sin((angle2 - 90) * Math.PI / 180);\n\n        lines.push({\n          key: `${i}-${j}`,\n          x1,\n          y1,\n          x2,\n          y2,\n          stroke: \"rgba(255, 215, 0, 0.7)\",\n          strokeWidth: \"0.5\",\n          strokeDasharray: diff % 30 === 0 ? '0' : '2,2'\n        });\n      }\n    }\n  }\n  \n  return lines;\n};\n\n/**\n * Clean up Chart.js instance safely\n * @param chartInstance - The Chart.js instance to destroy\n */\nexport const cleanupChartInstance = (chartInstance: any): void => {\n  if (!chartInstance) return;\n  \n  try {\n    if (typeof chartInstance.destroy === 'function') {\n      chartInstance.destroy();\n    }\n  } catch (error) {\n    console.error('Error destroying chart instance:', error);\n  }\n};\n\n/**\n * Format data for AstroChart library\n * @param astroData - The astrological data\n * @returns Formatted data for AstroChart\n */\nexport const formatAstroChartData = (astroData: any): { planets: Record<string, number[]>; cusps: number[] } => {\n  console.log('formatAstroChartData received data:', astroData);\n  console.log('formatAstroChartData - cusps in data:', astroData?.cusps);\n  console.log('formatAstroChartData - houses in data:', astroData?.houses);\n  \n  // Get cusps from the response, checking multiple possible locations\n  let cusps: number[] = [];\n  let cuspSource = 'unknown';\n  \n  // Check for cusps in all possible locations, in order of priority\n  if (astroData?.astroChartData?.cusps && Array.isArray(astroData.astroChartData.cusps) && astroData.astroChartData.cusps.length === 12) {\n    // First priority: Use cusps from astroChartData.cusps (from Supabase)\n    cusps = astroData.astroChartData.cusps;\n    cuspSource = 'astroChartData.cusps';\n    console.log('Using cusps from astroChartData.cusps:', cusps);\n  } else if (astroData?.cusps && Array.isArray(astroData.cusps) && astroData.cusps.length === 12) {\n    // Second priority: Use cusps array directly if available and valid\n    cusps = astroData.cusps;\n    cuspSource = 'direct cusps array';\n    console.log('Using cusps directly from astroData.cusps:', cusps);\n  } else if (astroData?.planetary_data?.cusps && Array.isArray(astroData.planetary_data.cusps) && astroData.planetary_data.cusps.length === 12) {\n    // Third priority: Check in planetary_data.cusps (another possible Supabase location)\n    cusps = astroData.planetary_data.cusps;\n    cuspSource = 'planetary_data.cusps';\n    console.log('Using cusps from planetary_data.cusps:', cusps);\n  } else if (astroData?.planetary_data?.astroChartData?.cusps && Array.isArray(astroData.planetary_data.astroChartData.cusps) && astroData.planetary_data.astroChartData.cusps.length === 12) {\n    // Fourth priority: Check in planetary_data.astroChartData.cusps\n    cusps = astroData.planetary_data.astroChartData.cusps;\n    cuspSource = 'planetary_data.astroChartData.cusps';\n    console.log('Using cusps from planetary_data.astroChartData.cusps:', cusps);\n  } else if (astroData?.houses && Array.isArray(astroData.houses)) {\n    // Fifth priority: Fall back to extracting cusps from houses array\n    cusps = astroData.houses.map((house: any) => \n      typeof house === 'number' ? house : house.cusp\n    );\n    cuspSource = 'houses array';\n    console.log('Extracted cusps from astroData.houses:', cusps);\n  } else {\n    // Last resort: If no cusps data is available, calculate equal houses\n    console.warn('No house cusps found in any location, using equal houses as fallback');\n    cusps = Array.from({ length: 12 }, (_, i) => i * 30);\n    cuspSource = 'equal houses fallback';\n  }\n  \n  // Validate cusps to ensure they're all numbers\n  const validCusps = cusps.every(cusp => typeof cusp === 'number' && !isNaN(cusp));\n  if (!validCusps) {\n    console.error('Invalid cusps detected:', cusps);\n    console.warn('Falling back to equal houses due to invalid cusps');\n    cusps = Array.from({ length: 12 }, (_, i) => i * 30);\n    cuspSource = 'equal houses fallback (invalid cusps)';\n  }\n  \n  console.log(`Using cusps from ${cuspSource}:`, cusps);\n  \n  const chartData: { planets: Record<string, number[]>; cusps: number[] } = {\n    planets: {},\n    cusps: cusps\n  };\n  \n  console.log('Using cusps:', chartData.cusps);\n\n  // Convert planet data to the format expected by AstroChart\n  if (astroData?.planets) {\n    if (Array.isArray(astroData.planets)) {\n      // New API format: planets is an array of objects\n      astroData.planets.forEach((planet: any) => {\n        if (planet && planet.name && (typeof planet.angle === 'number' || typeof planet.lon === 'number')) {\n          const angle = typeof planet.angle === 'number' ? planet.angle : planet.lon;\n          chartData.planets[planet.name] = [angle, 0, 0, 0];\n        }\n      });\n    } else if (typeof astroData.planets === 'object') {\n      // Legacy format: planets is an object with planet names as keys\n      Object.entries(astroData.planets).forEach(([name, planetData]: [string, any]) => {\n        if (planetData && (typeof planetData.lon === 'number' || typeof planetData.angle === 'number')) {\n          const angle = typeof planetData.lon === 'number' ? planetData.lon : planetData.angle;\n          chartData.planets[name] = [angle, 0, 0, 0];\n        }\n      });\n    }\n  }\n\n  console.log('Formatted chart data:', chartData);\n  return chartData;\n};\n","import React, { useState } from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Switch } from '@/components/ui/switch';\nimport { Loader2 } from 'lucide-react';\nimport { useToast } from '@/components/ui/use-toast';\nimport { supabase } from '@/lib/supabase';\nimport { calculatePlanetaryCounts, processPlanetsPerSign, countsToArray } from '@/components/astrology/utils/chartUtils';\nimport cities from '@/data/cities-clean.json';\nimport { useEffect, useMemo } from 'react';\n\ninterface UserBirthDataFormProps {\n  userId: string;\n  onSuccess?: (userData: any) => void;\n  defaultValues?: {\n    birthDate?: string;\n    birthTime?: string;\n    birthCity?: string;\n    timeUnknown?: boolean;\n    birthLatitude?: number;\n    birthLongitude?: number;\n  };\n}\n\nconst UserBirthDataForm: React.FC<UserBirthDataFormProps> = ({ \n  userId,\n  onSuccess,\n  defaultValues = {}\n}) => {\n  const { toast } = useToast();\n  const [isLoading, setIsLoading] = useState(false);\n  const [formData, setFormData] = useState({\n    birthDate: defaultValues?.birthDate || '',\n    birthTime: defaultValues?.birthTime || '',\n    birthCity: defaultValues?.birthCity || ''\n  });\n  const [selectedCity, setSelectedCity] = useState<any>(null);\n  const [timeUnknown, setTimeUnknown] = useState(defaultValues?.timeUnknown || false);\n  const [citySuggestions, setCitySuggestions] = useState<any[]>([]);\n  const [cityError, setCityError] = useState<string | null>(null);\n\n  // Memoize city data for fast lookup\n  const cityData = cities;\n\n  // Find city by name (case insensitive)\n  const findCityData = (cityName: string) => {\n    return cityData.find(c => c.name.toLowerCase() === cityName.toLowerCase());\n  };\n\n  // Suggest cities as user types\n  useEffect(() => {\n    if (formData.birthCity.length > 0) {\n      const searchTerm = formData.birthCity.toLowerCase();\n      const filtered = cityData\n        .filter(city => \n          city.name.toLowerCase().includes(searchTerm) ||\n          (city.admin1 && city.admin1.toLowerCase().includes(searchTerm))\n        );\n\n      // De-duplicate the suggestions to prevent key errors\n      const uniqueSuggestions: any[] = [];\n      const seen = new Set();\n      for (const city of filtered) {\n        const key = `${city.name}-${city.admin1}`; // Use a consistent key for de-duplication\n        if (!seen.has(key)) {\n          uniqueSuggestions.push(city);\n          seen.add(key);\n        }\n      }\n      setCitySuggestions(uniqueSuggestions.slice(0, 8)); // Show a limited number of unique suggestions\n    } else {\n      setCitySuggestions([]);\n    }\n  }, [formData.birthCity, cityData]);\n\n  // Validate city on blur or submit\n  const validateCity = (cityName: string) => {\n    if (!cityName) {\n      setCityError('Please enter a city');\n      setSelectedCity(null);\n      return false;\n    }\n    \n    const found = findCityData(cityName);\n    if (!found) {\n      setCityError('Please select a valid city from the suggestions.');\n      setSelectedCity(null);\n      return false;\n    }\n    // If a valid city is found, update the selected city state\n    setSelectedCity(found);\n    setCityError(null);\n    return true;\n  };\n  \n  // Handle city selection from dropdown\n  const handleCitySelect = (city: any) => {\n    setFormData(prev => ({ ...prev, birthCity: city.name }));\n    setSelectedCity(city); // Store the full city object with coordinates\n    setCityError(null);\n    setCitySuggestions([]);\n  };\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value, type, checked } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: type === 'checkbox' ? checked : value\n    }));\n  };\n\n  useEffect(() => {\n    if (defaultValues?.birthCity) {\n      const city = findCityData(defaultValues.birthCity);\n      if (city) {\n        setSelectedCity(city);\n        validateCity(defaultValues.birthCity);\n      }\n    }\n  }, [defaultValues]);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setIsLoading(true);\n    \n    // Check if a city has been selected\n    if (!selectedCity) {\n      setCityError('Please select a valid city from the suggestions.');\n      setIsLoading(false);\n      return;\n    }\n\n    try {\n      // Validate required fields\n      if (!formData.birthDate) {\n        throw new Error('Birth date is required');\n      }\n\n      // Transform birth data into the format expected by the API\n      const [year, month, day] = formData.birthDate.split('-').map(Number);\n      let hour = 12, minute = 0; // Default to noon if time is unknown\n\n      if (!timeUnknown && formData.birthTime) {\n        const timeParts = formData.birthTime.split(':');\n        const parsedHour = parseInt(timeParts[0], 10);\n        const parsedMinute = parseInt(timeParts[1], 10);\n        if (!isNaN(parsedHour)) hour = parsedHour;\n        if (!isNaN(parsedMinute)) minute = parsedMinute;\n      }\n\n      const lat = parseFloat(selectedCity.lat);\n      const lng = parseFloat(selectedCity.lng);\n\n      // Add validation to ensure coordinates are valid numbers\n      if (isNaN(lat) || isNaN(lng)) {\n        throw new Error('The selected city has invalid location data. Please try another city.');\n      }\n\n      // Always include timezoneOffset in API payload for accurate UTC calculation\n      const timezoneOffset = new Date().getTimezoneOffset();\n      const apiData = {\n        year,\n        month,\n        day,\n        hour,\n        minute,\n        city: formData.birthCity,\n        latitude: lat,\n        longitude: lng,\n        timezoneOffset // IMPORTANT: ensures backend uses correct local-to-UTC conversion\n      };\n\n      console.log('Calling astrology API with data:', apiData);\n      \n      // Add a timeout to the API call to prevent it from hanging indefinitely\n      const controller = new AbortController();\n      const timeoutId = setTimeout(() => controller.abort(), 20000); // 20-second timeout\n\n      // Call the astrology API\n      const positionsResponse = await fetch(`/api/astrology/positions`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(apiData),\n        signal: controller.signal,\n      });\n\n      // If the request completes, clear the timeout\n      clearTimeout(timeoutId);\n      \n      if (!positionsResponse.ok) {\n        // Attempt to read the detailed error message from the server's response\n        const errorBody = await positionsResponse.json().catch(() => null);\n        const serverMessage = errorBody?.message || errorBody?.error || `Server responded with status ${positionsResponse.status}`;\n        console.error('API Error Response:', errorBody); // Log the full error for debugging\n        throw new Error(serverMessage);\n      }\n      \n      const planetaryData = await positionsResponse.json();\n      console.log('Received planetary data:', planetaryData);\n      \n      // Add detailed logging of the API response structure\n      console.log('API RESPONSE KEYS:', Object.keys(planetaryData));\n      console.log('API RESPONSE CUSPS EXISTS:', !!planetaryData.cusps);\n      if (planetaryData.cusps) {\n        console.log('API RESPONSE CUSPS:', planetaryData.cusps);\n        console.log('API RESPONSE CUSPS TYPE:', typeof planetaryData.cusps);\n        console.log('API RESPONSE CUSPS ISARRAY:', Array.isArray(planetaryData.cusps));\n        console.log('API RESPONSE CUSPS LENGTH:', planetaryData.cusps.length);\n      }\n      \n      console.log('API RESPONSE ASTROCHARTDATA EXISTS:', !!planetaryData.astroChartData);\n      if (planetaryData.astroChartData) {\n        console.log('API RESPONSE ASTROCHARTDATA KEYS:', Object.keys(planetaryData.astroChartData));\n        console.log('API RESPONSE ASTROCHARTDATA.CUSPS EXISTS:', !!planetaryData.astroChartData.cusps);\n      }\n      \n      // CRITICAL: Make sure cusps are preserved in the planetary data\n      // If the API returns cusps but they're not in the top level, add them\n      if (planetaryData.cusps && Array.isArray(planetaryData.cusps) && planetaryData.cusps.length === 12) {\n        console.log('Found cusps array in API response:', planetaryData.cusps);\n        \n        // Ensure cusps are also in astroChartData for consistency when saving to Supabase\n        if (!planetaryData.astroChartData) {\n          planetaryData.astroChartData = {};\n        }\n        planetaryData.astroChartData.cusps = planetaryData.cusps;\n        \n      } else if (planetaryData.astroChartData?.cusps && Array.isArray(planetaryData.astroChartData.cusps)) {\n        // If cusps are nested in astroChartData, move them to the top level\n        planetaryData.cusps = planetaryData.astroChartData.cusps;\n        console.log('Moved cusps from astroChartData to top level:', planetaryData.cusps);\n      } else {\n        console.warn('No valid cusps array found in API response');\n      }\n\n      // Calculate derived astrological data\n      const planetsPerSign = processPlanetsPerSign(planetaryData);\n      const planetaryCounts = countsToArray(calculatePlanetaryCounts(planetaryData));\n      console.log('Calculated planets per sign:', planetsPerSign);\n      console.log('Calculated planetary counts:', planetaryCounts);\n\n      // Log the data we're about to save\n      // Using the same timezoneOffset already detected above\n\n      const userDataToSave = {\n        id: userId,\n        birth_date: formData.birthDate,\n        birth_time: timeUnknown ? null : formData.birthTime,\n        birth_city: formData.birthCity,\n        planetary_data: planetaryData,\n        planets_per_sign: planetsPerSign,\n        planetary_count: planetaryCounts,\n        birth_latitude: lat,\n        birth_longitude: lng,\n        time_unknown: timeUnknown,\n        timezone_offset: timezoneOffset, // Save for reference\n        updated_at: new Date().toISOString()\n      };\n\n      // Pass timezoneOffset in API call payload if needed (example)\n      // If you have an API call that sends birth data, include timezoneOffset as well\n      // Example: { ...birthData, timezoneOffset }\n      \n      console.log('Saving user data to Supabase:', userDataToSave);\n      \n      // Save birth data to the database using the supabase client\n      const { data, error } = await supabase\n        .from('user_data')\n        .upsert(userDataToSave, {\n          onConflict: 'id',\n          returning: 'representation' // This ensures we get the updated record back\n        })\n        .select()\n        .single();\n\n      if (error) {\n        console.error('Supabase error:', error);\n        throw new Error(error.message || 'Failed to save user data');\n      }\n      \n      console.log('Successfully saved user data:', data);\n\n      if (onSuccess) {\n        // Simply signal success; the parent page will re-fetch.\n        onSuccess(data);\n      }\n\n      toast({\n        title: \"Success!\",\n        description: \"Your birth data has been saved.\",\n        variant: \"default\",\n      });\n    } catch (error: any) {\n      if (error.name === 'AbortError') {\n        console.error('API call timed out:', error);\n        toast({\n          title: \"Request Timed Out\",\n          description: \"The server took too long to respond. Please try again later.\",\n          variant: \"destructive\",\n        });\n      } else {\n        console.error('Error saving user data:', error);\n        toast({\n          title: \"Error\",\n          description: error.message || \"Failed to save your data. Please try again.\",\n          variant: \"destructive\",\n        });\n      }\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <Card className=\"w-full max-w-md mx-auto\">\n      <CardHeader className=\"pb-2\">\n        <CardTitle className=\"text-lg\">Birth Details</CardTitle>\n        <CardDescription className=\"text-sm\">\n          For your personalized astrological profile\n        </CardDescription>\n      </CardHeader>\n      <form onSubmit={handleSubmit}>\n        <CardContent className=\"space-y-4\">\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"birthDate\">Birth Date</Label>\n            <Input \n              id=\"birthDate\" \n              name=\"birthDate\" \n              type=\"date\" \n              value={formData.birthDate} \n              onChange={handleInputChange} \n              required \n            />\n          </div>\n          \n          <div className=\"space-y-2\">\n            <Label htmlFor=\"birthTime\">Birth Time</Label>\n            <Input \n              id=\"birthTime\" \n              name=\"birthTime\" \n              type=\"time\" \n              value={formData.birthTime} \n              onChange={handleInputChange} \n              disabled={timeUnknown} \n            />\n            <div className=\"flex items-center gap-2 mt-1\">\n              <Switch \n                id=\"timeUnknown\" \n                checked={timeUnknown} \n                onCheckedChange={setTimeUnknown} \n              />\n              <Label htmlFor=\"timeUnknown\" className=\"text-xs\">Time unknown</Label>\n            </div>\n          </div>\n                    <div className=\"space-y-2 relative\">\n              <Label htmlFor=\"birthCity\">Birth City</Label>\n              <div className=\"relative\">\n                <div className=\"relative\">\n                  <Input \n                    id=\"birthCity\" \n                    name=\"birthCity\" \n                    placeholder=\"Start typing city or state...\"\n                    autoComplete=\"off\"\n                    value={formData.birthCity}\n                    onChange={e => setFormData(f => ({ ...f, birthCity: e.target.value }))}\n                    onBlur={() => {\n                      // Small delay to allow click on suggestions\n                      setTimeout(() => {\n                        validateCity(formData.birthCity);\n                        setCitySuggestions([]);\n                      }, 200);\n                    }}\n                    aria-autocomplete=\"list\"\n                    aria-describedby=\"cityHelp\"\n                    className=\"w-full pr-8\"\n                    required\n                  />\n                  {isLoading && (\n                    <Loader2 className=\"absolute right-2 top-2.5 h-4 w-4 animate-spin text-muted-foreground\" />\n                  )}\n                </div>\n                \n                {cityError && (\n                  <div className=\"text-red-500 text-xs mt-1\">{cityError}</div>\n                )}\n                \n                {citySuggestions.length > 0 && (\n                  <div className=\"absolute z-50 w-full mt-1 bg-white border border-slate-200 rounded shadow-lg max-h-60 overflow-y-auto\">\n                    {citySuggestions.map((city) => {\n                      // Create a unique key using all identifying information\n                      // Ensure lat/lng are numbers before calling toFixed\n                      const lat = typeof city.lat === 'string' ? parseFloat(city.lat) : (typeof city.lat === 'number' ? city.lat : 0);\n                      const lng = typeof city.lng === 'string' ? parseFloat(city.lng) : (typeof city.lng === 'number' ? city.lng : 0);\n                      const uniqueKey = `${city.name}-${city.admin1}-${lat.toFixed(4)}-${lng.toFixed(4)}`;\n                      return (\n                        <div\n                          key={uniqueKey}\n                          className=\"px-3 py-2 cursor-pointer hover:bg-blue-50 border-b border-slate-100 last:border-b-0\"\n                          onMouseDown={(e) => {\n                            e.preventDefault();\n                            handleCitySelect(city);\n                          }}\n                        >\n                          <div className=\"font-medium\">{city.name}, {city.admin1}</div>\n                          <div className=\"text-xs text-slate-500\">{city.country}</div>\n                        </div>\n                      );\n                    })}\n                  </div>\n                )}\n              </div>\n              <div id=\"cityHelp\" className=\"text-xs text-slate-500 mt-1\">\n                Start typing a city or state name and select from the suggestions\n              </div>\n            </div>\n        </CardContent>\n        \n        <CardFooter>\n          <Button \n            type=\"submit\" \n            className=\"w-full\"\n            disabled={isLoading}\n          >\n            {isLoading ? (\n              <>\n                <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                Saving...\n              </>\n            ) : (\n              'Save & Generate Chart'\n            )}\n          </Button>\n        </CardFooter>\n      </form>\n    </Card>\n  );\n};\n\nexport default UserBirthDataForm;\n","import React, { useState, useEffect } from 'react';\nimport { Loader2, AlertTriangle } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\n\ninterface ChartLoadingProps {\n  timeout?: number; // Timeout in milliseconds\n  onRetry?: () => void;\n}\n\n/**\n * Loading state component for chart components with timeout handling\n */\nexport const ChartLoading: React.FC<ChartLoadingProps> = ({ \n  timeout = 15000, // Default 15 seconds timeout\n  onRetry \n}) => {\n  const [isTimedOut, setIsTimedOut] = useState(false);\n\n  useEffect(() => {\n    // Set a timeout to show an error message if loading takes too long\n    const timeoutId = setTimeout(() => {\n      setIsTimedOut(true);\n    }, timeout);\n\n    return () => clearTimeout(timeoutId);\n  }, [timeout]);\n\n  if (isTimedOut) {\n    return (\n      <div className=\"w-full\">\n        <div className=\"relative p-4 rounded-lg overflow-hidden bg-gradient-to-br from-slate-900/80 to-red-900/80 backdrop-blur-sm border border-slate-700/30 shadow-lg\">\n          <div className=\"absolute inset-0 bg-[url('/cosmic-bg.webp')] bg-cover opacity-20 mix-blend-overlay\"></div>\n\n          <div className=\"flex flex-col items-center justify-center py-12 relative z-10\">\n            <AlertTriangle className=\"h-10 w-10 text-amber-400 mb-4\" />\n            <h3 className=\"text-xl font-bold text-white mb-4\">Loading Timed Out</h3>\n            <p className=\"text-slate-300 mb-6 text-center\">We're having trouble calculating your astrological data. This could be due to server load or incomplete birth information.</p>\n            {onRetry && (\n              <Button onClick={onRetry} variant=\"secondary\">\n                Try Again\n              </Button>\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"w-full\">\n      <div className=\"relative p-4 rounded-lg overflow-hidden bg-gradient-to-br from-slate-900/80 to-indigo-900/80 backdrop-blur-sm border border-slate-700/30 shadow-lg\">\n        <div className=\"absolute inset-0 bg-[url('/cosmic-bg.webp')] bg-cover opacity-20 mix-blend-overlay\"></div>\n\n        <div className=\"flex flex-col items-center justify-center py-12 relative z-10\">\n          <Loader2 className=\"h-10 w-10 text-blue-400 animate-spin mb-4\" />\n          <h3 className=\"text-xl font-bold text-white mb-4\">Loading Your Cosmic Data</h3>\n          <p className=\"text-slate-300 mb-6\">Calculating planetary positions and aspects...</p>\n          <div className=\"w-full max-w-xs bg-slate-800/50 h-2 rounded-full overflow-hidden\">\n            <div className=\"bg-blue-500 h-full animate-pulse\" style={{ width: '60%' }}></div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ChartLoading;\n","import React from 'react';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\n\ninterface SignInterpretationProps {\n  placement: string;\n  sign: string;\n  interpretation: string;\n  icon?: string;\n  colorClass?: string;\n}\n\nconst SignInterpretation: React.FC<SignInterpretationProps> = ({\n  placement,\n  sign,\n  interpretation,\n  icon = '♈',\n  colorClass = 'bg-blue-100 text-blue-800',\n}) => {\n  return (\n    <Card className=\"overflow-hidden\">\n      <CardHeader className={`${colorClass} pb-2`}>\n        <div className=\"flex items-center justify-between\">\n          <CardTitle className=\"text-lg font-bold\">\n            {placement} in {sign}\n          </CardTitle>\n          <span className=\"text-2xl\">{icon}</span>\n        </div>\n      </CardHeader>\n      <CardContent className=\"pt-4\">\n        <p className=\"text-sm text-gray-600\">{interpretation}</p>\n      </CardContent>\n    </Card>\n  );\n};\n\nexport default SignInterpretation;\n","import * as React from \"react\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props}\n    />\n  </div>\n))\nTable.displayName = \"Table\"\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n))\nTableHeader.displayName = \"TableHeader\"\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props}\n  />\n))\nTableBody.displayName = \"TableBody\"\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableFooter.displayName = \"TableFooter\"\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nTableRow.displayName = \"TableRow\"\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableHead.displayName = \"TableHead\"\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\n    {...props}\n  />\n))\nTableCell.displayName = \"TableCell\"\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nTableCaption.displayName = \"TableCaption\"\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n","import React from 'react';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table';\nimport { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger } from '@/components/ui/tooltip';\n\n// Define types for aspects and interpretations\ninterface Aspect {\n  aspect_type: string;\n  planet1: string;\n  planet2: string;\n  orb: number;\n  applying?: boolean;\n}\n\ninterface AspectInterpretations {\n  [key: string]: {\n    [key: string]: string;\n  };\n}\n\ninterface AspectsGridProps {\n  aspects: Aspect[];\n  interpretations?: AspectInterpretations;\n}\n\n// Map of aspect types to symbols and colors\nconst aspectSymbols: Record<string, { symbol: string; color: string }> = {\n  conjunction: { symbol: '☌', color: 'text-blue-600' },\n  opposition: { symbol: '☍', color: 'text-red-600' },\n  trine: { symbol: '△', color: 'text-green-600' },\n  square: { symbol: '□', color: 'text-orange-600' },\n  sextile: { symbol: '⚹', color: 'text-purple-600' },\n  quincunx: { symbol: '⚻', color: 'text-yellow-600' },\n  semisextile: { symbol: '⚺', color: 'text-teal-600' },\n  semisquare: { symbol: '∠', color: 'text-pink-600' },\n  sesquiquadrate: { symbol: '⚼', color: 'text-indigo-600' },\n};\n\n// Map of planets to symbols\nconst planetSymbols: Record<string, string> = {\n  sun: '☉',\n  moon: '☽',\n  mercury: '☿',\n  venus: '♀',\n  mars: '♂',\n  jupiter: '♃',\n  saturn: '♄',\n  uranus: '♅',\n  neptune: '♆',\n  pluto: '♇',\n  north_node: '☊',\n  south_node: '☋',\n  chiron: '⚷',\n  ascendant: 'Asc',\n  midheaven: 'MC',\n};\n\nconst AspectsGrid: React.FC<AspectsGridProps> = ({ aspects, interpretations = {} }) => {\n  // Sort aspects by importance\n  const sortedAspects = [...aspects].sort((a, b) => {\n    // Prioritize major aspects\n    const majorAspects = ['conjunction', 'opposition', 'trine', 'square', 'sextile'];\n    const aIsMajor = majorAspects.includes(a.aspect_type);\n    const bIsMajor = majorAspects.includes(b.aspect_type);\n    \n    if (aIsMajor && !bIsMajor) return -1;\n    if (!aIsMajor && bIsMajor) return 1;\n    \n    // Then sort by orb (closer orbs are more significant)\n    return a.orb - b.orb;\n  });\n\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle>Planetary Aspects</CardTitle>\n      </CardHeader>\n      <CardContent>\n        <Table>\n          <TableHeader>\n            <TableRow>\n              <TableHead>Aspect</TableHead>\n              <TableHead>Planets</TableHead>\n              <TableHead>Orb</TableHead>\n              <TableHead>Influence</TableHead>\n            </TableRow>\n          </TableHeader>\n          <TableBody>\n            {sortedAspects.map((aspect, index) => {\n              const aspectInfo = aspectSymbols[aspect.aspect_type] || { symbol: '?', color: 'text-gray-600' };\n              const planet1Symbol = planetSymbols[aspect.planet1] || aspect.planet1;\n              const planet2Symbol = planetSymbols[aspect.planet2] || aspect.planet2;\n              \n              // Get interpretation if available\n              const interpretation = interpretations?.[aspect.aspect_type]?.[`${aspect.planet1}_${aspect.planet2}`] || \n                                    interpretations?.[aspect.aspect_type]?.[`${aspect.planet2}_${aspect.planet1}`] || \n                                    '';\n              \n              return (\n                <TableRow key={index}>\n                  <TableCell>\n                    <span className={`text-lg font-bold ${aspectInfo.color}`}>\n                      {aspectInfo.symbol}\n                    </span>\n                    <span className=\"ml-2 text-xs text-gray-500\">\n                      {aspect.aspect_type}\n                    </span>\n                  </TableCell>\n                  <TableCell>\n                    <div className=\"flex items-center space-x-1\">\n                      <span className=\"text-lg\">{planet1Symbol}</span>\n                      <span className=\"text-xs\">-</span>\n                      <span className=\"text-lg\">{planet2Symbol}</span>\n                    </div>\n                  </TableCell>\n                  <TableCell>\n                    {aspect.orb.toFixed(1)}°\n                    {aspect.applying !== undefined && (\n                      <span className={aspect.applying ? \"text-green-500 ml-1\" : \"text-red-500 ml-1\"}>\n                        {aspect.applying ? \"↑\" : \"↓\"}\n                      </span>\n                    )}\n                  </TableCell>\n                  <TableCell>\n                    {interpretation ? (\n                      <TooltipProvider>\n                        <Tooltip>\n                          <TooltipTrigger asChild>\n                            <span className=\"cursor-help underline decoration-dotted\">\n                              View\n                            </span>\n                          </TooltipTrigger>\n                          <TooltipContent className=\"max-w-sm\">\n                            <p className=\"text-sm\">{interpretation}</p>\n                          </TooltipContent>\n                        </Tooltip>\n                      </TooltipProvider>\n                    ) : (\n                      <span className=\"text-gray-400\">-</span>\n                    )}\n                  </TableCell>\n                </TableRow>\n              );\n            })}\n          </TableBody>\n        </Table>\n        \n        {sortedAspects.length === 0 && (\n          <div className=\"text-center py-4 text-gray-500\">\n            No aspects available\n          </div>\n        )}\n      </CardContent>\n    </Card>\n  );\n};\n\nexport default AspectsGrid;\n","import React from 'react';\nimport { Card, CardContent, CardHeader } from '@/components/ui/card';\nimport { Skeleton } from '@/components/ui/skeleton';\n\nconst SignInterpretationSkeleton: React.FC = () => {\n  return (\n    <Card className=\"overflow-hidden\">\n      <CardHeader className=\"bg-gray-100 pb-2\">\n        <div className=\"flex items-center justify-between\">\n          <Skeleton className=\"h-6 w-32\" />\n          <Skeleton className=\"h-8 w-8 rounded-full\" />\n        </div>\n      </CardHeader>\n      <CardContent className=\"pt-4\">\n        <Skeleton className=\"h-4 w-full mb-2\" />\n        <Skeleton className=\"h-4 w-5/6 mb-2\" />\n        <Skeleton className=\"h-4 w-4/6 mb-2\" />\n        <Skeleton className=\"h-4 w-3/4\" />\n      </CardContent>\n    </Card>\n  );\n};\n\nexport default SignInterpretationSkeleton;\n","import React, { useState, useEffect, useCallback, lazy, Suspense } from 'react';\nimport { motion } from 'framer-motion';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription, CardFooter } from '@/components/ui/card';\nimport { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Switch } from '@/components/ui/switch';\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select';\nimport { Check, ChevronsUpDown } from 'lucide-react';\nimport { Badge } from '@/components/ui/badge'; // Added for demo badge\nimport { User, Star, Activity, Share2, Download, Printer, Info, Loader2 } from 'lucide-react';\n\nimport { supabase } from '@/lib/supabase';\nimport UserBirthDataForm from '@/components/forms/UserBirthDataForm';\nimport ChartLoading from '@/components/astrology/components/ChartLoading';\nimport SignInterpretation from '@/components/astrology/SignInterpretation';\nimport AspectsGrid from '@/components/astrology/AspectsGrid';\nimport SignInterpretationSkeleton from '@/components/astrology/SignInterpretationSkeleton';\n\n// Lazily import the chart components for code splitting\nconst NatalChartProfile = lazy(() => import('@/components/astrology/NatalChartProfile'));\n\n// Define sport type\ntype Sport = {\n  id: string;\n  name: string;\n};\n\n// Available sports options\nconst SPORTS: Sport[] = [\n  { id: 'basketball', name: 'Basketball' },\n  { id: 'baseball', name: 'Baseball' },\n  { id: 'football', name: 'Football' },\n  { id: 'hockey', name: 'Hockey' },\n  { id: 'soccer', name: 'Soccer' },\n  { id: 'tennis', name: 'Tennis' },\n  { id: 'golf', name: 'Golf' },\n  { id: 'boxing', name: 'Boxing' },\n  { id: 'mma', name: 'MMA' },\n  { id: 'rugby', name: 'Rugby' },\n];\n\n// Define a type for the user profile data structure used in the UI\ninterface UserProfile {\n  name: string;\n  email: string;\n  avatar: string;\n  memberSince: string;\n  lastLogin: string;\n  accountType: string;\n  preferences: {\n    favoriteSports: string[];\n    notificationEmail: string;\n    theme: string;\n  };\n  stats: {\n    predictions: number;\n    accuracy: string;\n    followers: number;\n    following: number;\n  };\n  birthData: {\n    birthDate: string;\n    birthTime: string;\n    birthCity: string;\n    timeUnknown: boolean;\n    birthLatitude: number;\n    birthLongitude: number;\n  } | null;\n  planetary_data: any | null; // These can be typed more strictly later\n  planetary_count: any | null;\n  planets_per_sign: any | null;\n}\n\n// Consistent styling for all sports\nconst SPORT_STYLE = 'bg-blue-50 text-blue-700 hover:bg-blue-100';\nconst SPORT_PILL = 'px-4 py-1.5 rounded-full text-sm font-medium transition-all duration-200 border border-transparent hover:shadow-sm';\nconst ADD_PILL = 'flex items-center justify-center w-8 h-8 rounded-full bg-blue-600 text-white hover:bg-blue-700 transition-colors shadow-sm border-2 border-white';\n\n// Animation variants for framer-motion\nconst itemVariants = {\n  hidden: { opacity: 0, y: 10 },\n  visible: (i: number) => ({\n    opacity: 1,\n    y: 0,\n    transition: {\n      delay: i * 0.05,\n      duration: 0.2,\n      ease: 'easeOut'\n    }\n  }),\n  hover: {\n    scale: 1.03,\n    transition: { duration: 0.15 }\n  },\n  tap: { \n    scale: 0.98,\n    transition: { duration: 0.1 }\n  }\n};\n\nconst ExampleProfilePage: React.FC = () => {\n  // State for user data from Supabase\n  const [userData, setUserData] = useState<UserProfile | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [userId, setUserId] = useState<string | null>(null);\n  const [showForm, setShowForm] = useState(false);\n  const [showAddSports, setShowAddSports] = useState(false);\n  const [interpretations, setInterpretations] = useState<Record<string, Record<string, string>>>({ sun: {}, moon: {}, rising: {}, aspects: {} });\n  const [interpretationsLoading, setInterpretationsLoading] = useState(true);\n  \n  // Default user data when no Supabase data is available\n  const defaultUser = {\n    name: 'New User',\n    email: 'user@example.com',\n    avatar: 'https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80',\n    memberSince: new Date().toLocaleDateString(),\n    lastLogin: 'Today',\n    accountType: 'Standard',\n    preferences: {\n      favoriteSports: [] as string[],\n      notificationEmail: 'user@example.com',\n      theme: 'Light Mode'\n    },\n    stats: {\n      predictions: 0,\n      accuracy: '0%',\n      followers: 0,\n      following: 0,\n    },\n  };\n  \n  // Current user data (from Supabase or default)\n  const user = userData || { ...defaultUser, birthData: null, planetary_data: null, planetary_count: null, planets_per_sign: null } as UserProfile;\n\n  const fetchSpecificUser = useCallback(async () => {\n    try {\n      setLoading(true);\n      \n      // Fetch data for the specific user ID\n      const specificUserId = '9245f829-40d5-44ee-9ea7-182d4d23d0b6';\n      // With a typed Supabase client, this call becomes fully type-safe.\n      const { data, error } = await supabase\n        .from('user_data') // No more `(supabase as any)` needed!\n        .select('*')\n        .eq('id', specificUserId)\n        .single();\n        \n      if (error) {\n        console.error('Error fetching user data:', error);\n        return;\n      }\n      \n      if (data) {\n        try {\n          // Add null check for userData.id\n          setUserId(data?.id || specificUserId);\n          \n          // Transform the data to match our UI expectations\n          setUserData({\n          name: data.name || 'User',\n          email: data.email || 'user@example.com',\n          avatar: 'https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80',\n          memberSince: new Date(data.created_at).toLocaleDateString(),\n          lastLogin: 'Today',\n          accountType: 'Premium',\n          preferences: {\n            favoriteSports: data.favorite_sports || [],\n            notificationEmail: data.email || 'user@example.com',\n            theme: 'Dark Mode'\n          },\n          stats: {\n            predictions: Math.floor(Math.random() * 100),\n            accuracy: `${Math.floor(Math.random() * 30) + 70}%`,\n            followers: Math.floor(Math.random() * 200) + 50,\n            following: Math.floor(Math.random() * 100) + 50,\n          },\n          birthData: data.birth_date ? {\n            birthDate: data.birth_date,\n            birthTime: data.birth_time || '',\n            birthCity: data.birth_city,\n            timeUnknown: !!data.time_unknown, // Ensure it's a boolean\n            birthLatitude: data.birth_latitude,\n            birthLongitude: data.birth_longitude,\n          } : null,\n          planetary_data: data.planetary_data || null,\n          planetary_count: data.planetary_count || null,\n          planets_per_sign: data.planets_per_sign || null,\n        });\n        \n        // Update selected sports\n        if (data.favorite_sports && Array.isArray(data.favorite_sports)) {\n          setSelectedSports(data.favorite_sports);\n        }\n        } catch (error) {\n          console.error('Error processing user data:', error);\n          // Use default user data as fallback\n          setUserData(defaultUser);\n        }\n      } else {\n        console.error('No data found for the specific user ID');\n      }\n    } catch (error) {\n      console.error('Error fetching user data:', error);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n  \n  // Initialize sports selection with user preferences\n  const [selectedSports, setSelectedSports] = useState<string[]>(user.preferences.favoriteSports);\n  \n  // Fetch user data from Supabase\n  useEffect(() => {\n    fetchSpecificUser();\n  }, [fetchSpecificUser]);\n  \n  // Fetch interpretations from Supabase\n  useEffect(() => {\n    const fetchInterpretations = async () => {\n      setInterpretationsLoading(true);\n      const { data, error } = await supabase.from('interpretations').select('type, key, text');\n      if (error) {\n        console.error('Error fetching interpretations:', error);\n        return;\n      }\n\n      const formattedInterpretations = data.reduce((acc: Record<string, Record<string, string>>, item) => {\n        if (!acc[item.type]) {\n          acc[item.type] = {};\n        }\n        acc[item.type][item.key] = item.text;\n        return acc;\n      }, {});\n\n      setInterpretations(formattedInterpretations);\n      setInterpretationsLoading(false);\n    };\n\n    fetchInterpretations();\n  }, []);\n  \n  const availableSports = SPORTS.filter(sport => !selectedSports.includes(sport.id));\n  const selectedSportData = SPORTS.filter(sport => selectedSports.includes(sport.id));\n\n  const toggleSport = (sportId: string) => {\n    setSelectedSports(prev => \n      prev.includes(sportId)\n        ? prev.filter(id => id !== sportId)\n        : [...prev, sportId]\n    );\n  };\n  \n  const toggleAddSports = () => {\n    setShowAddSports(prev => !prev);\n  };\n  \n  const updateFavoriteSports = async () => {\n    if (userId) {\n      try {\n        // Update the user's favorite sports in the unified user_data table\n        const { data, error } = await supabase.from('user_data').upsert({\n          id: userId,\n          favorite_sports: selectedSports\n        });\n        \n        if (error) {\n          throw error;\n        }\n        \n        // Update local state\n        if (userData) {\n          setUserData({\n            ...userData,\n            preferences: {\n              ...userData.preferences,\n              favoriteSports: selectedSports\n            }\n          });\n        }\n      } catch (error) {\n        console.error('Error updating favorite sports:', error);\n      }\n    }\n    \n    setShowAddSports(false);\n  };\n  \n  // Handle form submission success\n  const handleFormSuccess = () => {\n    setShowForm(false);\n    // Re-fetch user data to show the new charts\n    fetchSpecificUser();\n  };\n\n  const getMajorSigns = (planetaryData: any): { sun: string | null; moon: string | null; rising: string | null } => {\n    if (!planetaryData || !Array.isArray(planetaryData.planets)) {\n      return { sun: null, moon: null, rising: null };\n    }\n\n    const findSign = (planetName: string): string | null =>\n      planetaryData.planets.find((p: any) => p.name.toLowerCase() === planetName.toLowerCase())?.sign || null;\n\n    const getSignFromDegree = (degree: number): string => {\n      const signs = [\"Aries\", \"Taurus\", \"Gemini\", \"Cancer\", \"Leo\", \"Virgo\", \"Libra\", \"Scorpio\", \"Sagittarius\", \"Capricorn\", \"Aquarius\", \"Pisces\"];\n      const signIndex = Math.floor(degree / 30) % 12;\n      return signs[signIndex];\n    };\n\n    return {\n      sun: findSign('Sun'),\n      moon: findSign('Moon'),\n      rising: planetaryData.ascendant !== undefined ? getSignFromDegree(planetaryData.ascendant) : null,\n    };\n  };\n\n  const majorSigns = getMajorSigns(user?.planetary_data);\n\n  const signDetails = {\n    sun: {\n      icon: '☀️',\n      colorClass: 'border-yellow-300',\n    },\n    moon: {\n      icon: '🌙',\n      colorClass: 'border-slate-300',\n    },\n    rising: {\n      icon: '🌅',\n      colorClass: 'border-rose-300',\n    },\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100\">\n      <div className=\"max-w-5xl mx-auto py-8 px-4 sm:px-6 lg:px-8\">\n        {/* Loading state */}\n        {loading && (\n          <div className=\"flex justify-center items-center h-32\">\n            <Loader2 className=\"h-8 w-8 animate-spin text-blue-500\" />\n            <span className=\"ml-2 text-lg text-gray-700\">Loading user data...</span>\n          </div>\n        )}\n        \n        {/* User Birth Data Form Modal */}\n        {showForm && (\n          <div className=\"fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-4\">\n            <motion.div\n              initial={{ opacity: 0, scale: 0.95 }}\n              animate={{ opacity: 1, scale: 1 }}\n              exit={{ opacity: 0, scale: 0.95 }}\n              className=\"relative bg-white dark:bg-slate-900 rounded-lg shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto\"\n            >\n              <Card className=\"border-none shadow-none\">\n                <CardHeader>\n                  <CardTitle>{userData ? 'Edit' : 'Enter'} Your Birth Information</CardTitle>\n                  <CardDescription>\n                    This information is used to generate your astrological profile.\n                  </CardDescription>\n                </CardHeader>\n                <CardContent>\n                  <UserBirthDataForm \n                    userId={userId!}\n                    onSuccess={handleFormSuccess} \n                    defaultValues={userData?.birthData}\n                  />\n                </CardContent>\n              </Card>\n              <button \n                onClick={() => setShowForm(false)}\n                className=\"absolute top-4 right-4 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors\"\n                aria-label=\"Close form\"\n              >✕</button>\n            </motion.div>\n          </div>\n        )}\n        \n        {/* Button to show form if no user data */}\n        {!loading && !userData && !showForm && (\n          <div className=\"flex justify-center mb-8\">\n            <Button \n              onClick={() => setShowForm(true)}\n              className=\"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700\"\n            >\n              Enter Your Birth Information\n            </Button>\n          </div>\n        )}\n        {/* Profile Header */}\n        <div className=\"bg-white rounded-xl shadow-sm border border-slate-200 p-6 mb-8\">\n          <div className=\"flex flex-col md:flex-row items-start md:items-center justify-between\">\n            <div className=\"flex items-center space-x-6 mb-6 md:mb-0\">\n              <div className=\"relative\">\n                <Avatar className=\"h-20 w-20 border-4 border-white shadow-lg\">\n                  <AvatarImage src={user.avatar} alt={user.name} />\n                  <AvatarFallback className=\"bg-gradient-to-r from-blue-500 to-indigo-600 text-white\">\n                    {user.name\n                      .split(' ')\n                      .map((n) => n[0])\n                      .join('')}\n                  </AvatarFallback>\n                </Avatar>\n                <span className=\"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-white\"></span>\n              </div>\n              <div>\n                <div>\n                  <h1 className=\"text-3xl font-bold text-slate-900\">{user.name}</h1>\n                  {user.planetary_data && (\n                    <div className=\"flex flex-wrap items-center gap-2 mt-2\">\n                      {majorSigns.sun && (\n                        <Badge variant=\"secondary\" className=\"bg-yellow-100 text-yellow-800 border-yellow-200\">☀️ Sun in {majorSigns.sun}</Badge>\n                      )}\n                      {majorSigns.moon && (\n                        <Badge variant=\"secondary\" className=\"bg-slate-100 text-slate-800 border-slate-200\">🌙 Moon in {majorSigns.moon}</Badge>\n                      )}\n                      {majorSigns.rising && (\n                        <Badge variant=\"secondary\" className=\"bg-rose-100 text-rose-800 border-rose-200\">🌅 {majorSigns.rising} Rising</Badge>\n                      )}\n                    </div>\n                  )}\n                  <div className=\"flex items-center space-x-2 mt-2\">\n                    <span className=\"text-sm font-medium bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-2.5 py-0.5 rounded-full\">\n                      {user.accountType} Member\n                    </span>\n                    <span className=\"text-slate-400\">•</span>\n                    <span className=\"text-xs text-slate-500\">\n                      Member since {user.memberSince}\n                    </span>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <Button className=\"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-medium shadow-sm\">\n              Upgrade Plan\n            </Button>\n          </div>\n          <div className=\"mt-6 pt-4 border-t border-slate-100\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <h3 className=\"text-sm font-medium text-slate-900\">Favorite Sports</h3>\n            </div>\n            \n            <div className=\"flex flex-wrap items-center gap-2\">\n              {selectedSportData.map((sport, index) => (\n                <motion.div\n                  key={sport.id}\n                  custom={index}\n                  initial=\"hidden\"\n                  animate=\"visible\"\n                  whileHover=\"hover\"\n                  whileTap=\"tap\"\n                  variants={itemVariants}\n                  className={`${SPORT_PILL} ${SPORT_STYLE}`}\n                >\n                  {sport.name}\n                </motion.div>\n              ))}\n              \n              {availableSports.length > 0 && (\n                <motion.button\n                  onClick={toggleAddSports}\n                  className={`${SPORT_PILL} ${ADD_PILL}`}\n                  whileHover={{ scale: 1.1 }}\n                  whileTap={{ scale: 0.95 }}\n                  aria-label=\"Add sport\"\n                >\n                  <span className=\"text-xl font-bold\">+</span>\n                </motion.button>\n              )}\n            </div>\n            \n            {showAddSports && (\n              <motion.div \n                initial={{ opacity: 0, height: 0, marginTop: 0 }}\n                animate={{ opacity: 1, height: 'auto', marginTop: '0.75rem' }}\n                exit={{ opacity: 0, height: 0, marginTop: 0 }}\n                className=\"overflow-hidden\"\n              >\n                <div className=\"flex flex-wrap gap-2\">\n                  {availableSports.map((sport) => (\n                    <Button\n                      key={sport.id}\n                      variant=\"outline\"\n                      className={`${SPORT_PILL} ${SPORT_STYLE}`}\n                      onClick={() => toggleSport(sport.id)}\n                    >\n                      {sport.name}\n                    </Button>\n                  ))}\n                </div>\n                <div className=\"flex justify-end mt-4 space-x-2\">\n                  <Button variant=\"outline\" onClick={toggleAddSports}>\n                    Cancel\n                  </Button>\n                  <Button onClick={updateFavoriteSports}>Save</Button>\n                </div>\n              </motion.div>\n            )}\n          </div>\n        </div>\n        \n        {/* Main Content */}\n        <div className=\"grid grid-cols-1 gap-6 lg:grid-cols-3\">\n          {/* Left Column - Personal Info */}\n          <div className=\"space-y-6\">\n            {/* Account Overview */}\n            <Card className=\"border-slate-200 shadow-sm\">\n              <CardHeader>\n                <CardTitle className=\"text-lg font-semibold text-slate-900\">Account Overview</CardTitle>\n                <CardDescription className=\"text-slate-500\">Your personal and subscription details</CardDescription>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-4\">\n                  <div>\n                    <Label className=\"text-sm font-medium text-slate-700\">Account Type</Label>\n                    <p className=\"text-sm text-slate-900\">{user.accountType}</p>\n                  </div>\n                  <div>\n                    <Label className=\"text-sm font-medium text-slate-700\">Member Since</Label>\n                    <p className=\"text-sm text-slate-900\">{user.memberSince}</p>\n                  </div>\n                  <div>\n                    <Label className=\"text-sm font-medium text-slate-700\">Last Login</Label>\n                    <p className=\"text-sm text-slate-900\">{user.lastLogin}</p>\n                  </div>\n                </div>\n              </CardContent>\n              <CardFooter className=\"flex justify-between border-t border-slate-100 px-6 py-4\">\n                <Button variant=\"outline\">Manage Subscription</Button>\n                <Button>Upgrade</Button>\n              </CardFooter>\n            </Card>\n\n            {/* Preferences */}\n            <Card className=\"border-slate-200 shadow-sm\">\n              <CardHeader>\n                <CardTitle className=\"text-lg font-semibold text-slate-900\">Preferences</CardTitle>\n                <CardDescription className=\"text-slate-500\">Customize your experience</CardDescription>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-4\">\n                  <div className=\"flex items-center justify-between\">\n                    <Label htmlFor=\"theme-mode\" className=\"text-sm font-medium text-slate-700\">\n                      Dark Mode\n                    </Label>\n                    <Switch id=\"theme-mode\" />\n                  </div>\n                  <div>\n                    <Label className=\"text-sm font-medium text-slate-700 mb-2\">Timezone</Label>\n                    <Select>\n                      <SelectTrigger className=\"w-full\">\n                        <SelectValue placeholder=\"Select timezone\" />\n                      </SelectTrigger>\n                      <SelectContent>\n                        <SelectItem value=\"est\">Eastern Standard Time (EST)</SelectItem>\n                        <SelectItem value=\"cst\">Central Standard Time (CST)</SelectItem>\n                        <SelectItem value=\"mst\">Mountain Standard Time (MST)</SelectItem>\n                        <SelectItem value=\"pst\">Pacific Standard Time (PST)</SelectItem>\n                      </SelectContent>\n                    </Select>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n          \n          {/* Middle Column - Stats */}\n          <div className=\"space-y-6\">\n            {/* Stats Overview */}\n            <Card className=\"border-slate-200 shadow-sm\">\n              <CardHeader>\n                <CardTitle className=\"text-lg font-semibold text-slate-900\">Stats Overview</CardTitle>\n                <CardDescription className=\"text-slate-500\">Your activity statistics</CardDescription>\n              </CardHeader>\n              <CardContent>\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div className=\"bg-purple-50 rounded-lg p-4 text-center\">\n                    <p className=\"text-2xl font-bold text-purple-700\">{user.stats.followers}</p>\n                    <p className=\"text-sm text-purple-600\">Followers</p>\n                  </div>\n                  <div className=\"bg-amber-50 rounded-lg p-4 text-center\">\n                    <p className=\"text-2xl font-bold text-amber-700\">{user.stats.following}</p>\n                    <p className=\"text-sm text-amber-600\">Following</p>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n          \n          {/* Right Column - Security and More */}\n          <div className=\"space-y-6\">\n            {/* Recent Activity */}\n            <Card className=\"border-slate-200 shadow-sm\">\n              <CardHeader>\n                <CardTitle className=\"text-lg font-semibold text-slate-900\">Recent Activity</CardTitle>\n                <CardDescription className=\"text-slate-500\">Your latest actions and events</CardDescription>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-4\">\n                  <div className=\"flex items-start\">\n                    <div className=\"bg-green-100 p-2 rounded-full mr-3\">\n                      <Check className=\"h-4 w-4 text-green-600\" />\n                    </div>\n                    <div>\n                      <p className=\"text-sm font-medium text-slate-900\">Prediction submitted</p>\n                      <p className=\"text-xs text-slate-500\">Lakers vs Celtics - 2 hours ago</p>\n                    </div>\n                  </div>\n                  <div className=\"flex items-start\">\n                    <div className=\"bg-blue-100 p-2 rounded-full mr-3\">\n                      <ChevronsUpDown className=\"h-4 w-4 text-blue-600\" />\n                    </div>\n                    <div>\n                      <p className=\"text-sm font-medium text-slate-900\">Updated profile</p>\n                      <p className=\"text-xs text-slate-500\">Added favorite sports - Yesterday</p>\n                    </div>\n                  </div>\n                  <div className=\"flex items-start\">\n                    <div className=\"bg-amber-100 p-2 rounded-full mr-3\">\n                      <Check className=\"h-4 w-4 text-amber-600\" />\n                    </div>\n                    <div>\n                      <p className=\"text-sm font-medium text-slate-900\">Prediction won</p>\n                      <p className=\"text-xs text-slate-500\">Yankees vs Red Sox - 2 days ago</p>\n                    </div>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n        </div>\n        \n        {/* Astrological Charts Section */}\n        <div className=\"mt-12\">\n          <div className=\"flex justify-between items-center mb-6\">\n            <h2 className=\"text-2xl font-bold\">Your Astrological Profile</h2>\n            <Badge variant=\"secondary\">Demo Version</Badge>\n          </div>\n          \n          {/* Birth data info */}\n          <div className=\"bg-gradient-to-b from-slate-900 to-indigo-900 rounded-lg shadow-xl p-6 mb-6\">\n            <div className=\"flex flex-col sm:flex-row justify-between items-start gap-4\">\n              <div className=\"text-sm text-slate-300\">\n                <p><strong>Birth Data:</strong> {user.birthData ? `${user.birthData.birthDate} at ${user.birthData.birthTime || '12:01'} in ${user.birthData.birthCity}` : 'Not provided'}</p>\n                {user.birthData?.birthLatitude && user.birthData?.birthLongitude && (\n                  <p className=\"text-xs opacity-75 mt-1\">\n                    Coordinates: {user.birthData.birthLatitude.toFixed(4)}°N, {Math.abs(user.birthData.birthLongitude).toFixed(4)}°W\n                  </p>\n                )}\n              </div>\n              <Button \n                variant=\"outline\" \n                className=\"text-slate-900 bg-white/90 hover:bg-blue-700 hover:text-white border-blue-400 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-slate-800 transition-colors duration-200\"\n                onClick={() => setShowForm(true)}\n                aria-label=\"Edit birth data\"\n              >\n                {user.birthData ? 'Edit Birth Data' : 'Add Birth Data'}\n              </Button>\n            </div>\n          </div>\n          \n          {/* Astrological Charts Container */}\n          <div className=\"bg-gradient-to-br from-slate-900 to-indigo-900 rounded-xl shadow-xl overflow-hidden p-6 relative\">\n            {/* Cosmic background effect */}\n            <div className=\"absolute inset-0 z-0 opacity-20\">\n              {Array.from({ length: 50 }).map((_, i) => (\n                <div \n                  key={`star-${i}`}\n                  className=\"absolute rounded-full bg-white\" \n                  style={{\n                    width: `${Math.random() * 2 + 1}px`,\n                    height: `${Math.random() * 2 + 1}px`,\n                    top: `${Math.random() * 100}%`,\n                    left: `${Math.random() * 100}%`,\n                    opacity: Math.random() * 0.8,\n                    animation: `twinkle ${Math.random() * 5 + 3}s infinite alternate`\n                  }}\n                />\n              ))}\n            </div>\n\n            <div className=\"relative z-10\">\n              {user.birthData && userId ? (\n                <Suspense fallback={<ChartLoading />}>\n                  <NatalChartProfile\n                    userId={userId}\n                    birthData={{\n                      date: user.birthData.birthDate,\n                      time: user.birthData.birthTime,\n                      city: user.birthData.birthCity,\n                      timeUnknown: user.birthData.timeUnknown || false\n                    }}\n                    natalChartData={user.planetary_data}\n                    planetaryCounts={user.planetary_count}\n                    planetsPerSign={user.planets_per_sign}\n                  />\n                </Suspense>\n              ) : (\n                <div className=\"text-center py-20\">\n                  <h3 className=\"text-2xl font-bold text-white mb-4\">\n                    {user.birthData ? 'Generate Your Astrological Profile' : 'Unlock Your Astrological Profile'}\n                  </h3>\n                  <p className=\"text-slate-300 mb-6 max-w-md mx-auto\">\n                    {user.birthData \n                      ? 'Your charts haven\\'t been generated yet. Open the form and click \"Save\" to create them.' \n                      : 'Enter your birth information to generate your personalized charts.'}\n                  </p>\n                  <Button onClick={() => setShowForm(true)} size=\"lg\">\n                    {user.birthData ? 'Generate Charts' : 'Add Birth Data'}\n                  </Button>\n                </div>\n              )}\n            </div>\n          </div>\n          \n          {/* Chart Description */}\n          <div className=\"mt-6 bg-slate-900/50 rounded-lg p-4 text-sm text-slate-300\">\n            <h3 className=\"font-semibold text-slate-200 mb-2\">About Your Charts</h3>\n            <p className=\"mb-2\">\n              Your <span className=\"text-blue-400\">Natal Chart</span> shows the positions of celestial bodies at your exact time of birth, \n              while the <span className=\"text-purple-400\">Planetary Distribution</span> chart visualizes how many planets are in each zodiac sign.\n            </p>\n            <p className=\"text-xs opacity-75\">\n              For the most accurate reading, ensure your birth time and location are precise.\n            </p>\n          </div>\n        </div>\n\n        {/* Key Placement Interpretations */}\n        {user.planetary_data ? (\n          <div className=\"mt-12\">\n            <h2 className=\"text-2xl font-bold mb-6 text-slate-800\">Key Placements</h2>\n            {interpretationsLoading ? (\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                <SignInterpretationSkeleton />\n                <SignInterpretationSkeleton />\n                <SignInterpretationSkeleton />\n              </div>\n            ) : (\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                {majorSigns.sun && interpretations.sun?.[majorSigns.sun] && (\n                  <SignInterpretation\n                    placement=\"Sun\"\n                    sign={majorSigns.sun}\n                    interpretation={interpretations.sun[majorSigns.sun]}\n                    icon={signDetails.sun.icon}\n                    colorClass={signDetails.sun.colorClass}\n                  />\n                )}\n                {majorSigns.moon && interpretations.moon?.[majorSigns.moon] && (\n                  <SignInterpretation\n                    placement=\"Moon\"\n                    sign={majorSigns.moon}\n                    interpretation={interpretations.moon[majorSigns.moon]}\n                    icon={signDetails.moon.icon}\n                    colorClass={signDetails.moon.colorClass}\n                  />\n                )}\n                {majorSigns.rising && interpretations.rising?.[majorSigns.rising] && (\n                  <SignInterpretation\n                    placement=\"Rising\"\n                    sign={majorSigns.rising}\n                    interpretation={interpretations.rising[majorSigns.rising]}\n                    icon={signDetails.rising.icon}\n                    colorClass={signDetails.rising.colorClass}\n                  />\n                )}\n              </div>\n            )}\n          </div>\n        ) : null}\n\n        {/* Planetary Aspects */}\n        {user?.planetary_data?.aspects && Array.isArray(user.planetary_data.aspects) && user.planetary_data.aspects.length > 0 && (\n          <div className=\"mt-12\">\n            <h2 className=\"text-2xl font-bold mb-6 text-slate-800\">Deeper Insights</h2>\n            <AspectsGrid \n              aspects={user.planetary_data.aspects} \n              interpretations={interpretations?.aspects || {}} \n            />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default ExampleProfilePage;\n"],"file":"assets/ExampleProfilePage-C_7GNjqs.js"}