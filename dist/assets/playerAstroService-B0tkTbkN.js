const j={fire:["Aries","Leo","Sagittarius"],earth:["Taurus","Virgo","Capricorn"],air:["Gemini","Libra","Aquarius"],water:["Cancer","Scorpio","Pisces"]},N={cardinal:["Aries","Cancer","Libra","Capricorn"],fixed:["Taurus","Leo","Scorpio","Aquarius"],mutable:["Gemini","Virgo","Sagittarius","Pisces"]};function b(t){for(const[r,n]of Object.entries(j))if(n.includes(t))return r;throw new Error(`Invalid sign: ${t}`)}function T(t){for(const[r,n]of Object.entries(N))if(n.includes(t))return r;throw new Error(`Invalid sign: ${t}`)}const h=["Aries","Taurus","Gemini","Cancer","Leo","Virgo","Libra","Scorpio","Sagittarius","Capricorn","Aquarius","Pisces"];function x(t){const r=new Date(t),n=r.getMonth(),e=r.getDate();return n===2&&e>=21||n===3&&e<=19?"Aries":n===3&&e>=20||n===4&&e<=20?"Taurus":n===4&&e>=21||n===5&&e<=20?"Gemini":n===5&&e>=21||n===6&&e<=22?"Cancer":n===6&&e>=23||n===7&&e<=22?"Leo":n===7&&e>=23||n===8&&e<=22?"Virgo":n===8&&e>=23||n===9&&e<=22?"Libra":n===9&&e>=23||n===10&&e<=21?"Scorpio":n===10&&e>=22||n===11&&e<=21?"Sagittarius":n===11&&e>=22||n===0&&e<=19?"Capricorn":n===0&&e>=20||n===1&&e<=18?"Aquarius":"Pisces"}function I(t){const r=new Date(t),n=y(r),e=29.5,a=Math.floor(n%(e*12)/e);return h[a%12]}function L(t,r,n){const e=new Date(t);if(r&&n){const c=(r+n).split("").reduce((l,S)=>l+S.charCodeAt(0),0),o=(y(e)+c)%12;return h[Math.abs(o)%12]}const s=y(e)%12;return h[s]}function E(t,r,n){const e={fire:{score:0,planets:[],percentage:0},earth:{score:0,planets:[],percentage:0},air:{score:0,planets:[],percentage:0},water:{score:0,planets:[],percentage:0}},a=b(t);e[a].score+=5,e[a].planets.push("Sun");const s=b(r);e[s].score+=4,e[s].planets.push("Moon");const c=b(n);e[c].score+=3,e[c].planets.push("Ascendant");const u=Object.values(e).reduce((o,l)=>o+l.score,0);for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)){const l=u>0?Math.round(e[o].score/u*100):25;e[o].percentage=l}return e}function Y(t,r,n){const e={cardinal:{score:0,planets:[],percentage:0},fixed:{score:0,planets:[],percentage:0},mutable:{score:0,planets:[],percentage:0}},a=T(t);e[a].score+=5,e[a].planets.push("Sun");const s=T(r);e[s].score+=4,e[s].planets.push("Moon");const c=T(n);e[c].score+=3,e[c].planets.push("Ascendant");const u=Object.values(e).reduce((o,l)=>o+l.score,0);for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)){const l=u>0?Math.round(e[o].score/u*100):33;e[o].percentage=l}return e}function v(t,r){const n={Aries:"Mars",Taurus:"Venus",Gemini:"Mercury",Cancer:"Moon",Leo:"Sun",Virgo:"Mercury",Libra:"Venus",Scorpio:"Pluto",Sagittarius:"Jupiter",Capricorn:"Saturn",Aquarius:"Uranus",Pisces:"Neptune"},e=n[t],a=n[r],s=[{planet:e,score:5,interpretation:`${e} rules ${t}, influencing core identity and expression.`,type:"Ruler",influence:"Strong"},{planet:a,score:4,interpretation:`${a} rules ${r}, affecting emotional responses and instincts.`,type:"Ruler",influence:"Strong"}];if(e===a){const c=b(t);let u="",o="";switch(c){case"fire":u="Mars",o="Mars amplifies the fiery energy, adding drive and competitive spirit.";break;case"earth":u="Saturn",o="Saturn enhances discipline and structure, adding stability and endurance.";break;case"air":u="Mercury",o="Mercury enhances mental agility, adding adaptability and quick thinking.";break;case"water":u="Neptune",o="Neptune deepens intuition and emotional sensitivity, adding creative vision.";break}s.push({planet:u,score:3,interpretation:o,type:"Elemental",influence:"Moderate"})}return s}function U(t,r,n){const e=new Date,a=new Date(t),s=29.53,u=(Date.now()-new Date(e.getFullYear(),0,1).getTime())/(1e3*60*60*24)%s/s,l=y(e)/365*360,C=y(a)/365*360;let g=Math.abs(l-C)%360;g>180&&(g=360-g);let w=.5;if(r&&n){const i=(r+n).toLowerCase().split("").reduce((p,M)=>(p<<5)-p+M.charCodeAt(0),0);w=.3+Math.abs(i)%70/100}const f=Math.sin(u*Math.PI*2),A=Math.cos(g*Math.PI/180),m=(f*.4+A*.6)*w;return m>.3?"Favorable":m<-.3?"Challenging":"Neutral"}function y(t){const r=new Date(t.getFullYear(),0,0),n=t.getTime()-r.getTime(),e=1e3*60*60*24;return Math.floor(n/e)}function G(t,r){if(!t)throw new Error("Birth date is required");const n=r==null?void 0:r.city,e=r==null?void 0:r.country,a=x(t),s=I(t),c=L(t,n,e),u=U(t,n,e),o=E(a,s,c),l=Y(a,s,c),S=v(a,s),C=new Date(t),g=i=>{const p=29.530588853,M=new Date(Date.UTC(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds())),O=new Date(Date.UTC(2023,0,21,20,53,0));let P=(M.getTime()-O.getTime())/(1e3*60*60*24)%p/p;return P<0&&(P+=1),P},w=i=>i<.03||i>=.97?{name:"New Moon",emoji:"ðŸŒ‘"}:i<.22?{name:"Waxing Crescent",emoji:"ðŸŒ’"}:i<.28?{name:"First Quarter",emoji:"ðŸŒ“"}:i<.47?{name:"Waxing Gibbous",emoji:"ðŸŒ”"}:i<.53?{name:"Full Moon",emoji:"ðŸŒ•"}:i<.72?{name:"Waning Gibbous",emoji:"ðŸŒ–"}:i<.78?{name:"Last Quarter",emoji:"ðŸŒ—"}:{name:"Waning Crescent",emoji:"ðŸŒ˜"},f=g(C),{name:A}=w(f);function m(i,p){const M=h.indexOf(i),O=h.indexOf(p);let d=Math.abs(M-O);return d>6&&(d=12-d),d===0?"conjunction":d===4?"trine":d===2?"sextile":d===6?"opposition":d===3?"square":null}const D=[{pair:"Sun-Moon",type:m(a,s)},{pair:"Sun-Ascendant",type:m(a,c)},{pair:"Moon-Ascendant",type:m(s,c)}];return{date:t,planets:{sun:{name:"Sun",sign:a,degree:Math.floor(Math.random()*30),retrograde:!1,longitude:Math.floor(Math.random()*360),speed:1},moon:{name:"Moon",sign:s,degree:Math.floor(Math.random()*30),retrograde:!1,longitude:Math.floor(Math.random()*360),speed:13.2}},moonPhase:{name:A,value:f,illumination:f<.5?f*2:(1-f)*2},elements:o,modalities:l,sunSign:a,moonSign:s,ascendant:c,dominantPlanets:S,astroWeather:u,houses:{ascendant:{sign:c,degree:Math.floor(Math.random()*30)}},signs:{},aspects:D}}export{L as calculateAscendant,U as calculateAstroWeather,v as calculateDominantPlanets,E as calculateElementalBalance,Y as calculateModalBalance,I as calculateMoonSign,x as calculateSunSign,G as generatePlayerAstroData};
//# sourceMappingURL=playerAstroService-B0tkTbkN.js.map
