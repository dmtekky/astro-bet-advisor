{"version":3,"file":"NbaTeamDetailPage-BZ7VDTMF.js","sources":["../../src/pages/NbaTeamDetailPage.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { fetchNbaTeams, fetchNbaPlayers } from '../lib/supabase';\nimport type { NbaTeam, NbaPlayer } from '../types/nba.types';\n\nconst NbaTeamDetailPage: React.FC = () => {\n  const { teamId } = useParams<{ teamId: string }>();\n  const [team, setTeam] = useState<NbaTeam | null>(null);\n  const [players, setPlayers] = useState<NbaPlayer[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    async function fetchData() {\n      console.log(`[NbaTeamDetailPage] teamId from URL: ${teamId}, type: ${typeof teamId}`);\n      try {\n        const teams = await fetchNbaTeams();\n        console.log('[NbaTeamDetailPage] Fetched teams:', teams.map(t => ({ id: t.id, external_team_id: t.external_team_id, name: t.name })));\n        \n        const foundTeam = teams.find(t => {\n          const matchById = String(t.id) === teamId;\n          const matchByExternalId = t.external_team_id === teamId;\n          if (matchById) console.log(`[NbaTeamDetailPage] Matched team ${t.name} by id: ${t.id} === ${teamId}`);\n          if (matchByExternalId) console.log(`[NbaTeamDetailPage] Matched team ${t.name} by external_team_id: ${t.external_team_id} === ${teamId}`);\n          return matchById || matchByExternalId;\n        });\n        \n        if (!foundTeam) {\n          console.log(`[NbaTeamDetailPage] Team not found for teamId: ${teamId}`);\n        }\n        setTeam(foundTeam || null);\n        \n        // If we found a team, filter players by the team's external_team_id\n        if (foundTeam) {\n          const allPlayers = await fetchNbaPlayers();\n          setPlayers(allPlayers.filter(p => p.team_id === foundTeam.external_team_id));\n        }\n      } catch (err: any) {\n        setError(err.message);\n      } finally {\n        setLoading(false);\n      }\n    }\n    fetchData();\n  }, [teamId]);\n\n  if (loading) return <div>Loading...</div>;\n  if (error) return <div>Error: {error}</div>;\n  if (!team) return <div>Team not found.</div>;\n\n  return (\n    <div>\n      <h1>{team.city} {team.name} ({team.abbreviation})</h1>\n      <p>Conference: {team.conference} | Division: {team.division}</p>\n      <h2>Roster</h2>\n      <ul>\n        {players.map(player => (\n          <li key={player.external_player_id}>\n            <Link to={`/nba/players/${player.external_player_id}`}>\n              {player.first_name} {player.last_name} ({player.primary_position})\n            </Link>\n          </li>\n        ))}\n      </ul>\n      <Link to=\"/nba/teams\">Back to Teams</Link>\n    </div>\n  );\n};\n\nexport default NbaTeamDetailPage;\n"],"names":["NbaTeamDetailPage","teamId","useParams","team","setTeam","useState","players","setPlayers","loading","setLoading","error","setError","useEffect","fetchData","teams","fetchNbaTeams","t","foundTeam","matchById","matchByExternalId","allPlayers","fetchNbaPlayers","p","err","jsx","jsxs","player","Link"],"mappings":"8EAKA,MAAMA,EAA8B,IAAM,CAClC,KAAA,CAAE,OAAAC,CAAO,EAAIC,EAA8B,EAC3C,CAACC,EAAMC,CAAO,EAAIC,EAAAA,SAAyB,IAAI,EAC/C,CAACC,EAASC,CAAU,EAAIF,EAAAA,SAAsB,CAAA,CAAE,EAChD,CAACG,EAASC,CAAU,EAAIJ,EAAAA,SAAS,EAAI,EACrC,CAACK,EAAOC,CAAQ,EAAIN,EAAAA,SAAwB,IAAI,EAoCtD,OAlCAO,EAAAA,UAAU,IAAM,CACd,eAAeC,GAAY,CACzB,QAAQ,IAAI,wCAAwCZ,CAAM,WAAW,OAAOA,CAAM,EAAE,EAChF,GAAA,CACI,MAAAa,EAAQ,MAAMC,EAAc,EAClC,QAAQ,IAAI,qCAAsCD,EAAM,IAAIE,IAAM,CAAE,GAAIA,EAAE,GAAI,iBAAkBA,EAAE,iBAAkB,KAAMA,EAAE,MAAO,CAAC,EAE9H,MAAAC,EAAYH,EAAM,KAAUE,GAAA,CAChC,MAAME,EAAY,OAAOF,EAAE,EAAE,IAAMf,EAC7BkB,EAAoBH,EAAE,mBAAqBf,EAC7C,OAAAiB,GAAmB,QAAA,IAAI,oCAAoCF,EAAE,IAAI,WAAWA,EAAE,EAAE,QAAQf,CAAM,EAAE,EAChGkB,GAA2B,QAAA,IAAI,oCAAoCH,EAAE,IAAI,yBAAyBA,EAAE,gBAAgB,QAAQf,CAAM,EAAE,EACjIiB,GAAaC,CAAA,CACrB,EAQD,GANKF,GACK,QAAA,IAAI,kDAAkDhB,CAAM,EAAE,EAExEG,EAAQa,GAAa,IAAI,EAGrBA,EAAW,CACP,MAAAG,EAAa,MAAMC,EAAgB,EACzCd,EAAWa,EAAW,OAAOE,GAAKA,EAAE,UAAYL,EAAU,gBAAgB,CAAC,CAAA,QAEtEM,EAAU,CACjBZ,EAASY,EAAI,OAAO,CAAA,QACpB,CACAd,EAAW,EAAK,CAAA,CAClB,CAEQI,EAAA,CAAA,EACT,CAACZ,CAAM,CAAC,EAEPO,EAAiBgB,EAAA,MAAA,CAAI,SAAU,aAAA,EAC/Bd,EAAce,EAAC,MAAI,CAAA,SAAA,CAAA,UAAQf,CAAA,EAAM,EAChCP,IAGF,MACC,CAAA,SAAA,CAAAsB,EAAC,KAAI,CAAA,SAAA,CAAKtB,EAAA,KAAK,IAAEA,EAAK,KAAK,KAAGA,EAAK,aAAa,GAAA,EAAC,IAChD,IAAE,CAAA,SAAA,CAAA,eAAaA,EAAK,WAAW,gBAAcA,EAAK,QAAA,EAAS,EAC5DqB,EAAC,MAAG,SAAM,QAAA,CAAA,EACTA,EAAA,KAAA,CACE,SAAQlB,EAAA,IACPoB,GAAAF,EAAC,KACC,CAAA,SAAAC,EAACE,EAAK,CAAA,GAAI,gBAAgBD,EAAO,kBAAkB,GAChD,SAAA,CAAOA,EAAA,WAAW,IAAEA,EAAO,UAAU,KAAGA,EAAO,iBAAiB,GAAA,CAAA,CACnE,CAHO,EAAAA,EAAO,kBAIhB,CACD,CACH,CAAA,EACCF,EAAAG,EAAA,CAAK,GAAG,aAAa,SAAa,eAAA,CAAA,CAAA,EACrC,EAjBgBH,EAAC,OAAI,SAAe,kBAAA,CAmBxC"}