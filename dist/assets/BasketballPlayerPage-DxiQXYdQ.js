import{j as n,b as e,F as M,e as L,y as T,r as A,z as I}from"./main-BDfILoKw.js";import{generatePlayerAstroData as B}from"./playerAstroService-B0tkTbkN.js";import{C as G,B as j,A as O}from"./BigThreeAstroCards-CYki7ulu.js";const R=({player:a})=>{var r;return n("section",{className:"flex flex-col items-center text-center gap-4 bg-white p-8 rounded-lg shadow-md",children:[e("div",{className:"w-32 h-32 rounded-full overflow-hidden border-4 border-blue-600 bg-gray-100 flex items-center justify-center",children:a.headshot_url?e("img",{src:a.headshot_url,alt:`${a.full_name} headshot`,className:"w-full h-full object-cover",onError:s=>{s.target.src="https://via.placeholder.com/150/cccccc/666666?text=No+Image"},loading:"lazy"}):e("div",{className:"w-full h-full flex items-center justify-center bg-blue-100 text-blue-800 text-xl font-bold",children:(r=a.full_name)==null?void 0:r.split(" ").map(s=>s[0]).join("")})}),e("h1",{className:"text-4xl font-bold text-gray-800",children:a.full_name}),n("div",{className:"flex items-center gap-2",children:[n("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full font-semibold",children:["#",a.number||"N/A"]}),e("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full font-semibold",children:a.position||"N/A"}),a.team_name&&e("span",{className:"px-3 py-1 bg-purple-100 text-purple-800 rounded-full font-semibold",children:a.team_name})]}),a.birth_date&&n("p",{className:"text-gray-600 mt-2",children:["Born: ",new Date(a.birth_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]}),a.birth_location&&n("p",{className:"text-gray-600",children:["From: ",a.birth_location]})]})},E=a=>({Aries:"Fire",Taurus:"Earth",Gemini:"Air",Cancer:"Water",Leo:"Fire",Virgo:"Earth",Libra:"Air",Scorpio:"Water",Sagittarius:"Fire",Capricorn:"Earth",Aquarius:"Air",Pisces:"Water"})[a]||"Earth",W=a=>{const r=["Fire","Earth","Air","Water"],s={Fire:0,Earth:0,Air:0,Water:0};s[E(a.sunSign.sign)]+=1.5,s[E(a.moonSign.sign)]+=1.2,s[E(a.ascendant.sign)]+=1;const m=Object.values(s).reduce((o,c)=>o+c,0),h=r.map(o=>{const c=s[o]/m*100;return{name:o,raw:c}}).map(o=>({name:o.name,value:Math.round(o.raw),diff:Math.round(o.raw)-o.raw}));h.sort((o,c)=>o.diff-c.diff);const u=100-h.reduce((o,c)=>o+c.value,0);for(let o=0;o<Math.abs(u);o++){const c=u>0?o:h.length-1-o;h[c].value+=u>0?1:-1}return h.map(o=>({name:o.name,percentage:o.value}))},V=a=>({Fire:"#ef4444",Earth:"#22c55e",Air:"#3b82f6",Water:"#8b5cf6"})[a]||"#6b7280",q=a=>a>=35?"Strong Influence":a>=20?"Moderate Influence":"Minimal Influence",z=(a,r,s)=>{var h;const m={Fire:{strong:`${s} has a powerful Fire presence (${r}%), bringing intense energy, passion, and competitive drive to the game. This makes ${s} a natural leader with a strong will to win.`,moderate:`A balanced Fire presence (${r}%) gives ${s} good energy and motivation, though they may need to be mindful of maintaining consistency.`,minimal:`With minimal Fire (${r}%), ${s} may need to work on bringing more energy and assertiveness to their game.`},Earth:{strong:`A strong Earth presence (${r}%) gives ${s} exceptional reliability, consistency, and practical skills. They're the rock of the team, always delivering solid performances.`,moderate:`A balanced Earth presence (${r}%) helps ${s} stay grounded and focused, though they may need to work on being more adaptable.`,minimal:`With minimal Earth (${r}%), ${s} may need to focus on developing more consistency and reliability in their performance.`},Air:{strong:`A dominant Air presence (${r}%) gives ${s} excellent mental agility, communication skills, and the ability to understand complex plays and strategies.`,moderate:`A good balance of Air (${r}%) gives ${s} solid mental agility and the ability to understand complex plays.`,minimal:`With minimal Air (${r}%), ${s} may need to work on their strategic thinking and communication on the field.`},Water:{strong:`A strong Water presence (${r}%) gives ${s} exceptional emotional intelligence, intuition, and team chemistry. They're able to read the game and their teammates with ease.`,moderate:`A balanced Water presence (${r}%) helps ${s} connect with teammates and understand the flow of the game.`,minimal:`Minimal Water (${r}%) suggests ${s} may need to work on emotional awareness and team chemistry.`}},i=r>=35?"strong":r>=20?"moderate":"minimal";return((h=m[a])==null?void 0:h[i])||`${s}'s ${a} influence is ${i}.`},Q=(a,r)=>W(a).map(m=>({element:m.name,percentage:m.percentage,strength:q(m.percentage),description:z(m.name,m.percentage,r)})),J=a=>a>=80?"greatly enhanced":a>=60?"significantly boosted":a>=40?"moderately affected":a>=20?"slightly influenced":"minimally affected",U=a=>{switch(a){case"Fire":return"bg-red-500";case"Earth":return"bg-yellow-600";case"Air":return"bg-blue-400";case"Water":return"bg-blue-600";default:return"bg-gray-400"}},Y=a=>{switch(a){case"Fire":return"#EF4444";case"Earth":return"#D97706";case"Air":return"#60A5FA";case"Water":return"#2563EB";default:return"#9CA3AF"}},K=({player:a,astro:r})=>{var m;const s=r?W(r):[];return n("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[e("h2",{className:"text-2xl font-semibold mb-6 text-gray-800 border-b pb-2",children:"Astrological Influence"}),e("div",{className:"flex flex-col items-center",children:a.astro_influence!==void 0&&a.astro_influence!==null?n(M,{children:[n(G,{value:a.astro_influence,size:160,strokeWidth:12,showDescription:!0,children:[n("span",{className:"text-3xl font-bold",children:[Math.round(a.astro_influence),"%"]}),e("span",{className:"text-sm text-gray-500 mt-1",children:"Astro Influence"})]}),n("p",{className:"mt-2 text-sm text-gray-600 max-w-xs text-center",children:[(m=a.full_name)==null?void 0:m.split(" ")[0],"'s performance may be ",J(a.astro_influence)," by today's celestial alignments."]})]}):e("div",{className:"text-center p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:e("p",{className:"text-yellow-700",children:"Astrological influence data not available"})})})]}),n("div",{className:"bg-white p-6 rounded-lg shadow-md border-l-4 border-blue-500",children:[e("h2",{className:"text-2xl font-semibold mb-3 text-gray-800",children:"Player Impact"}),n("div",{className:"flex flex-col",children:[n("div",{className:"flex items-center justify-between",children:[e("p",{className:"text-lg",children:"Overall Impact:"}),a.impact_score!==void 0&&a.impact_score!==null?e("span",{className:"font-bold text-blue-600 text-xl",children:typeof a.impact_score=="number"?a.impact_score.toFixed(1):a.impact_score}):e("span",{className:"text-gray-500",children:"N/A"})]}),a.impact_score!==void 0&&a.impact_score!==null&&e("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mt-2",children:e("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${Math.min((typeof a.impact_score=="number"?a.impact_score:parseFloat(a.impact_score)||0)*10,100)}%`}})}),e("p",{className:"mt-4 text-sm text-gray-600",children:"Impact score represents the player's overall contribution based on statistical performance and astrological alignment."}),s.length>0&&n("div",{className:"mt-8 pt-6 border-t border-gray-100",children:[e("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Elemental Composition"}),e("div",{className:"relative h-6 rounded-full bg-gray-100 shadow-inner overflow-hidden",children:e("div",{className:"absolute inset-0 flex",children:s.map((i,h,g)=>n("div",{className:`h-full relative ${U(i.name)}`,style:{width:`${i.percentage}%`,marginLeft:h===0?"0":"-1px",zIndex:g.length-h},children:[e("div",{className:"absolute inset-0 bg-gradient-to-b from-white/20 to-transparent"}),i.percentage>12&&n("span",{className:"absolute inset-0 flex items-center justify-center text-xs font-medium text-white mix-blend-overlay",children:[i.percentage,"% ",i.name]})]},i.name))})}),e("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 mt-4",children:s.map(i=>n("div",{className:"flex items-center",children:[e("div",{className:"w-3 h-3 rounded-sm mr-2 shadow-sm",style:{backgroundColor:Y(i.name)}}),n("span",{className:"text-xs font-medium text-gray-700",children:[i.name," ",n("span",{className:"text-gray-500",children:[i.percentage,"%"]})]})]},i.name))})]})]})]})]})},H=a=>["Fire","Earth","Air","Water"].map(s=>({name:s,percentage:Math.round(Math.random()*30+10)})),D={Fire:["power hitting","aggressive base running","fastball velocity","competitive drive"],Earth:["defensive consistency","plate discipline","ground ball pitching","endurance"],Air:["pitch recognition","bat speed","breaking ball movement","strategic thinking"],Water:["adaptability","clutch performance","changeup effectiveness","team chemistry"]},Z=["New Moon","Waxing Crescent","First Quarter","Waxing Gibbous","Full Moon","Waning Gibbous","Last Quarter","Waning Crescent"],X=({player:a,astro:r})=>{const m=[...H()].sort((t,l)=>l.percentage-t.percentage),i=m[0].name,h=m[1].name,u=new Date(a.birth_date||new Date).getDate(),o=new Date,c=Math.floor((o.getTime()-new Date(o.getFullYear(),0,0).getTime())/864e5),d=(u+c)%100/100>.4,x=Z[c%8],N=()=>{if(d){const t=[`Planetary alignments are currently enhancing ${a.full_name}'s ${D[i][0]} and ${D[h][1]}.`,`${r.sunSign.sign}'s energy is currently boosting ${a.full_name}'s natural ${i.toLowerCase()} element attributes.`,`The current ${x} phase aligns well with ${a.full_name}'s ${r.moonSign.sign} moon sign, suggesting peak performance potential.`,`${a.full_name}'s ${i} dominant nature is being positively activated by current planetary transits.`];return t[c%t.length]}else{const t=[`Current planetary alignments may challenge ${a.full_name}'s natural ${i.toLowerCase()} element strengths.`,`${a.full_name}'s ${r.sunSign.sign} energy is currently experiencing resistance from planetary transits.`,`The current ${x} phase creates tension with ${a.full_name}'s ${r.moonSign.sign} moon sign.`,`Planetary positions suggest ${a.full_name} may need to work harder to access their natural ${i} element talents.`];return t[c%t.length]}},w=()=>{const t=[];return i==="Fire"?(t.push(d?`Strong power hitting potential, especially against ${["left-handed","right-handed"][c%2]} pitchers`:"May struggle with timing on breaking balls, affecting power numbers"),t.push(d?"Increased aggression on the basepaths could lead to extra bases":"Risk of overaggression could lead to baserunning errors")):i==="Earth"?(t.push(d?"Exceptional defensive positioning and fielding consistency expected":"May play too conservatively in high-pressure defensive situations"),t.push(d?"Excellent pitch selection and plate discipline likely":"Could be overly patient at the plate, missing hittable pitches")):i==="Air"?(t.push(d?"Enhanced ability to read and react to complex pitch sequences":"May overthink at-bats, leading to mental fatigue late in games"),t.push(d?"Quick adjustments to opposing pitchers' strategies":"Could struggle against pitchers with unpredictable patterns")):i==="Water"&&(t.push(d?"Exceptional performance in high-pressure, clutch situations":"Emotional fluctuations might affect consistency"),t.push(d?"Adaptive approach allows quick recovery from slumps":"Might be overly influenced by team momentum swings")),t.push(d?`${r.moonSign.sign} moon sign suggests peak performance during ${["night games","day games","home stands","road trips"][c%4]}`:`${r.moonSign.sign} moon sign suggests caution during ${["night games","day games","home stands","road trips"][c%4]}`),t},$=()=>{const t=["Aries","Taurus","Gemini","Cancer","Leo","Virgo","Libra","Scorpio","Sagittarius","Capricorn","Aquarius","Pisces"],l=[r.sunSign.sign,r.moonSign.sign,t[(t.indexOf(r.sunSign.sign)+4)%12],t[(t.indexOf(r.sunSign.sign)+8)%12]];return`Moon in ${l[c%l.length]} (${["early","mid","late"][c%3]} ${["June","July","August","September","October"][c%5]} is optimal)`},f=()=>{const t={Fire:["Aries","Leo","Sagittarius"],Earth:["Taurus","Virgo","Capricorn"],Air:["Gemini","Libra","Aquarius"],Water:["Cancer","Scorpio","Pisces"]},l=r.sunSign.element,p=t[l]||[];return`${a.full_name}'s astrological profile suggests strongest team chemistry with players born under ${p.join(", ")} signs.`};return n(M,{children:[e("div",{className:"bg-white p-6 rounded-lg shadow-md mb-8",children:n("div",{className:"flex items-start",children:[e("div",{className:`flex-shrink-0 h-6 w-1 rounded-full ${d?"bg-green-500":"bg-yellow-500"}`}),n("div",{className:"ml-4 w-full",children:[e("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:d?"Favorable Outlook":"Challenging Period"}),e("p",{className:"text-gray-700 mb-3",children:N()}),n("div",{className:"mb-3",children:[e("h4",{className:"text-md font-medium text-gray-700 mb-2",children:"Astrological Impacts on Performance:"}),e("ul",{className:"list-disc pl-5 space-y-1",children:w().map((t,l)=>e("li",{className:"text-sm text-gray-600",children:t},l))})]}),e("div",{className:"mt-4 pt-3 border-t border-gray-100",children:n("p",{className:"text-sm text-indigo-600 font-medium",children:["Next favorable period: ",$()]})})]})]})}),n("section",{className:"bg-white p-6 rounded-lg shadow-md",children:[e("h2",{className:"text-2xl font-semibold mb-4 text-gray-800 border-b pb-2",children:"Astrological Profile"}),e("div",{className:"mt-4",children:e(j,{astro:r,playerName:a.full_name||""})}),n("div",{className:"mt-6 p-4 bg-indigo-50 rounded-lg border border-indigo-100",children:[e("h3",{className:"font-semibold text-indigo-800 mb-2",children:"Astrological Interpretation"}),e(O,{player:a,astro:r})]}),e("div",{className:"mt-6",children:n("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200",children:[e("h3",{className:"font-semibold text-orange-800 mb-2",children:"Compatibility"}),e("p",{className:"text-gray-700",children:f()})]})})]})]})},ee=({player:a,astro:r})=>{const m=[...[{name:"Fire",percentage:30},{name:"Earth",percentage:25},{name:"Air",percentage:25},{name:"Water",percentage:20}]].sort((t,l)=>l.percentage-t.percentage),i=m[0].name,h=m[1].name,u=new Date(a.birth_date||new Date).getDate(),o=new Date,c=Math.floor((o.getTime()-new Date(o.getFullYear(),0,0).getTime())/864e5),d=(u+c)%100/100>.4,x=["New Moon","Waxing Crescent","First Quarter","Waxing Gibbous","Full Moon","Waning Gibbous","Last Quarter","Waning Crescent"][c%8],N={Fire:["scoring","aggressive drives","fast breaks","competitive drive"],Earth:["defensive consistency","rebounding","post moves","endurance"],Air:["court vision","shooting","ball handling","basketball IQ"],Water:["clutch performance","team chemistry","adaptability","emotional control"]},w=()=>{if(d){const t=[`Planetary alignments are currently enhancing ${a.full_name}'s ${N[i][0]} and ${N[h][1]}.`,`${r.sunSign.sign}'s energy is currently boosting ${a.full_name}'s natural ${i.toLowerCase()} element attributes.`,`The current ${x} phase aligns well with ${a.full_name}'s ${r.moonSign.sign} moon sign, suggesting peak performance potential.`,`${a.full_name}'s ${i} dominant nature is being positively activated by current planetary transits.`];return t[c%t.length]}else{const t=[`Current planetary alignments may challenge ${a.full_name}'s natural ${i.toLowerCase()} element strengths.`,`${a.full_name}'s ${r.sunSign.sign} energy is currently experiencing resistance from planetary transits.`,`The current ${x} phase creates tension with ${a.full_name}'s ${r.moonSign.sign} moon sign.`,`Planetary positions suggest ${a.full_name} may need to work harder to access their natural ${i} element talents.`];return t[c%t.length]}},$=()=>{const t=[];return i==="Fire"?(t.push(d?"Strong scoring potential, especially in transition and fast break situations":"May struggle with shot selection and forcing plays"),t.push(d?"Increased aggression driving to the basket could lead to more free throw attempts":"Risk of foul trouble due to over-aggressive defense")):i==="Earth"?(t.push(d?"Exceptional defensive positioning and rebounding expected":"May be less mobile on defense against quicker opponents"),t.push(d?"Strong post presence and efficient scoring in the paint":"Could struggle against more physical defenders")):i==="Air"?(t.push(d?"Enhanced court vision and playmaking ability":"May overthink plays, leading to turnovers"),t.push(d?"Excellent three-point shooting and spacing":"Could struggle against aggressive on-ball defense")):i==="Water"&&(t.push(d?"Exceptional performance in clutch situations":"Emotions might affect consistency"),t.push(d?"Adaptive playstyle creates opportunities for teammates":"Might be overly affected by team momentum swings")),t.push(d?`${r.moonSign.sign} moon sign suggests peak performance during ${["night games","afternoon games","home games","road games"][c%4]}`:`${r.moonSign.sign} moon sign suggests caution during ${["night games","afternoon games","home games","road games"][c%4]}`),t},f=()=>{const t=["Aries","Taurus","Gemini","Cancer","Leo","Virgo","Libra","Scorpio","Sagittarius","Capricorn","Aquarius","Pisces"],l=[r.sunSign.sign,r.moonSign.sign,t[(t.indexOf(r.sunSign.sign)+4)%12],t[(t.indexOf(r.sunSign.sign)+8)%12]];return`Moon in ${l[c%l.length]} (${["early","mid","late"][c%3]} ${["November","December","January","February","March","April","May","June","July","August","September","October"][o.getMonth()]} is optimal)`};return e("div",{className:"bg-white p-6 rounded-lg shadow-md mb-8",children:n("div",{className:"flex items-start",children:[e("div",{className:`flex-shrink-0 h-6 w-1 rounded-full ${d?"bg-green-500":"bg-yellow-500"}`}),n("div",{className:"ml-4 w-full",children:[e("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:d?"Favorable Outlook":"Challenging Period"}),e("p",{className:"text-gray-700 mb-3",children:w()}),n("div",{className:"mb-3",children:[e("h4",{className:"text-md font-medium text-gray-700 mb-2",children:"Astrological Impacts on Performance:"}),e("ul",{className:"list-disc pl-5 space-y-1",children:$().map((t,l)=>e("li",{className:"text-sm text-gray-600",children:t},l))})]}),e("div",{className:"mt-4 pt-3 border-t border-gray-100",children:n("p",{className:"text-sm text-indigo-600 font-medium",children:["Next favorable period: ",f()]})})]})]})})},te=({player:a,league:r="NBA"})=>{const s=g=>{if(g==null)return"N/A";let u=typeof g=="number"?g:parseFloat(String(g));if(isNaN(u))return"N/A";if(u>0&&u<1)u*=100;else if(u<0||u>100)return"N/A";return u.toFixed(1)+"%"},m=(g,u=1)=>{if(g==null)return"N/A";const o=typeof g=="number"?g:parseFloat(String(g));return isNaN(o)?"N/A":u===0?o.toLocaleString():o.toFixed(u)};return n("section",{className:"mt-8 bg-white p-6 rounded-lg shadow-md",children:[e("h2",{className:"text-3xl font-bold mb-6 text-center text-gray-800 border-b pb-3",children:"Basketball Statistics"}),r==="NBA"?e("div",{className:"overflow-x-auto",children:n("table",{className:"min-w-full text-sm border border-gray-200",children:[e("thead",{children:e("tr",{className:"bg-gray-100",children:["GP","MIN","PTS","REB","AST","STL","BLK","FG%","3P%","FT%"].map(g=>e("th",{className:"px-3 py-2",children:g},g))})}),e("tbody",{children:n("tr",{children:[e("td",{className:"px-3 py-2",children:m(a.stats_games_played,0)}),e("td",{className:"px-3 py-2",children:m(a.stats_minutes_per_game)}),e("td",{className:"px-3 py-2",children:m(a.stats_points_per_game)}),e("td",{className:"px-3 py-2",children:m(a.stats_rebounds_per_game)}),e("td",{className:"px-3 py-2",children:m(a.stats_assists_per_game)}),e("td",{className:"px-3 py-2",children:m(a.stats_steals_per_game)}),e("td",{className:"px-3 py-2",children:m(a.stats_blocks_per_game)}),e("td",{className:"px-3 py-2",children:s(a.stats_field_goal_pct)}),e("td",{className:"px-3 py-2",children:s(a.stats_three_point_pct)}),e("td",{className:"px-3 py-2",children:s(a.stats_free_throw_pct)})]})})]})}):e("div",{className:"overflow-x-auto",children:n("table",{className:"min-w-full text-sm border border-gray-200",children:[e("thead",{children:e("tr",{className:"bg-gray-100",children:["GP","MIN","PTS","REB","AST","STL","BLK","FG%","3P%","FT%"].map(g=>e("th",{className:"px-3 py-2",children:g},g))})}),e("tbody",{children:e("tr",{children:e("td",{colSpan:10,className:"px-3 py-4 text-center text-gray-500",children:"No statistics available for this league"})})})]})})]})},ae={Aries:{element:"Fire",modality:"Cardinal",keywords:["energetic","pioneering"]},Taurus:{element:"Earth",modality:"Fixed",keywords:["grounded","sensual"]},Gemini:{element:"Air",modality:"Mutable",keywords:["communicative","curious"]},Cancer:{element:"Water",modality:"Cardinal",keywords:["nurturing","protective"]},Leo:{element:"Fire",modality:"Fixed",keywords:["charismatic","expressive"]},Virgo:{element:"Earth",modality:"Mutable",keywords:["analytical","practical"]},Libra:{element:"Air",modality:"Cardinal",keywords:["harmonious","diplomatic"]},Scorpio:{element:"Water",modality:"Fixed",keywords:["intense","transformative"]},Sagittarius:{element:"Fire",modality:"Mutable",keywords:["adventurous","optimistic"]},Capricorn:{element:"Earth",modality:"Cardinal",keywords:["disciplined","ambitious"]},Aquarius:{element:"Air",modality:"Fixed",keywords:["innovative","humanitarian"]},Pisces:{element:"Water",modality:"Mutable",keywords:["compassionate","imaginative"]}},C=a=>{const r=ae[a]||{element:"Unknown",modality:"Unknown",keywords:[]};return{sign:a,...r}},ie=()=>{var F;const{teamId:a,playerId:r}=L();T();const[s,m]=A.useState(null),[i,h]=A.useState(null),[g,u]=A.useState(!0),[o,c]=A.useState(null);return A.useEffect(()=>{r&&(async()=>{var x,N,w,$;u(!0),c(null);try{if(!r){c("No player ID provided."),u(!1);return}console.log(`[PlayerDetailPage] Fetching NBA player with ID: ${r}`);const f=await I(r,"nba");if(console.log("[PlayerDetailPage] Fetched player data:",f),!f)c("Player not found."),m(null);else{const t=f;console.log("NBA Player Data:",t),console.log("Impact Score Raw:",t.impact_score,"Type:",typeof t.impact_score),console.log("Player Stats:",{points_per_game:t.points_per_game,rebounds_per_game:t.rebounds_per_game,assists_per_game:t.assists_per_game,stats_points_per_game:t.stats_points_per_game,stats_rebounds_per_game:t.stats_rebounds_per_game,stats_assists_per_game:t.stats_assists_per_game});const l=(_,b=null)=>{if(_==null)return b;const y=typeof _=="string"?parseFloat(_):Number(_);return isNaN(y)?b:y},p=(_,b,y=null)=>{const k=l(_,null),S=l(b,1);return k===null||S===null||S===0?y:k/S},P=(_,b,y=null)=>{const k=l(_,0),S=l(b,0);return S===0?y:k/S},v={id:((x=t.id)==null?void 0:x.toString())||"",player_id:t.external_player_id||((N=t.id)==null?void 0:N.toString())||"",full_name:`${t.first_name||""} ${t.last_name||""}`.trim(),position:t.primary_position||"N/A",headshot_url:t.photo_url||t.player_official_image_src||void 0,birth_date:t.birth_date||t.player_birth_date||void 0,number:t.jersey_number||t.player_jersey_number||void 0,team_name:t.team_abbreviation||t.player_current_team_abbreviation||void 0,birth_location:t.birth_city||t.player_birth_city?`${t.birth_city||t.player_birth_city}${t.birth_country||t.player_birth_country?`, ${t.birth_country||t.player_birth_country}`:""}`:void 0,league:"NBA",impact_score:l(t.impact_score,l(t.astro_influence_score,null)),astro_influence_score:l(t.astro_influence_score,null),astro_influence:l(t.astro_influence,null),stats_games_played:l(t.games_played,l(t.games_started,null)),stats_minutes_per_game:l(t.minutes_per_game)||p(t.minutes_played,t.games_played,null),stats_points_per_game:l(t.points_per_game)||p(t.points,t.games_played,null),stats_rebounds_per_game:l(t.rebounds_per_game)||p(t.rebounds,t.games_played,null),stats_offensive_rebounds_per_game:l(t.offensive_rebounds_per_game)||p(t.offensive_rebounds,t.games_played,null),stats_defensive_rebounds_per_game:l(t.defensive_rebounds_per_game)||p(t.defensive_rebounds,t.games_played,null),stats_assists_per_game:l(t.assists_per_game)||p(t.assists,t.games_played,null),stats_steals_per_game:l(t.steals_per_game)||p(t.steals,t.games_played,null),stats_blocks_per_game:l(t.blocks_per_game)||p(t.blocks,t.games_played,null),stats_turnovers_per_game:l(t.turnovers_per_game)||p(t.turnovers,t.games_played,null),stats_field_goal_pct:l(t.field_goal_pct)||P(t.field_goals_made,t.field_goals_attempted,null),stats_three_point_pct:l(t.three_point_pct)||P(t.three_point_made,t.three_point_attempted,null),stats_free_throw_pct:l(t.free_throw_pct)||P(t.free_throws_made,t.free_throws_attempted,null),stats_plus_minus:l(t.plus_minus,null),stats_double_doubles:l(t.double_doubles,null),stats_triple_doubles:l(t.triple_doubles,null),stats_minutes_played:l(t.minutes_played,null)};if(m(v),v.birth_date&&v.birth_location){const _=v.birth_location?{city:(w=v.birth_location.split(",")[0])==null?void 0:w.trim(),country:(($=v.birth_location.split(",")[1])==null?void 0:$.trim())||"USA"}:void 0;try{const b=await B(v.birth_date,_),y={sunSign:C(b.planets.sun.sign),moonSign:C(b.planets.moon.sign),ascendant:C(b.ascendant),interpretation:void 0,chineseZodiac:void 0};h(y),console.log("[PlayerDetailPage] Generated astro data:",y)}catch(b){console.error("Error generating astrological data:",b)}}else h(null)}}catch(f){console.error("Error fetching player data:",f),c(`Failed to load player data: ${f instanceof Error?f.message:"Unknown error"}`)}finally{u(!1)}})()},[r]),g?e("div",{className:"flex justify-center items-center h-screen bg-gray-50",children:e("span",{className:"inline-block w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin","aria-label":"Loading player data"})}):o?e("div",{className:"min-h-screen bg-gray-50 text-gray-800 flex flex-col items-center justify-center p-4",children:n("div",{className:"bg-white p-8 rounded-lg shadow-xl text-center",children:[e("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Error"}),e("p",{children:o}),e("a",{href:"/dashboard",className:"mt-6 inline-block bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded transition-colors",children:"Return to Dashboard"})]})}):s?(console.log("PlayerDetailPage Render State:",{playerExists:!!s,playerId:s==null?void 0:s.id,playerLeague:s==null?void 0:s.league,isNBAExpected:(s==null?void 0:s.league)==="NBA",isLoading:g,error:o}),s?e("div",{className:"min-h-screen bg-gray-50 text-gray-800 font-sans",children:n("main",{className:"container mx-auto px-4 py-8 flex flex-col gap-8",children:[e(R,{player:s}),e(K,{player:s,astro:i}),i&&e(ee,{player:s,astro:i}),i&&e(X,{player:s,astro:i}),e(te,{player:s,league:s.league}),s.league!=="NBA"&&n("section",{className:"mt-8 bg-white p-6 rounded-lg shadow-md",children:[e("h2",{className:"text-3xl font-bold mb-6 text-center text-gray-800 border-b pb-3",children:"Basketball Statistics"}),n("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[n("div",{className:"bg-orange-50 p-4 rounded-lg text-center border border-orange-100",children:[e("p",{className:"text-sm text-orange-600 font-medium",children:"PPG"}),e("p",{className:"text-2xl font-bold text-gray-800",children:s.stats_points_per_game!==null&&s.stats_points_per_game!==void 0?typeof s.stats_points_per_game=="number"?s.stats_points_per_game.toFixed(1):parseFloat(String(s.stats_points_per_game)).toFixed(1):"0.0"})]}),n("div",{className:"bg-blue-50 p-4 rounded-lg text-center border border-blue-100",children:[e("p",{className:"text-sm text-blue-600 font-medium",children:"RPG"}),e("p",{className:"text-2xl font-bold text-gray-800",children:s.stats_rebounds_per_game!==null&&s.stats_rebounds_per_game!==void 0?typeof s.stats_rebounds_per_game=="number"?s.stats_rebounds_per_game.toFixed(1):parseFloat(String(s.stats_rebounds_per_game)).toFixed(1):"0.0"})]}),n("div",{className:"bg-green-50 p-4 rounded-lg text-center border border-green-100",children:[e("p",{className:"text-sm text-green-600 font-medium",children:"APG"}),e("p",{className:"text-2xl font-bold text-gray-800",children:s.stats_assists_per_game!==null&&s.stats_assists_per_game!==void 0?typeof s.stats_assists_per_game=="number"?s.stats_assists_per_game.toFixed(1):parseFloat(String(s.stats_assists_per_game)).toFixed(1):"0.0"})]}),n("div",{className:"bg-purple-50 p-4 rounded-lg text-center border border-purple-100",children:[e("p",{className:"text-sm text-purple-600 font-medium",children:"FG%"}),e("p",{className:"text-2xl font-bold text-gray-800",children:s.stats_field_goal_pct!==null&&s.stats_field_goal_pct!==void 0?(typeof s.stats_field_goal_pct=="number"?(s.stats_field_goal_pct*100).toFixed(1):(parseFloat(String(s.stats_field_goal_pct))*100).toFixed(1))+"%":"0.0%"})]})]}),n("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n("div",{children:[n("div",{className:"flex items-center mb-4",children:[e("div",{className:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center mr-2",children:e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-orange-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),e("h3",{className:"text-xl font-bold text-gray-800",children:"Offensive Statistics"})]}),e("div",{className:"overflow-x-auto bg-white border border-gray-200 rounded-lg shadow-sm",children:n("table",{className:"min-w-full divide-y divide-gray-200",children:[e("thead",{className:"bg-gray-50",children:n("tr",{children:[e("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statistic"}),e("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Value"})]})}),n("tbody",{className:"bg-white divide-y divide-gray-200",children:[n("tr",{className:"hover:bg-gray-50",children:[e("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-700",children:"Points Per Game"}),e("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700 text-right font-mono",children:s.stats_points_per_game||"0.0"})]}),n("tr",{className:"hover:bg-gray-50",children:[e("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-700",children:"Field Goal %"}),e("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700 text-right font-mono",children:s.stats_field_goal_pct?(parseFloat(s.stats_field_goal_pct)*100).toFixed(1)+"%":"N/A"})]}),n("tr",{className:"hover:bg-gray-50",children:[e("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-700",children:"3-Point %"}),e("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700 text-right font-mono",children:s.stats_three_point_pct?(parseFloat(s.stats_three_point_pct)*100).toFixed(1)+"%":"N/A"})]}),n("tr",{className:"hover:bg-gray-50",children:[e("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-700",children:"Free Throw %"}),e("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700 text-right font-mono",children:s.stats_free_throw_pct?(parseFloat(s.stats_free_throw_pct)*100).toFixed(1)+"%":"N/A"})]})]})]})})]}),n("div",{children:[n("div",{className:"flex items-center mb-4",children:[e("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mr-2",children:e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.618 5.984A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),e("h3",{className:"text-xl font-bold text-gray-800",children:"Defensive & Other Stats"})]}),e("div",{className:"overflow-x-auto bg-white border border-gray-200 rounded-lg shadow-sm",children:n("table",{className:"min-w-full divide-y divide-gray-200",children:[e("thead",{className:"bg-gray-50",children:n("tr",{children:[e("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statistic"}),e("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Value"})]})}),n("tbody",{className:"bg-white divide-y divide-gray-200",children:[n("tr",{className:"hover:bg-gray-50",children:[e("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-700",children:"Rebounds Per Game"}),e("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700 text-right font-mono",children:s.stats_rebounds_per_game||"0.0"})]}),n("tr",{className:"hover:bg-gray-50",children:[e("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-700",children:"Assists Per Game"}),e("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700 text-right font-mono",children:s.stats_assists_per_game||"0.0"})]}),n("tr",{className:"hover:bg-gray-50",children:[e("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-700",children:"Steals Per Game"}),e("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700 text-right font-mono",children:s.stats_steals_per_game||"0.0"})]}),n("tr",{className:"hover:bg-gray-50",children:[e("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-700",children:"Blocks Per Game"}),e("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700 text-right font-mono",children:s.stats_blocks_per_game||"0.0"})]})]})]})})]})]}),n("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Performance Trend"}),e("div",{className:"h-48 bg-white p-4 rounded border border-gray-200 flex items-center justify-center",children:e("p",{className:"text-gray-500",children:"Performance trend visualization will be available soon."})})]})]}),i&&n("section",{className:"bg-white p-6 rounded-lg shadow-md mt-8",children:[e("h2",{className:"text-2xl font-bold mb-6 text-gray-800 border-b pb-3",children:"Elemental Influence"}),e("div",{className:"space-y-4",children:Q(i,((F=s==null?void 0:s.full_name)==null?void 0:F.split(" ")[0])||"Their").map(d=>n("div",{className:"p-4 rounded-lg border-l-4 bg-gray-50",style:{borderColor:V(d.element)},children:[n("div",{className:"flex items-center justify-between mb-1",children:[n("h4",{className:"font-semibold text-gray-800",children:[d.element,": ",d.percentage,"%"]}),e("span",{className:"text-sm text-gray-500",children:d.strength})]}),e("p",{className:"text-gray-700 text-sm",children:d.description})]},d.element))})]})]})}):e("div",{className:"flex justify-center items-center h-screen bg-gray-50",children:e("span",{className:"inline-block w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin","aria-label":"Loading player data"})})):e("div",{className:"min-h-screen bg-gray-50 text-gray-800 flex flex-col items-center justify-center p-4",children:n("div",{className:"bg-white p-8 rounded-lg shadow-xl text-center",children:[e("h2",{className:"text-2xl font-bold text-yellow-600 mb-4",children:"Player Not Found"}),e("p",{children:"The requested player could not be found."}),e("a",{href:"/dashboard",className:"mt-6 inline-block bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded transition-colors",children:"Return to Dashboard"})]})})};export{ie as default};
//# sourceMappingURL=BasketballPlayerPage-DxiQXYdQ.js.map
