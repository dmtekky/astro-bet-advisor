import{e as $,r as b,b as e,j as s,B as _}from"./main-BDfILoKw.js";import{u as I,a as R}from"./useUpcomingGames-oenNZVZ7.js";import{G as K}from"./GameCard-Cu4jeEUe.js";import{C as H}from"./chevron-left-CwexNKVM.js";import{C as V}from"./chevron-right-Cv1hU44f.js";import"./index-CP622Ca8.js";import"./card-CC9ncavt.js";const W=l=>{const t=new Date(l),n=new Date,r=new Date(n);return r.setDate(r.getDate()+1),t.toDateString()===n.toDateString()?"Today":t.toDateString()===r.toDateString()?"Tomorrow":t.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})},v=l=>{if(!l)return new Date(NaN);let t=l.replace(" ","T");return new Date(t)},Y=l=>{const t={};return l.forEach(n=>{const o=v(n.game_date).toDateString();t[o]||(t[o]=[]),t[o].push(n)}),Object.entries(t).map(([n,r])=>({date:new Date(n),games:r.sort((o,i)=>v(o.game_date).getTime()-v(i.game_date).getTime())})).sort((n,r)=>n.date.getTime()-r.date.getTime())},N={soccer:"https://cdn-icons-png.flaticon.com/512/33/33736.png",basketball:"https://cdn-icons-png.flaticon.com/512/33/33682.png",football:"https://cdn-icons-png.flaticon.com/512/1/1322.png",baseball:"https://cdn-icons-png.flaticon.com/512/33/33736.png",hockey:"https://cdn-icons-png.flaticon.com/512/33/33618.png"},q="mlb",te=()=>{const{sport:l="baseball_mlb"}=$(),[t,n]=b.useState(""),[r,o]=b.useState(0),i=15,{teams:h,teamMap:k,teamByExternalId:L,loading:C,error:m}=I(q);b.useMemo(()=>[{id:"",name:"All Teams"},...h.map(a=>({id:a.id,name:a.city?`${a.city} ${a.name}`:a.name}))],[h]);const{games:w,loading:g,error:p,hasMore:D}=R({sport:l,limit:i,offset:r*i,teamId:t||void 0}),x=Y(w),y=x.length,S=Math.ceil(y/3),j=b.useMemo(()=>{const f=Math.min(3,y);return x.slice(0,f)},[x,y]),M=()=>{(r<S-1||D)&&o(a=>a+1)},P=()=>{r>0&&o(a=>a-1)},G=a=>{n(a.target.value),o(0)};return p||m?e("div",{className:"container py-8",children:e("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:s("div",{className:"flex",children:[e("div",{className:"flex-shrink-0",children:e("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.28 7.22a.75.75 0 00-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 101.06 1.06L10 11.06l1.72 1.72a.75.75 0 101.06-1.06L11.06 10l1.72-1.72a.75.75 0 00-1.06-1.06L10 8.94 8.28 7.22z",clipRule:"evenodd"})})}),e("div",{className:"ml-3",children:e("p",{className:"text-sm text-red-700",children:(p==null?void 0:p.message)||(m==null?void 0:m.message)||"Failed to load data. Please try again later."})})]})})}):g||C?e("div",{className:"container px-3 sm:px-4 py-8",children:s("div",{className:"animate-pulse space-y-6",children:[e("div",{className:"h-8 bg-gray-200 dark:bg-gray-800 rounded w-1/2 max-w-xs"}),s("div",{className:"h-16 bg-gray-100 dark:bg-gray-800/50 rounded-lg p-4",children:[e("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/3 mb-2"}),e("div",{className:"h-10 bg-gray-200 dark:bg-gray-700 rounded w-full"})]}),e("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[1,2,3,4].map(a=>s("div",{className:"h-40 bg-gray-100 dark:bg-gray-800/50 rounded-lg p-4",children:[e("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/2 mb-3"}),s("div",{className:"space-y-3",children:[e("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4"}),e("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/2"})]})]},a))})]})}):w.length===0?e("div",{className:"container px-3 sm:px-4 py-12 text-center",children:s("div",{className:"max-w-md mx-auto p-6 bg-muted/30 rounded-xl",children:[e("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center",children:e("svg",{className:"w-8 h-8 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),e("h1",{className:"text-xl sm:text-2xl font-bold mb-2 text-gray-900 dark:text-white",children:"No Upcoming Games"}),e("p",{className:"text-muted-foreground text-sm sm:text-base",children:t?"No games scheduled for the selected team.":"There are no scheduled games in the next 16 days."}),t&&e("button",{onClick:()=>n(""),className:"mt-4 text-sm font-medium text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 transition-colors",children:"Clear filters and show all games"})]})}):s("div",{className:"container px-3 sm:px-4 py-4 sm:py-6",children:[e("h1",{className:"text-2xl sm:text-3xl font-bold mb-4 sm:mb-6 px-2 sm:px-0",children:"Upcoming Games"}),e("div",{className:"sticky top-16 z-10 bg-background/95 backdrop-blur-sm px-2 py-3 -mx-3 sm:mx-0 sm:px-0 sm:static sm:mb-6",children:e("div",{className:"max-w-md",children:s("label",{className:"block",children:[e("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1 block",children:"Filter by Team"}),s("select",{value:t,onChange:G,className:"w-full border border-gray-300 dark:border-gray-700 rounded-lg px-4 py-2.5 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 text-sm sm:text-base shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all duration-200",children:[e("option",{value:"",children:"All Teams"}),h.map(a=>e("option",{value:a.id,children:a.city?`${a.city} ${a.name}`:a.name},a.id))]})]})})}),e("div",{className:"space-y-6 sm:space-y-8",children:j.map(({date:a,games:f})=>s("div",{className:"space-y-3 sm:space-y-4",children:[e("h2",{className:"text-lg sm:text-xl font-semibold px-2 sm:px-0",children:W(a.toString())}),e("div",{className:"grid grid-cols-2 gap-2 sm:gap-3 md:gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:f.map(u=>{const c=l.includes("soccer")?"soccer":l.includes("basketball")?"basketball":l.includes("football")?"football":l.includes("baseball")?"baseball":l.includes("hockey")?"hockey":"soccer",T=d=>{if(k[d])return k[d];const z=Object.values(L).find(O=>O.external_id.toString()===d),A=c.includes("soccer")?"soccer":c.includes("basketball")?"basketball":c.includes("baseball")?"baseball_mlb":c.includes("hockey")?"icehockey_nhl":"soccer",F={id:d,name:d,abbreviation:d.substring(0,3).toUpperCase(),sport:A,external_id:"0",city:"",logo_url:N[c],wins:0,losses:0,primary_color:"#1E40AF",secondary_color:"#3B82F6",record:"0-0"};return z||F},B=T(u.home_team_id),U=T(u.away_team_id),E=N[c]||N.soccer;return e(K,{game:u,homeTeam:B,awayTeam:U,defaultLogo:E},u.id)})})]},a.toString()))}),s("div",{className:"sticky bottom-0 left-0 right-0 bg-background/90 backdrop-blur-sm border-t border-gray-200 dark:border-gray-800 py-3 px-4 -mx-3 sm:mx-0 sm:border-t-0 sm:bg-transparent sm:relative sm:py-6 sm:px-0",children:[s("div",{className:"flex flex-col sm:flex-row justify-center items-center gap-3 sm:gap-4",children:[r>0&&s(_,{variant:"outline",size:"sm",onClick:P,disabled:g,className:"w-full sm:w-auto justify-center sm:justify-start px-4 py-2 text-sm",children:[e(H,{className:"h-4 w-4 mr-1"}),e("span",{children:"Previous"})]}),s("div",{className:"text-sm text-gray-500 dark:text-gray-400 px-2",children:["Page ",r+1]}),s(_,{variant:"outline",size:"sm",onClick:M,disabled:!D||g,className:"w-full sm:w-auto justify-center sm:justify-start px-4 py-2 text-sm",children:[e("span",{children:"Next"}),e(V,{className:"h-4 w-4 ml-1"})]})]}),g&&s("div",{className:"flex justify-center items-center mt-3 sm:absolute sm:right-0 sm:top-1/2 sm:-translate-y-1/2",children:[e("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-primary mr-2"}),e("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Loading..."})]})]})]})};export{te as default};
//# sourceMappingURL=UpcomingGames-yMeqcSmE.js.map
