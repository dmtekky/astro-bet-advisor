{"version":3,"file":"ResetPassword-DvRa_a06.js","sources":["../../src/pages/ResetPassword.tsx"],"sourcesContent":["import { useState } from 'react';\nimport { useNavigate, useSearchParams, Link } from 'react-router-dom';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Alert, AlertDescription } from '@/components/ui/alert';\nimport { ReloadIcon, ArrowLeftIcon } from '@radix-ui/react-icons';\nimport AuthLayout from '@/components/auth/AuthLayout';\nimport { useAuth } from '@/contexts/AuthContext';\n\nconst ResetPassword = () => {\n  const [newPassword, setNewPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [message, setMessage] = useState('');\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [searchParams] = useSearchParams();\n  const navigate = useNavigate();\n  const { updatePassword } = useAuth();\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError('');\n    setMessage('');\n    \n    if (newPassword !== confirmPassword) {\n      return setError('Passwords do not match');\n    }\n\n    try {\n      setLoading(true);\n      \n      // Update the user's password\n      const { error } = await updatePassword(newPassword);\n      if (error) throw error;\n      \n      setMessage('Your password has been reset successfully. You can now sign in with your new password.');\n      \n      // Redirect to login after a short delay\n      setTimeout(() => {\n        navigate('/login');\n      }, 3000);\n    } catch (error: any) {\n      setError(error.message || 'Failed to reset password');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <AuthLayout\n      title=\"Reset your password\"\n      subtitle=\"Enter a new password for your account\"\n      footerText=\"Remember your password?\"\n      footerLink=\"/login\"\n      footerLinkText=\"Back to sign in\"\n    >\n      <div className=\"space-y-6\">\n        {message && (\n          <Alert>\n            <AlertDescription>{message}</AlertDescription>\n          </Alert>\n        )}\n        \n        {error && (\n          <Alert variant=\"destructive\">\n            <AlertDescription>{error}</AlertDescription>\n          </Alert>\n        )}\n\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"new-password\">New Password</Label>\n            <Input\n              id=\"new-password\"\n              type=\"password\"\n              placeholder=\"••••••••\"\n              value={newPassword}\n              onChange={(e) => setNewPassword(e.target.value)}\n              required\n              minLength={6}\n              disabled={loading}\n              className=\"h-10\"\n            />\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"confirm-password\">Confirm New Password</Label>\n            <Input\n              id=\"confirm-password\"\n              type=\"password\"\n              placeholder=\"••••••••\"\n              value={confirmPassword}\n              onChange={(e) => setConfirmPassword(e.target.value)}\n              required\n              minLength={6}\n              disabled={loading}\n              className=\"h-10\"\n            />\n          </div>\n\n          <Button type=\"submit\" className=\"w-full\" disabled={loading}>\n            {loading ? (\n              <>\n                <ReloadIcon className=\"mr-2 h-4 w-4 animate-spin\" />\n                Resetting password...\n              </>\n            ) : (\n              'Reset password'\n            )}\n          </Button>\n        </form>\n\n        <div className=\"text-center text-sm\">\n          <Link\n            to=\"/login\"\n            className=\"inline-flex items-center text-sm font-medium text-primary hover:underline\"\n          >\n            <ArrowLeftIcon className=\"mr-1 h-4 w-4\" />\n            Back to sign in\n          </Link>\n        </div>\n      </div>\n    </AuthLayout>\n  );\n};\n\nexport default ResetPassword;\n"],"names":["ResetPassword","newPassword","setNewPassword","useState","confirmPassword","setConfirmPassword","message","setMessage","error","setError","loading","setLoading","useSearchParams","navigate","useNavigate","updatePassword","useAuth","jsx","AuthLayout","jsxs","Alert","AlertDescription","e","Label","Input","Button","Fragment","ReloadIcon","Link","ArrowLeftIcon"],"mappings":"2TAUA,MAAMA,EAAgB,IAAM,CAC1B,KAAM,CAACC,EAAaC,CAAc,EAAIC,EAAAA,SAAS,EAAE,EAC3C,CAACC,EAAiBC,CAAkB,EAAIF,EAAAA,SAAS,EAAE,EACnD,CAACG,EAASC,CAAU,EAAIJ,EAAAA,SAAS,EAAE,EACnC,CAACK,EAAOC,CAAQ,EAAIN,EAAAA,SAAS,EAAE,EAC/B,CAACO,EAASC,CAAU,EAAIR,EAAAA,SAAS,EAAK,EACrBS,EAAgB,EACvC,MAAMC,EAAWC,EAAY,EACvB,CAAE,eAAAC,CAAe,EAAIC,EAAQ,EAgCjC,OAAAC,EAACC,EAAA,CACC,MAAM,sBACN,SAAS,wCACT,WAAW,0BACX,WAAW,SACX,eAAe,kBAEf,SAAAC,EAAC,MAAI,CAAA,UAAU,YACZ,SAAA,CAAAb,GACEW,EAAAG,EAAA,CACC,SAACH,EAAAI,EAAA,CAAkB,UAAQ,CAAA,EAC7B,EAGDb,KACEY,EAAM,CAAA,QAAQ,cACb,SAACH,EAAAI,EAAA,CAAkB,WAAM,CAC3B,CAAA,EAGDF,EAAA,OAAA,CAAK,SAlDS,MAAOG,GAAuB,CAKjD,GAJAA,EAAE,eAAe,EACjBb,EAAS,EAAE,EACXF,EAAW,EAAE,EAETN,IAAgBG,EAClB,OAAOK,EAAS,wBAAwB,EAGtC,GAAA,CACFE,EAAW,EAAI,EAGf,KAAM,CAAE,MAAAH,CAAU,EAAA,MAAMO,EAAed,CAAW,EAClD,GAAIO,EAAaA,MAAAA,EAEjBD,EAAW,wFAAwF,EAGnG,WAAW,IAAM,CACfM,EAAS,QAAQ,GAChB,GAAI,QACAL,EAAY,CACVA,EAAAA,EAAM,SAAW,0BAA0B,CAAA,QACpD,CACAG,EAAW,EAAK,CAAA,CAEpB,EAuBoC,UAAU,YACtC,SAAA,CAACQ,EAAA,MAAA,CAAI,UAAU,YACb,SAAA,CAACF,EAAAM,EAAA,CAAM,QAAQ,eAAe,SAAY,eAAA,EAC1CN,EAACO,EAAA,CACC,GAAG,eACH,KAAK,WACL,YAAY,WACZ,MAAOvB,EACP,SAAWqB,GAAMpB,EAAeoB,EAAE,OAAO,KAAK,EAC9C,SAAQ,GACR,UAAW,EACX,SAAUZ,EACV,UAAU,MAAA,CAAA,CACZ,EACF,EAEAS,EAAC,MAAI,CAAA,UAAU,YACb,SAAA,CAACF,EAAAM,EAAA,CAAM,QAAQ,mBAAmB,SAAoB,uBAAA,EACtDN,EAACO,EAAA,CACC,GAAG,mBACH,KAAK,WACL,YAAY,WACZ,MAAOpB,EACP,SAAWkB,GAAMjB,EAAmBiB,EAAE,OAAO,KAAK,EAClD,SAAQ,GACR,UAAW,EACX,SAAUZ,EACV,UAAU,MAAA,CAAA,CACZ,EACF,EAEAO,EAACQ,GAAO,KAAK,SAAS,UAAU,SAAS,SAAUf,EAChD,SAAAA,EAEGS,EAAAO,EAAA,CAAA,SAAA,CAACT,EAAAU,EAAA,CAAW,UAAU,2BAA4B,CAAA,EAAE,uBAAA,CAEtD,CAAA,EAEA,gBAEJ,CAAA,CAAA,EACF,EAEAV,EAAC,MAAI,CAAA,UAAU,sBACb,SAAAE,EAACS,EAAA,CACC,GAAG,SACH,UAAU,4EAEV,SAAA,CAACX,EAAAY,EAAA,CAAc,UAAU,cAAe,CAAA,EAAE,iBAAA,CAAA,CAAA,CAG9C,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAEJ"}