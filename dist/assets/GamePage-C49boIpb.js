import{c as M,b as e,j as a,m as s,S as j,e as E,u as L,r as x,B as y,d as A,s as F}from"./main-BDfILoKw.js";import{S as $}from"./skeleton-DHL3vfoL.js";import{d as H}from"./card-CC9ncavt.js";import{T as O}from"./trophy-CWWkOu6-.js";import{I as W}from"./info-Mrz3RB_M.js";import{C as N}from"./chevron-left-CwexNKVM.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=M("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),U=({count:c=20})=>e("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(c)].map((o,i)=>{const g=Math.random()*4+1,p=Math.random()*100,m=Math.random()*100,d=Math.random()*2,b=3+Math.random()*4;return e(s.div,{className:"absolute rounded-full bg-white/30",style:{width:`${g}px`,height:`${g}px`,left:`${p}%`,top:`${m}%`,boxShadow:"0 0 10px 2px rgba(199, 210, 254, 0.7)"},animate:{y:[0,-50,0],opacity:[.2,.8,.2]},transition:{duration:b,delay:d,repeat:1/0,repeatType:"reverse",ease:"easeInOut"}},i)})}),C=()=>e(s.div,{className:"absolute -right-12 -top-12 w-24 h-24 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 opacity-20",animate:{scale:[1,1.2,1],opacity:[.1,.3,.1]},transition:{duration:8,repeat:1/0,repeatType:"reverse",ease:"easeInOut"}}),v={hidden:{opacity:0,y:20},visible:c=>({opacity:1,y:0,transition:{delay:c*.2,type:"spring",stiffness:100,damping:15}})},V=({expectedWinner:c,winnerLogo:o,topPlayers:i,keyAspects:g,gameInsights:p})=>e(s.div,{className:"relative w-full overflow-hidden rounded-2xl",animate:{boxShadow:["0 0 15px rgba(99, 102, 241, 0.3)","0 0 25px rgba(139, 92, 246, 0.4)","0 0 15px rgba(99, 102, 241, 0.3)"]},transition:{duration:4,repeat:1/0,repeatType:"reverse",ease:"easeInOut"},children:a(H,{className:"relative w-full h-full overflow-hidden bg-gradient-to-br from-indigo-900 via-purple-900 to-gray-900 border border-indigo-700/50 rounded-2xl transition-all duration-500 group",children:[e(U,{count:30}),e(C,{}),e("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-indigo-500/10 via-purple-500/5 to-transparent"}),a("div",{className:"relative z-10 p-4 md:p-8",children:[a("div",{className:"mb-6 md:mb-8",children:[e(s.div,{className:"relative inline-block",initial:{opacity:0,x:-20},animate:{opacity:1,x:0,textShadow:["0 0 5px rgba(255, 140, 0, 0.5)","0 0 15px rgba(255, 69, 0, 0.7)","0 0 5px rgba(255, 140, 0, 0.5)"]},transition:{duration:.5,textShadow:{duration:3,repeat:1/0,repeatType:"reverse"}},children:e("h2",{className:"text-4xl md:text-5xl font-black tracking-tight text-left text-orange-500",children:a("span",{className:"relative",children:[e("span",{className:"absolute -inset-1 bg-orange-500 rounded-lg blur opacity-20"}),e("span",{className:"relative",children:"GNEE"})]})})}),e(s.p,{className:"text-sm md:text-base text-gray-300 mt-1 ml-1",initial:{opacity:0},animate:{opacity:.8},transition:{delay:.3,duration:.5},children:"AI powered game insights"})]}),a("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a(s.div,{className:"p-4 rounded-lg bg-yellow-400 text-gray-900 flex flex-col items-start",custom:0,initial:"hidden",animate:"visible",variants:v,children:[a("div",{className:"flex items-center mb-2",children:[e(O,{className:"h-5 w-5 mr-2"}),e("span",{className:"font-bold uppercase text-sm",children:"Winner"})]}),o&&e("img",{src:o,alt:"winner logo",className:"w-12 h-12 mb-2 rounded-full bg-white p-1"}),e("span",{className:"text-xl font-bold",children:c}),e("div",{className:"w-full mt-3 bg-gray-200 rounded-full h-1.5",children:e("div",{className:"bg-gray-900 h-1.5 rounded-full",style:{width:"75%"}})}),e("p",{className:"text-xs text-gray-700 mt-1",children:"75% confidence"})]}),a(s.div,{className:"p-4 rounded-lg bg-cyan-400 text-gray-900 flex flex-col",custom:1,initial:"hidden",animate:"visible",variants:v,children:[a("div",{className:"flex items-center mb-3",children:[e(B,{className:"h-5 w-5 mr-2"}),e("span",{className:"font-bold uppercase text-sm",children:"Top Players"})]}),e("ul",{className:"space-y-3",children:i.slice(0,3).map((m,d)=>a("li",{className:"relative",children:[a("div",{className:"flex justify-between items-center",children:[a("span",{className:"font-medium",children:[d+1,". ",m.name]}),a("span",{className:"font-mono font-semibold",children:[m.astroInfluence,"%"]})]}),e("div",{className:"w-full bg-gray-200 rounded-full h-1.5 mt-1",children:e(s.div,{className:"bg-gray-900 h-1.5 rounded-full",initial:{width:0},animate:{width:`${m.astroInfluence}%`},transition:{duration:1,delay:.1*d}})})]},d))})]}),a(s.div,{className:"p-4 rounded-lg bg-purple-400 text-gray-900 flex flex-col",custom:2,initial:"hidden",animate:"visible",variants:v,children:[a("div",{className:"flex items-center mb-3",children:[e(j,{className:"h-5 w-5 mr-2"}),e("span",{className:"font-bold uppercase text-sm",children:"Astro Insights"})]}),e("ul",{className:"space-y-2",children:g.map((m,d)=>a(s.li,{className:"text-sm flex items-start",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.1*d},children:[e("span",{className:"text-yellow-900 mr-2",children:"•"}),e("span",{children:m})]},d))})]}),a(s.div,{className:"p-4 rounded-lg bg-green-400 text-gray-900 flex flex-col",custom:3,initial:"hidden",animate:"visible",variants:v,children:[a("div",{className:"flex items-center mb-3",children:[e(W,{className:"h-5 w-5 mr-2"}),e("span",{className:"font-bold uppercase text-sm",children:"Game Insights"})]}),e("ul",{className:"space-y-2",children:p.map((m,d)=>a(s.li,{className:"text-sm flex items-start",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.1*d},children:[e("span",{className:"text-green-900 mr-2",children:"•"}),e("span",{children:m})]},d))})]})]}),e("p",{className:"mt-6 text-xs text-gray-400 text-center",children:"Predictions based on astrology • For entertainment purposes only"})]})]})}),w=()=>{const c=Array.from({length:50}).map((o,i)=>({id:i,size:Math.random()*3+1,top:`${Math.random()*100}%`,left:`${Math.random()*100}%`,delay:Math.random()*5}));return e("div",{className:"fixed inset-0 overflow-hidden pointer-events-none z-0",children:c.map(o=>e(s.div,{className:"absolute rounded-full bg-white",style:{width:o.size,height:o.size,top:o.top,left:o.left,boxShadow:`0 0 ${o.size*2}px ${o.size}px rgba(255, 255, 255, 0.7)`},initial:{opacity:0},animate:{opacity:[0,1,.5,1,0],scale:[1,1.2,1,1.1,1]},transition:{duration:5+Math.random()*3,repeat:1/0,delay:o.delay,ease:"easeInOut"}},o.id))})},Q=()=>{var k,I;const{gameId:c}=E(),o=L(),[i,g]=x.useState(null),[p,m]=x.useState(!0),[d,b]=x.useState([]),[D,_]=x.useState([]);x.useEffect(()=>{(async()=>{var u,h;if(console.log("[GamePage] Fetching game details for gameId:",c),!!c)try{m(!0);const{data:l,error:T}=await F.from("games").select(`
            *,
            home_team:teams!home_team_id(*),
            away_team:teams!away_team_id(*),
            venue:venue_id(*),
            league:league_id(*)
          `).eq("id",c).single();if(T)throw T;if(l){console.log("Raw game data from database:",l);const f={id:l.id,home_team_id:l.home_team_id,away_team_id:l.away_team_id,home_team:l.home_team||null,away_team:l.away_team||null,venue:l.venue||null,league:l.league||null,external_id:l.external_id||null,score_home:l.score_home||null,score_away:l.score_away||null,sport:l.sport||"baseball",start_time:l.start_time,game_date:l.game_date,game_time_utc:l.game_time_utc,game_time_local:l.game_time_local,status:l.status||"scheduled",created_at:l.created_at||new Date().toISOString(),updated_at:l.updated_at||new Date().toISOString()};g(f),(u=f.home_team)!=null&&u.abbreviation&&((h=f.away_team)!=null&&h.abbreviation)&&(console.log("[GamePage] Would fetch rosters for:",{home:f.home_team.abbreviation,away:f.away_team.abbreviation}),b([]),_([]))}else console.error("Home or away team details or abbreviations are missing from gameData:",l),b([]),_([])}catch(l){console.error("Error fetching game details:",l)}finally{m(!1)}})()},[c]);const G=n=>{try{const u=n.game_time_local||n.game_time_utc||n.game_date||n.start_time;if(!u)return console.error("No timestamp available in game data"),{date:new Date().toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"}),time:"Time not available"};const h=new Date(u);return isNaN(h.getTime())?(console.error("Invalid timestamp in game data:",u),{date:new Date().toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"}),time:"Invalid time"}):{date:h.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"}),time:h.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})}}catch(u){return console.error("Error formatting game date:",u),{date:"Date not available",time:"Time not available"}}};if(p)return a("div",{className:"relative min-h-screen bg-gradient-to-b from-gray-950 to-blue-950",children:[e(w,{}),a("div",{className:"container mx-auto py-8 px-4 md:px-6 relative z-10",children:[e("div",{className:"flex justify-between items-center mb-8",children:a(y,{variant:"ghost",size:"sm",className:"mb-4 text-white hover:bg-white/10",children:[e(N,{className:"mr-2 h-4 w-4"})," Back to Games"]})}),e(s.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"grid md:grid-cols-3 gap-6",children:[1,2,3].map(n=>e($,{className:"h-96 w-full rounded-lg bg-white/5"},n))}),e(s.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.2},className:"mt-8",children:e($,{className:"h-64 w-full rounded-lg bg-white/5"})})]})]});if(!i)return a("div",{className:"relative min-h-screen bg-gradient-to-b from-gray-950 to-blue-950",children:[e(w,{}),a("div",{className:"container mx-auto px-4 py-8 relative z-10",children:[a(y,{variant:"ghost",onClick:()=>o(-1),className:"mb-4 text-white hover:bg-white/10",children:[e(N,{className:"mr-2 h-4 w-4"})," Back to Games"]}),a(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7},className:"text-center py-12",children:[e("h2",{className:"text-4xl font-bold mb-4 text-white",children:"Game Not Found"}),e("p",{className:"text-blue-200",children:"The requested game could not be found in this universe."}),e("div",{className:"mt-8",children:e("div",{className:"h-16 w-16 rounded-full bg-yellow-300/20 mx-auto animate-pulse"})})]})]})]});const{home_team:t,away_team:r}=i;console.log("Game object:",{game_date:i.game_date,game_time_local:i.game_time_local,game_time_utc:i.game_time_utc,start_time:i.start_time,allFields:Object.keys(i)});const S=G(i),P=d.slice(0,3),z=D.slice(0,3);return a("div",{className:"relative min-h-screen bg-gradient-to-b from-gray-950 to-blue-950",children:[e(w,{}),a("div",{className:"container mx-auto px-4 py-8 relative z-10",children:[e(s.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},children:a(y,{variant:"ghost",onClick:()=>o(-1),className:"mb-6 text-white hover:bg-white/10 transition-all",children:[e(N,{className:"mr-2 h-4 w-4"}),"Back to Games"]})}),((k=i.venue)==null?void 0:k.name)&&e(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7,delay:.2},className:"bg-gradient-to-r from-indigo-900/40 to-purple-900/40 backdrop-blur-sm rounded-xl p-6 mb-8 border border-indigo-500/30 shadow-lg shadow-indigo-500/20",children:a("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between",children:[a("div",{className:"flex items-center",children:[e("div",{className:"mr-4 bg-indigo-500/20 p-3 rounded-full",children:e("div",{className:"h-6 w-6 bg-indigo-300 rounded-full"})}),a("div",{children:[e("h2",{className:"text-3xl font-bold mb-1 text-white",children:i.venue.name}),a("p",{className:"text-blue-200 flex items-center",children:[i.venue.city,", ",i.venue.state]})]})]}),a(s.div,{whileHover:{scale:1.05},className:"mt-4 md:mt-0 bg-indigo-900/50 backdrop-blur-sm px-5 py-2.5 rounded-full text-sm font-medium border border-indigo-500/30 shadow-md",children:[e("span",{className:`inline-block h-3 w-3 rounded-full mr-2 ${i.status==="scheduled"?"bg-yellow-400 animate-pulse":i.status==="in_progress"?"bg-green-400 animate-pulse":"bg-blue-400"}`}),e("span",{className:"text-white",children:i.status==="scheduled"?"Upcoming":i.status==="in_progress"?"Live":((I=i.status)==null?void 0:I.replace("_"," ").toLowerCase())||"Scheduled"})]})]})}),e("div",{className:"bg-card/90 rounded-xl border mb-8 overflow-hidden",children:a("div",{className:"p-6",children:[a("div",{className:"text-center mb-6",children:[e("h1",{className:"text-4xl font-extrabold mb-2 bg-gradient-to-r from-primary to-purple-600 bg-clip-text text-transparent",children:i.league_name||"Game Details"}),e("div",{className:"h-1 w-24 bg-gradient-to-r from-primary to-purple-600 mx-auto mb-3 rounded-full"}),a("div",{className:"text-muted-foreground text-sm font-medium",children:[S.date," • ",S.time]})]}),a("div",{className:"grid grid-cols-3 items-center gap-2 sm:gap-4 my-4 sm:my-8",children:[e("div",{className:"flex flex-col items-center",children:a(A,{to:`/teams/${t==null?void 0:t.id}`,className:"group block w-full",children:[a("div",{className:"relative w-20 h-20 sm:w-28 sm:h-28 md:w-32 md:h-32 mx-auto mb-2 sm:mb-3",children:[e("div",{className:"absolute inset-0 rounded-full bg-transparent group-hover:bg-gray-100 dark:group-hover:bg-gray-800 transition-colors duration-300 -z-10"}),e("div",{className:"w-full h-full transition-all duration-300 group-hover:scale-105",children:e("img",{src:(t==null?void 0:t.logo_url)||"/team-placeholder.svg",alt:`${t==null?void 0:t.name} logo`,className:"object-contain w-full h-full",onError:n=>{n.currentTarget.src="/team-placeholder.svg"}})})]}),e("h2",{className:"text-4xl font-bold text-center text-indigo-900 transition-all duration-300",style:{fontFamily:'"Arial Black", Impact, "Arial Narrow", Arial, sans-serif',textTransform:"uppercase",letterSpacing:"-1px",WebkitTextStroke:"1px rgba(0,0,0,0.3)",textShadow:"2px 2px 0 rgba(0,0,0,0.15), -1px -1px 0 #fff, 1px -1px 0 #fff, -1px 1px 0 #fff, 1px 1px 0 #fff",fontWeight:"900"},children:(t==null?void 0:t.name)||"HOME"}),e("p",{className:"text-muted-foreground text-sm text-center",children:(t==null?void 0:t.record)||"0-0"}),i.score_home!==void 0&&e("div",{className:"mt-2 text-3xl font-bold text-center",children:i.score_home})]})}),e("div",{className:"my-0",children:e("div",{className:"bg-muted/50 rounded-full w-10 h-10 sm:w-14 sm:h-14 md:w-16 md:h-16 flex items-center justify-center mx-auto",children:e("span",{className:"text-lg sm:text-xl md:text-2xl font-bold",children:"VS"})})}),e("div",{className:"flex flex-col items-center",children:a(A,{to:`/teams/${r==null?void 0:r.id}`,className:"group block w-full",children:[a("div",{className:"relative w-20 h-20 sm:w-28 sm:h-28 md:w-32 md:h-32 mx-auto mb-2 sm:mb-3",children:[e("div",{className:"absolute inset-0 rounded-full bg-transparent group-hover:bg-gray-100 dark:group-hover:bg-gray-800 transition-colors duration-300 -z-10"}),e("div",{className:"w-full h-full transition-all duration-300 group-hover:scale-105",children:e("img",{src:(r==null?void 0:r.logo_url)||"/team-placeholder.svg",alt:`${r==null?void 0:r.name} logo`,className:"object-contain w-full h-full",onError:n=>{n.currentTarget.src="/team-placeholder.svg"}})})]}),e("h2",{className:"text-4xl font-bold text-center text-indigo-900 transition-all duration-300",style:{fontFamily:'"Arial Black", Impact, "Arial Narrow", Arial, sans-serif',textTransform:"uppercase",letterSpacing:"-1px",WebkitTextStroke:"1px rgba(0,0,0,0.3)",textShadow:"2px 2px 0 rgba(0,0,0,0.15), -1px -1px 0 #fff, 1px -1px 0 #fff, -1px 1px 0 #fff, 1px 1px 0 #fff",fontWeight:"900"},children:(r==null?void 0:r.name)||"AWAY"}),e("p",{className:"text-muted-foreground text-sm text-center",children:(r==null?void 0:r.record)||"0-0"}),i.score_away!==void 0&&e("div",{className:"mt-2 text-3xl font-bold text-center",children:i.score_away})]})})]})]})}),e("section",{className:"mt-12 mb-8",children:e(V,{expectedWinner:(t==null?void 0:t.name)||"Home Team",winnerLogo:t==null?void 0:t.logo_url,topPlayers:[...P.map(n=>({name:n.name,team:(t==null?void 0:t.name)||"Home Team",astroInfluence:50})),...z.map(n=>({name:n.name,team:(r==null?void 0:r.name)||"Away Team",astroInfluence:45}))].sort((n,u)=>u.astroInfluence-n.astroInfluence).slice(0,3),keyAspects:[`Strong planetary alignment favors ${(t==null?void 0:t.name)||"home team"} hitters tonight`,`${(r==null?void 0:r.name)||"Away team"} pitchers showing fatigue in recent charts`,"Venue conditions suggest higher scoring game than usual"],gameInsights:[`${(t==null?void 0:t.name)||"Home team"} has won 4 of their last 5 games`,`${(r==null?void 0:r.name)||"Away team"} is 3-2 on the road this season`,"Expected temperature: 72°F with clear skies"]})})]})]})};export{Q as default};
//# sourceMappingURL=GamePage-C49boIpb.js.map
